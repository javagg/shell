# Logfile created on Thu Dec 09 20:33:44 +0800 2010** has_many_polymorphs: rails environment detected
** has_many_polymorphs: loaded ok
** has_many_polymorphs: autoload hook invoked
** has_many_polymorphs: autoload hook invoked
ActiveScaffold: extending RESTful routes for user_ycroles
ActiveScaffold: extending RESTful routes for ycroles
ActiveScaffold: extending RESTful routes for documents
ActiveScaffold: extending RESTful routes for contracts
ActiveScaffold: extending RESTful routes for payments
ActiveScaffold: extending RESTful routes for expiration_remindings
ActiveScaffold: extending RESTful routes for licenses
ActiveScaffold: extending RESTful routes for archives
ActiveScaffold: extending RESTful routes for settings
ActiveScaffold: extending RESTful routes for users
ActiveScaffold: extending RESTful routes for expiration_remindings
ActiveScaffold: extending RESTful routes for payment_remindings
ActiveScaffold: extending RESTful routes for audits
** has_many_polymorphs: autoload hook invoked
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing SiteController#index (for 127.0.0.1 at 2010-12-09 20:33:48) [GET]
  Parameters: {"action"=>"index", "controller"=>"site"}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2010-12-09 12:33:48', `perishable_token` = 'zOBS1D8PXyVOOzgsvT8', `last_request_at` = '2010-12-09 12:33:48' WHERE `id` = 1[0m
  [4;36;1mSQL (42.0ms)[0m   [0;1mCOMMIT[0m
Rendering template within layouts/application
Rendering site/index
Completed in 265ms (View: 57, DB: 45) | 200 OK [http://localhost/]
Expiration reminding check...
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mArchive Load (0.2ms)[0m   [0mSELECT * FROM `archives` [0m
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` [0m
  [4;35;1mContract Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `contracts`[0m
  [4;36;1mLicense Load (0.1ms)[0m   [0;1mSELECT * FROM `licenses` [0m
...done
Payment reminding check...
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` [0m
  [4;36;1mPaymentPeriod Load (0.1ms)[0m   [0;1mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 1) [0m
  [4;35;1mPaymentPeriod Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `payment_periods`[0m
  [4;36;1mSettings Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `settings`[0m
  [4;35;1mSettings Load (0.1ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'payment_reminding_days') LIMIT 1[0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.* FROM `users` INNER JOIN `payment_remindings` ON `users`.id = `payment_remindings`.user_id WHERE ((`payment_remindings`.contract_id = 1)) [0m
Sent mail to no3@example.com

Date: Thu, 9 Dec 2010 20:33:57 +0800
From: forshell12345@sohu.com
To: no3@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

Expiration reminding check...
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mArchive Load (0.2ms)[0m   [0;1mSELECT * FROM `archives` [0m
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` [0m
  [4;36;1mLicense Load (0.1ms)[0m   [0;1mSELECT * FROM `licenses` [0m
...done
Payment reminding check...
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` [0m
  [4;36;1mPaymentPeriod Load (0.1ms)[0m   [0;1mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 1) [0m
  [4;35;1mSettings Load (0.1ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'payment_reminding_days') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT `users`.* FROM `users` INNER JOIN `payment_remindings` ON `users`.id = `payment_remindings`.user_id WHERE ((`payment_remindings`.contract_id = 1)) [0m
Sent mail to no3@example.com

Date: Thu, 9 Dec 2010 20:34:07 +0800
From: forshell12345@sohu.com
To: no3@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

Expiration reminding check...
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mArchive Load (0.2ms)[0m   [0mSELECT * FROM `archives` [0m
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` [0m
  [4;35;1mLicense Load (0.1ms)[0m   [0mSELECT * FROM `licenses` [0m
...done
Payment reminding check...
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` [0m
  [4;35;1mPaymentPeriod Load (0.1ms)[0m   [0mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 1) [0m
  [4;36;1mSettings Load (0.1ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`var` = 'payment_reminding_days') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT `users`.* FROM `users` INNER JOIN `payment_remindings` ON `users`.id = `payment_remindings`.user_id WHERE ((`payment_remindings`.contract_id = 1)) [0m
Sent mail to no3@example.com

Date: Thu, 9 Dec 2010 20:34:17 +0800
From: forshell12345@sohu.com
To: no3@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

Expiration reminding check...
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mArchive Load (0.2ms)[0m   [0;1mSELECT * FROM `archives` [0m
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` [0m
  [4;36;1mLicense Load (0.1ms)[0m   [0;1mSELECT * FROM `licenses` [0m
...done
Payment reminding check...
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` [0m
  [4;36;1mPaymentPeriod Load (0.1ms)[0m   [0;1mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 1) [0m
  [4;35;1mSettings Load (0.1ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'payment_reminding_days') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT `users`.* FROM `users` INNER JOIN `payment_remindings` ON `users`.id = `payment_remindings`.user_id WHERE ((`payment_remindings`.contract_id = 1)) [0m
Sent mail to no3@example.com

Date: Thu, 9 Dec 2010 20:34:26 +0800
From: forshell12345@sohu.com
To: no3@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

Expiration reminding check...
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mArchive Load (0.1ms)[0m   [0mSELECT * FROM `archives` [0m
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` [0m
  [4;35;1mLicense Load (0.1ms)[0m   [0mSELECT * FROM `licenses` [0m
...done
Payment reminding check...
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` [0m
  [4;35;1mPaymentPeriod Load (0.1ms)[0m   [0mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 1) [0m
  [4;36;1mSettings Load (0.1ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`var` = 'payment_reminding_days') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT `users`.* FROM `users` INNER JOIN `payment_remindings` ON `users`.id = `payment_remindings`.user_id WHERE ((`payment_remindings`.contract_id = 1)) [0m
Sent mail to no3@example.com

Date: Thu, 9 Dec 2010 20:34:37 +0800
From: forshell12345@sohu.com
To: no3@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

Sent mail to no4@example.com

Date: Thu, 9 Dec 2010 20:34:43 +0800
From: forshell12345@sohu.com
To: no4@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

Expiration reminding check...
  [4;36;1mArchive Load (0.1ms)[0m   [0;1mSELECT * FROM `archives` [0m
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` [0m
  [4;36;1mLicense Load (0.1ms)[0m   [0;1mSELECT * FROM `licenses` [0m
...done
Payment reminding check...
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` [0m
  [4;36;1mPaymentPeriod Load (0.1ms)[0m   [0;1mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 1) [0m
  [4;35;1mSettings Load (0.1ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'payment_reminding_days') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT `users`.* FROM `users` INNER JOIN `payment_remindings` ON `users`.id = `payment_remindings`.user_id WHERE ((`payment_remindings`.contract_id = 1)) [0m
Sent mail to no3@example.com

Date: Thu, 9 Dec 2010 20:34:52 +0800
From: forshell12345@sohu.com
To: no3@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

Expiration reminding check...
  [4;35;1mArchive Load (0.2ms)[0m   [0mSELECT * FROM `archives` [0m
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` [0m
  [4;35;1mLicense Load (0.1ms)[0m   [0mSELECT * FROM `licenses` [0m
...done
Payment reminding check...
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` [0m
  [4;35;1mPaymentPeriod Load (0.1ms)[0m   [0mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 1) [0m
  [4;36;1mSettings Load (0.1ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`var` = 'payment_reminding_days') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT `users`.* FROM `users` INNER JOIN `payment_remindings` ON `users`.id = `payment_remindings`.user_id WHERE ((`payment_remindings`.contract_id = 1)) [0m
Sent mail to no3@example.com

Date: Thu, 9 Dec 2010 20:35:01 +0800
From: forshell12345@sohu.com
To: no3@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

Expiration reminding check...
Expiration reminding check...
  [4;36;1mArchive Load (0.1ms)[0m   [0;1mSELECT * FROM `archives` [0m
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` [0m
  [4;36;1mLicense Load (0.1ms)[0m   [0;1mSELECT * FROM `licenses` [0m
...done
Payment reminding check...
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` [0m
  [4;36;1mPaymentPeriod Load (0.1ms)[0m   [0;1mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 1) [0m
  [4;35;1mSettings Load (0.2ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'payment_reminding_days') LIMIT 1[0m
  [4;36;1mUser Load (6.1ms)[0m   [0;1mSELECT `users`.* FROM `users` INNER JOIN `payment_remindings` ON `users`.id = `payment_remindings`.user_id WHERE ((`payment_remindings`.contract_id = 1)) [0m
Sent mail to no3@example.com

Date: Thu, 9 Dec 2010 20:35:22 +0800
From: forshell12345@sohu.com
To: no3@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

Expiration reminding check...
  [4;35;1mPaymentPeriod Load (0.2ms)[0m   [0mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 2) [0m
  [4;36;1mPaymentPeriod Load (0.1ms)[0m   [0;1mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 3) [0m
...done
  [4;35;1mArchive Load (0.2ms)[0m   [0mSELECT * FROM `archives` [0m
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` [0m
  [4;35;1mLicense Load (0.1ms)[0m   [0mSELECT * FROM `licenses` [0m
...done
Payment reminding check...
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` [0m
  [4;35;1mPaymentPeriod Load (0.1ms)[0m   [0mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 1) [0m
  [4;36;1mSettings Load (0.1ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`var` = 'payment_reminding_days') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT `users`.* FROM `users` INNER JOIN `payment_remindings` ON `users`.id = `payment_remindings`.user_id WHERE ((`payment_remindings`.contract_id = 1)) [0m
Sent mail to no3@example.com

Date: Thu, 9 Dec 2010 20:35:32 +0800
From: forshell12345@sohu.com
To: no3@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

Expiration reminding check...
  [4;36;1mArchive Load (0.1ms)[0m   [0;1mSELECT * FROM `archives` [0m
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` [0m
  [4;36;1mLicense Load (0.1ms)[0m   [0;1mSELECT * FROM `licenses` [0m
...done
Payment reminding check...
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` [0m
  [4;36;1mPaymentPeriod Load (0.1ms)[0m   [0;1mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 1) [0m
  [4;35;1mSettings Load (0.2ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'payment_reminding_days') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT `users`.* FROM `users` INNER JOIN `payment_remindings` ON `users`.id = `payment_remindings`.user_id WHERE ((`payment_remindings`.contract_id = 1)) [0m
Sent mail to no3@example.com

Date: Thu, 9 Dec 2010 20:35:41 +0800
From: forshell12345@sohu.com
To: no3@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

Expiration reminding check...
Expiration reminding check...
  [4;35;1mArchive Load (0.1ms)[0m   [0mSELECT * FROM `archives` [0m
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` [0m
  [4;35;1mLicense Load (0.1ms)[0m   [0mSELECT * FROM `licenses` [0m
...done
Payment reminding check...
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` [0m
  [4;35;1mPaymentPeriod Load (0.1ms)[0m   [0mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 1) [0m
  [4;36;1mSettings Load (5.2ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`var` = 'payment_reminding_days') LIMIT 1[0m
  [4;35;1mUser Load (1.2ms)[0m   [0mSELECT `users`.* FROM `users` INNER JOIN `payment_remindings` ON `users`.id = `payment_remindings`.user_id WHERE ((`payment_remindings`.contract_id = 1)) [0m
Sent mail to no3@example.com

Date: Thu, 9 Dec 2010 20:36:02 +0800
From: forshell12345@sohu.com
To: no3@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

Sent mail to no4@example.com

Date: Thu, 9 Dec 2010 20:36:06 +0800
From: forshell12345@sohu.com
To: no4@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

Expiration reminding check...
  [4;36;1mArchive Load (0.2ms)[0m   [0;1mSELECT * FROM `archives` [0m
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` [0m
  [4;36;1mLicense Load (0.1ms)[0m   [0;1mSELECT * FROM `licenses` [0m
...done
Payment reminding check...
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` [0m
  [4;36;1mPaymentPeriod Load (0.1ms)[0m   [0;1mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 1) [0m
  [4;35;1mSettings Load (0.1ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'payment_reminding_days') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT `users`.* FROM `users` INNER JOIN `payment_remindings` ON `users`.id = `payment_remindings`.user_id WHERE ((`payment_remindings`.contract_id = 1)) [0m
Sent mail to no3@example.com

Date: Thu, 9 Dec 2010 20:36:07 +0800
From: forshell12345@sohu.com
To: no3@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

Sent mail to no4@example.com

Date: Thu, 9 Dec 2010 20:36:08 +0800
From: forshell12345@sohu.com
To: no4@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

  [4;35;1mPaymentPeriod Load (0.1ms)[0m   [0mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 2) [0m
  [4;36;1mPaymentPeriod Load (0.1ms)[0m   [0;1mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 3) [0m
...done
Expiration reminding check...
Sent mail to no4@example.com

Date: Thu, 9 Dec 2010 20:36:21 +0800
From: forshell12345@sohu.com
To: no4@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

  [4;35;1mArchive Load (0.1ms)[0m   [0mSELECT * FROM `archives` [0m
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` [0m
  [4;35;1mLicense Load (0.1ms)[0m   [0mSELECT * FROM `licenses` [0m
...done
Payment reminding check...
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` [0m
  [4;35;1mPaymentPeriod Load (0.1ms)[0m   [0mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 1) [0m
  [4;36;1mSettings Load (0.1ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`var` = 'payment_reminding_days') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT `users`.* FROM `users` INNER JOIN `payment_remindings` ON `users`.id = `payment_remindings`.user_id WHERE ((`payment_remindings`.contract_id = 1)) [0m
Sent mail to no3@example.com

Date: Thu, 9 Dec 2010 20:36:21 +0800
From: forshell12345@sohu.com
To: no3@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

Sent mail to no4@example.com

Date: Thu, 9 Dec 2010 20:36:24 +0800
From: forshell12345@sohu.com
To: no4@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

Expiration reminding check...
Expiration reminding check...
Sent mail to no4@example.com

Date: Thu, 9 Dec 2010 20:36:42 +0800
From: forshell12345@sohu.com
To: no4@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

  [4;36;1mPaymentPeriod Load (0.1ms)[0m   [0;1mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 2) [0m
  [4;35;1mPaymentPeriod Load (0.1ms)[0m   [0mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 3) [0m
...done
Expiration reminding check...
  [4;36;1mArchive Load (0.1ms)[0m   [0;1mSELECT * FROM `archives` [0m
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` [0m
  [4;36;1mLicense Load (0.1ms)[0m   [0;1mSELECT * FROM `licenses` [0m
...done
Payment reminding check...
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` [0m
  [4;36;1mPaymentPeriod Load (0.1ms)[0m   [0;1mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 1) [0m
  [4;35;1mSettings Load (0.1ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'payment_reminding_days') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT `users`.* FROM `users` INNER JOIN `payment_remindings` ON `users`.id = `payment_remindings`.user_id WHERE ((`payment_remindings`.contract_id = 1)) [0m
Sent mail to no3@example.com

Date: Thu, 9 Dec 2010 20:36:52 +0800
From: forshell12345@sohu.com
To: no3@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

Expiration reminding check...
Expiration reminding check...
  [4;35;1mPaymentPeriod Load (0.2ms)[0m   [0mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 2) [0m
  [4;36;1mPaymentPeriod Load (0.1ms)[0m   [0;1mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 3) [0m
...done
  [4;35;1mArchive Load (0.2ms)[0m   [0mSELECT * FROM `archives` [0m
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` [0m
  [4;35;1mLicense Load (0.1ms)[0m   [0mSELECT * FROM `licenses` [0m
...done
Payment reminding check...
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` [0m
  [4;35;1mPaymentPeriod Load (0.1ms)[0m   [0mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 1) [0m
  [4;36;1mSettings Load (0.1ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`var` = 'payment_reminding_days') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT `users`.* FROM `users` INNER JOIN `payment_remindings` ON `users`.id = `payment_remindings`.user_id WHERE ((`payment_remindings`.contract_id = 1)) [0m
Sent mail to no3@example.com

Date: Thu, 9 Dec 2010 20:37:11 +0800
From: forshell12345@sohu.com
To: no3@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

Sent mail to no4@example.com

Date: Thu, 9 Dec 2010 20:37:14 +0800
From: forshell12345@sohu.com
To: no4@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

Expiration reminding check...
  [4;36;1mArchive Load (0.1ms)[0m   [0;1mSELECT * FROM `archives` [0m
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` [0m
  [4;36;1mLicense Load (0.1ms)[0m   [0;1mSELECT * FROM `licenses` [0m
...done
Payment reminding check...
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` [0m
  [4;36;1mPaymentPeriod Load (0.1ms)[0m   [0;1mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 1) [0m
  [4;35;1mSettings Load (0.1ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'payment_reminding_days') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT `users`.* FROM `users` INNER JOIN `payment_remindings` ON `users`.id = `payment_remindings`.user_id WHERE ((`payment_remindings`.contract_id = 1)) [0m
Sent mail to no3@example.com

Date: Thu, 9 Dec 2010 20:37:17 +0800
From: forshell12345@sohu.com
To: no3@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

Sent mail to no4@example.com

Date: Thu, 9 Dec 2010 20:37:22 +0800
From: forshell12345@sohu.com
To: no4@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

  [4;35;1mPaymentPeriod Load (0.2ms)[0m   [0mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 2) [0m
  [4;36;1mPaymentPeriod Load (0.1ms)[0m   [0;1mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 3) [0m
...done
Expiration reminding check...
  [4;35;1mArchive Load (0.2ms)[0m   [0mSELECT * FROM `archives` [0m
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` [0m
  [4;35;1mLicense Load (0.1ms)[0m   [0mSELECT * FROM `licenses` [0m
...done
Payment reminding check...
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` [0m
  [4;35;1mPaymentPeriod Load (0.1ms)[0m   [0mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 1) [0m
  [4;36;1mSettings Load (0.1ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`var` = 'payment_reminding_days') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT `users`.* FROM `users` INNER JOIN `payment_remindings` ON `users`.id = `payment_remindings`.user_id WHERE ((`payment_remindings`.contract_id = 1)) [0m
Sent mail to no3@example.com

Date: Thu, 9 Dec 2010 20:37:27 +0800
From: forshell12345@sohu.com
To: no3@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

  [4;36;1mPaymentPeriod Load (0.2ms)[0m   [0;1mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 2) [0m
  [4;35;1mPaymentPeriod Load (0.1ms)[0m   [0mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 3) [0m
...done
Expiration reminding check...
Sent mail to no4@example.com

Date: Thu, 9 Dec 2010 20:37:37 +0800
From: forshell12345@sohu.com
To: no4@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

  [4;36;1mArchive Load (0.1ms)[0m   [0;1mSELECT * FROM `archives` [0m
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` [0m
  [4;36;1mLicense Load (0.1ms)[0m   [0;1mSELECT * FROM `licenses` [0m
...done
Payment reminding check...
  [4;35;1mContract Load (0.2ms)[0m   [0mSELECT * FROM `contracts` [0m
  [4;36;1mPaymentPeriod Load (0.1ms)[0m   [0;1mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 1) [0m
  [4;35;1mSettings Load (0.1ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'payment_reminding_days') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT `users`.* FROM `users` INNER JOIN `payment_remindings` ON `users`.id = `payment_remindings`.user_id WHERE ((`payment_remindings`.contract_id = 1)) [0m
Sent mail to no3@example.com

Date: Thu, 9 Dec 2010 20:37:41 +0800
From: forshell12345@sohu.com
To: no3@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

  [4;35;1mPaymentPeriod Load (0.2ms)[0m   [0mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 2) [0m
  [4;36;1mPaymentPeriod Load (0.1ms)[0m   [0;1mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 3) [0m
...done
Expiration reminding check...
  [4;35;1mArchive Load (0.2ms)[0m   [0mSELECT * FROM `archives` [0m
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` [0m
  [4;35;1mLicense Load (0.1ms)[0m   [0mSELECT * FROM `licenses` [0m
...done
Payment reminding check...
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` [0m
  [4;35;1mPaymentPeriod Load (0.1ms)[0m   [0mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 1) [0m
  [4;36;1mSettings Load (0.1ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`var` = 'payment_reminding_days') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT `users`.* FROM `users` INNER JOIN `payment_remindings` ON `users`.id = `payment_remindings`.user_id WHERE ((`payment_remindings`.contract_id = 1)) [0m
Sent mail to no3@example.com

Date: Thu, 9 Dec 2010 20:37:46 +0800
From: forshell12345@sohu.com
To: no3@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

Sent mail to no4@example.com

Date: Thu, 9 Dec 2010 20:37:48 +0800
From: forshell12345@sohu.com
To: no4@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

Expiration reminding check...
  [4;36;1mArchive Load (0.2ms)[0m   [0;1mSELECT * FROM `archives` [0m
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` [0m
  [4;36;1mLicense Load (0.1ms)[0m   [0;1mSELECT * FROM `licenses` [0m
...done
Payment reminding check...
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` [0m
  [4;36;1mPaymentPeriod Load (0.1ms)[0m   [0;1mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 1) [0m
  [4;35;1mSettings Load (0.1ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'payment_reminding_days') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT `users`.* FROM `users` INNER JOIN `payment_remindings` ON `users`.id = `payment_remindings`.user_id WHERE ((`payment_remindings`.contract_id = 1)) [0m
Sent mail to no3@example.com

Date: Thu, 9 Dec 2010 20:37:57 +0800
From: forshell12345@sohu.com
To: no3@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

Sent mail to no4@example.com

Date: Thu, 9 Dec 2010 20:38:05 +0800
From: forshell12345@sohu.com
To: no4@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

Expiration reminding check...
  [4;35;1mArchive Load (0.2ms)[0m   [0mSELECT * FROM `archives` [0m
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` [0m
  [4;35;1mLicense Load (0.1ms)[0m   [0mSELECT * FROM `licenses` [0m
...done
Payment reminding check...
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` [0m
  [4;35;1mPaymentPeriod Load (0.1ms)[0m   [0mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 1) [0m
  [4;36;1mSettings Load (0.1ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`var` = 'payment_reminding_days') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT `users`.* FROM `users` INNER JOIN `payment_remindings` ON `users`.id = `payment_remindings`.user_id WHERE ((`payment_remindings`.contract_id = 1)) [0m
Sent mail to no3@example.com

Date: Thu, 9 Dec 2010 20:38:12 +0800
From: forshell12345@sohu.com
To: no3@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

  [4;36;1mPaymentPeriod Load (0.1ms)[0m   [0;1mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 2) [0m
  [4;35;1mPaymentPeriod Load (0.1ms)[0m   [0mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 3) [0m
...done
  [4;36;1mPaymentPeriod Load (0.2ms)[0m   [0;1mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 2) [0m
  [4;35;1mPaymentPeriod Load (0.1ms)[0m   [0mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 3) [0m
...done
Expiration reminding check...
  [4;36;1mArchive Load (0.2ms)[0m   [0;1mSELECT * FROM `archives` [0m
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` [0m
  [4;36;1mLicense Load (0.1ms)[0m   [0;1mSELECT * FROM `licenses` [0m
...done
Payment reminding check...
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` [0m
  [4;36;1mPaymentPeriod Load (0.1ms)[0m   [0;1mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 1) [0m
  [4;35;1mSettings Load (0.1ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'payment_reminding_days') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT `users`.* FROM `users` INNER JOIN `payment_remindings` ON `users`.id = `payment_remindings`.user_id WHERE ((`payment_remindings`.contract_id = 1)) [0m
Sent mail to no3@example.com

Date: Thu, 9 Dec 2010 20:38:17 +0800
From: forshell12345@sohu.com
To: no3@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

Sent mail to no4@example.com

Date: Thu, 9 Dec 2010 20:38:22 +0800
From: forshell12345@sohu.com
To: no4@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

Sent mail to no4@example.com

Date: Thu, 9 Dec 2010 20:38:23 +0800
From: forshell12345@sohu.com
To: no4@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

Expiration reminding check...
  [4;35;1mArchive Load (0.2ms)[0m   [0mSELECT * FROM `archives` [0m
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` [0m
  [4;35;1mLicense Load (0.1ms)[0m   [0mSELECT * FROM `licenses` [0m
...done
Payment reminding check...
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` [0m
  [4;35;1mPaymentPeriod Load (0.1ms)[0m   [0mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 1) [0m
  [4;36;1mSettings Load (0.1ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`var` = 'payment_reminding_days') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT `users`.* FROM `users` INNER JOIN `payment_remindings` ON `users`.id = `payment_remindings`.user_id WHERE ((`payment_remindings`.contract_id = 1)) [0m
Sent mail to no3@example.com

Date: Thu, 9 Dec 2010 20:38:31 +0800
From: forshell12345@sohu.com
To: no3@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

Expiration reminding check...
  [4;36;1mArchive Load (0.2ms)[0m   [0;1mSELECT * FROM `archives` [0m
  [4;35;1mContract Load (0.2ms)[0m   [0mSELECT * FROM `contracts` [0m
  [4;36;1mLicense Load (0.2ms)[0m   [0;1mSELECT * FROM `licenses` [0m
...done
Payment reminding check...
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` [0m
  [4;36;1mPaymentPeriod Load (0.1ms)[0m   [0;1mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 1) [0m
  [4;35;1mSettings Load (0.1ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'payment_reminding_days') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT `users`.* FROM `users` INNER JOIN `payment_remindings` ON `users`.id = `payment_remindings`.user_id WHERE ((`payment_remindings`.contract_id = 1)) [0m
Sent mail to no3@example.com

Date: Thu, 9 Dec 2010 20:38:36 +0800
From: forshell12345@sohu.com
To: no3@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

Expiration reminding check...
  [4;35;1mArchive Load (0.2ms)[0m   [0mSELECT * FROM `archives` [0m
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` [0m
  [4;35;1mLicense Load (0.1ms)[0m   [0mSELECT * FROM `licenses` [0m
...done
Payment reminding check...
  [4;36;1mContract Load (0.2ms)[0m   [0;1mSELECT * FROM `contracts` [0m
  [4;35;1mPaymentPeriod Load (0.1ms)[0m   [0mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 1) [0m
  [4;36;1mSettings Load (0.1ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`var` = 'payment_reminding_days') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT `users`.* FROM `users` INNER JOIN `payment_remindings` ON `users`.id = `payment_remindings`.user_id WHERE ((`payment_remindings`.contract_id = 1)) [0m
Sent mail to no3@example.com

Date: Thu, 9 Dec 2010 20:38:52 +0800
From: forshell12345@sohu.com
To: no3@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

Expiration reminding check...
Sent mail to no4@example.com

Date: Thu, 9 Dec 2010 20:39:00 +0800
From: forshell12345@sohu.com
To: no4@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

Expiration reminding check...
Expiration reminding check...
** has_many_polymorphs: autoload hook invoked
  [4;36;1mSettings Load (0.1ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m


Processing ContractsController#index (for 127.0.0.1 at 2010-12-09 20:39:24) [GET]
  Parameters: {"action"=>"index", "controller"=>"contracts"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2010-12-09 12:39:24', `perishable_token` = 'ttpunuaa8aofEg9B8HJX', `last_request_at` = '2010-12-09 12:39:24' WHERE `id` = 1[0m
  [4;36;1mSQL (62.8ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `contracts` INNER JOIN contract_permissions ON contract_permissions.contract_id = contracts.id INNER JOIN user_ycroles ON contract_permissions.ycrole_id = user_ycroles.ycrole_id WHERE ((contract_permissions.can_read = true OR contract_permissions.can_write = true) and user_ycroles.user_id = 1) [0m
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT `contracts`.* FROM `contracts` INNER JOIN contract_permissions ON contract_permissions.contract_id = contracts.id INNER JOIN user_ycroles ON contract_permissions.ycrole_id = user_ycroles.ycrole_id WHERE ((contract_permissions.can_read = true OR contract_permissions.can_write = true) and user_ycroles.user_id = 1) ORDER BY `contracts`.`name` ASC LIMIT 0, 15[0m
Rendering template within layouts/application
Rendering list
Rendered _list_header (10.7ms)
Rendered _list_column_headings (16.1ms)
Rendered _messages (0.8ms)
Rendered _list_messages (11.5ms)
  [4;35;1mPaymentPeriod Load (0.2ms)[0m   [0mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 1) [0m
Rendered _list_record_columns (5.7ms)
Rendered _list_actions (15.4ms)
Rendered _list_record (32.3ms)
Rendered _list_pagination (1.2ms)
Rendered _list (200.9ms)
Completed in 527ms (View: 412, DB: 103) | 200 OK [http://localhost/contracts]
Expiration reminding check...
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mArchive Load (0.2ms)[0m   [0;1mSELECT * FROM `archives` [0m
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` [0m
  [4;36;1mContract Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `contracts`[0m
  [4;35;1mLicense Load (0.1ms)[0m   [0mSELECT * FROM `licenses` [0m
...done
Payment reminding check...
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` [0m
  [4;35;1mPaymentPeriod Load (0.1ms)[0m   [0mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 1) [0m
  [4;36;1mPaymentPeriod Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `payment_periods`[0m
  [4;35;1mSettings Load (0.1ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'payment_reminding_days') LIMIT 1[0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT `users`.* FROM `users` INNER JOIN `payment_remindings` ON `users`.id = `payment_remindings`.user_id WHERE ((`payment_remindings`.contract_id = 1)) [0m
Sent mail to no3@example.com

Date: Thu, 9 Dec 2010 20:39:27 +0800
From: forshell12345@sohu.com
To: no3@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

Expiration reminding check...
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mArchive Load (0.2ms)[0m   [0;1mSELECT * FROM `archives` [0m
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` [0m
  [4;36;1mLicense Load (0.1ms)[0m   [0;1mSELECT * FROM `licenses` [0m
...done
Payment reminding check...
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` [0m
  [4;36;1mPaymentPeriod Load (0.1ms)[0m   [0;1mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 1) [0m
  [4;35;1mSettings Load (0.1ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'payment_reminding_days') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT `users`.* FROM `users` INNER JOIN `payment_remindings` ON `users`.id = `payment_remindings`.user_id WHERE ((`payment_remindings`.contract_id = 1)) [0m
Sent mail to no3@example.com

Date: Thu, 9 Dec 2010 20:39:37 +0800
From: forshell12345@sohu.com
To: no3@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

Expiration reminding check...
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mArchive Load (0.2ms)[0m   [0mSELECT * FROM `archives` [0m
  [4;36;1mContract Load (0.2ms)[0m   [0;1mSELECT * FROM `contracts` [0m
  [4;35;1mLicense Load (0.1ms)[0m   [0mSELECT * FROM `licenses` [0m
...done
Payment reminding check...
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` [0m
  [4;35;1mPaymentPeriod Load (0.1ms)[0m   [0mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 1) [0m
  [4;36;1mSettings Load (0.1ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`var` = 'payment_reminding_days') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT `users`.* FROM `users` INNER JOIN `payment_remindings` ON `users`.id = `payment_remindings`.user_id WHERE ((`payment_remindings`.contract_id = 1)) [0m
Sent mail to no3@example.com

Date: Thu, 9 Dec 2010 20:39:47 +0800
From: forshell12345@sohu.com
To: no3@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

Expiration reminding check...
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mArchive Load (0.2ms)[0m   [0;1mSELECT * FROM `archives` [0m
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` [0m
  [4;36;1mLicense Load (0.1ms)[0m   [0;1mSELECT * FROM `licenses` [0m
...done
Payment reminding check...
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` [0m
  [4;36;1mPaymentPeriod Load (0.1ms)[0m   [0;1mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 1) [0m
  [4;35;1mSettings Load (0.1ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'payment_reminding_days') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT `users`.* FROM `users` INNER JOIN `payment_remindings` ON `users`.id = `payment_remindings`.user_id WHERE ((`payment_remindings`.contract_id = 1)) [0m
Sent mail to no3@example.com

Date: Thu, 9 Dec 2010 20:39:56 +0800
From: forshell12345@sohu.com
To: no3@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

Expiration reminding check...
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mArchive Load (0.1ms)[0m   [0mSELECT * FROM `archives` [0m
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` [0m
  [4;35;1mLicense Load (0.1ms)[0m   [0mSELECT * FROM `licenses` [0m
...done
Payment reminding check...
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` [0m
  [4;35;1mPaymentPeriod Load (0.1ms)[0m   [0mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 1) [0m
  [4;36;1mSettings Load (0.1ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`var` = 'payment_reminding_days') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT `users`.* FROM `users` INNER JOIN `payment_remindings` ON `users`.id = `payment_remindings`.user_id WHERE ((`payment_remindings`.contract_id = 1)) [0m
Sent mail to no3@example.com

Date: Thu, 9 Dec 2010 20:40:06 +0800
From: forshell12345@sohu.com
To: no3@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

Expiration reminding check...
Sent mail to no4@example.com

Date: Thu, 9 Dec 2010 20:40:20 +0800
From: forshell12345@sohu.com
To: no4@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

Expiration reminding check...
Expiration reminding check...
  [4;36;1mArchive Load (0.1ms)[0m   [0;1mSELECT * FROM `archives` [0m
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` [0m
  [4;36;1mLicense Load (0.1ms)[0m   [0;1mSELECT * FROM `licenses` [0m
...done
Payment reminding check...
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` [0m
  [4;36;1mPaymentPeriod Load (0.1ms)[0m   [0;1mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 1) [0m
  [4;35;1mSettings Load (0.1ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'payment_reminding_days') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT `users`.* FROM `users` INNER JOIN `payment_remindings` ON `users`.id = `payment_remindings`.user_id WHERE ((`payment_remindings`.contract_id = 1)) [0m
Sent mail to no3@example.com

Date: Thu, 9 Dec 2010 20:40:41 +0800
From: forshell12345@sohu.com
To: no3@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

Expiration reminding check...
  [4;35;1mArchive Load (0.2ms)[0m   [0mSELECT * FROM `archives` [0m
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` [0m
  [4;35;1mLicense Load (0.2ms)[0m   [0mSELECT * FROM `licenses` [0m
...done
Payment reminding check...
  [4;36;1mContract Load (0.2ms)[0m   [0;1mSELECT * FROM `contracts` [0m
  [4;35;1mPaymentPeriod Load (0.1ms)[0m   [0mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 1) [0m
  [4;36;1mSettings Load (0.1ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`var` = 'payment_reminding_days') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT `users`.* FROM `users` INNER JOIN `payment_remindings` ON `users`.id = `payment_remindings`.user_id WHERE ((`payment_remindings`.contract_id = 1)) [0m
Sent mail to no3@example.com

Date: Thu, 9 Dec 2010 20:40:51 +0800
From: forshell12345@sohu.com
To: no3@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

  [4;36;1mPaymentPeriod Load (0.1ms)[0m   [0;1mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 2) [0m
  [4;35;1mPaymentPeriod Load (0.1ms)[0m   [0mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 3) [0m
...done
Expiration reminding check...
  [4;36;1mArchive Load (0.2ms)[0m   [0;1mSELECT * FROM `archives` [0m
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` [0m
  [4;36;1mLicense Load (0.1ms)[0m   [0;1mSELECT * FROM `licenses` [0m
...done
Payment reminding check...
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` [0m
  [4;36;1mPaymentPeriod Load (0.1ms)[0m   [0;1mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 1) [0m
  [4;35;1mSettings Load (0.1ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'payment_reminding_days') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT `users`.* FROM `users` INNER JOIN `payment_remindings` ON `users`.id = `payment_remindings`.user_id WHERE ((`payment_remindings`.contract_id = 1)) [0m
Sent mail to no3@example.com

Date: Thu, 9 Dec 2010 20:41:02 +0800
From: forshell12345@sohu.com
To: no3@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

Expiration reminding check...
  [4;35;1mArchive Load (0.1ms)[0m   [0mSELECT * FROM `archives` [0m
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` [0m
  [4;35;1mLicense Load (0.1ms)[0m   [0mSELECT * FROM `licenses` [0m
...done
Payment reminding check...
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` [0m
  [4;35;1mPaymentPeriod Load (0.1ms)[0m   [0mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 1) [0m
  [4;36;1mSettings Load (0.1ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`var` = 'payment_reminding_days') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT `users`.* FROM `users` INNER JOIN `payment_remindings` ON `users`.id = `payment_remindings`.user_id WHERE ((`payment_remindings`.contract_id = 1)) [0m
Sent mail to no3@example.com

Date: Thu, 9 Dec 2010 20:41:07 +0800
From: forshell12345@sohu.com
To: no3@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

Sent mail to no4@example.com

Date: Thu, 9 Dec 2010 20:41:12 +0800
From: forshell12345@sohu.com
To: no4@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

Expiration reminding check...
Sent mail to no4@example.com

Date: Thu, 9 Dec 2010 20:41:22 +0800
From: forshell12345@sohu.com
To: no4@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

Expiration reminding check...
Sent mail to no4@example.com

Date: Thu, 9 Dec 2010 20:41:31 +0800
From: forshell12345@sohu.com
To: no4@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

Sent mail to no4@example.com

Date: Thu, 9 Dec 2010 20:41:35 +0800
From: forshell12345@sohu.com
To: no4@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

Expiration reminding check...
Sent mail to no4@example.com

Date: Thu, 9 Dec 2010 20:41:38 +0800
From: forshell12345@sohu.com
To: no4@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

  [4;36;1mPaymentPeriod Load (0.2ms)[0m   [0;1mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 2) [0m
  [4;35;1mPaymentPeriod Load (0.1ms)[0m   [0mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 3) [0m
...done
Expiration reminding check...
  [4;36;1mArchive Load (0.2ms)[0m   [0;1mSELECT * FROM `archives` [0m
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` [0m
  [4;36;1mLicense Load (0.1ms)[0m   [0;1mSELECT * FROM `licenses` [0m
...done
Payment reminding check...
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` [0m
  [4;36;1mPaymentPeriod Load (0.1ms)[0m   [0;1mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 1) [0m
  [4;35;1mSettings Load (0.1ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'payment_reminding_days') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT `users`.* FROM `users` INNER JOIN `payment_remindings` ON `users`.id = `payment_remindings`.user_id WHERE ((`payment_remindings`.contract_id = 1)) [0m
Sent mail to no3@example.com

Date: Thu, 9 Dec 2010 20:41:52 +0800
From: forshell12345@sohu.com
To: no3@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

Expiration reminding check...
  [4;35;1mPaymentPeriod Load (0.2ms)[0m   [0mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 2) [0m
  [4;36;1mPaymentPeriod Load (0.1ms)[0m   [0;1mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 3) [0m
...done
  [4;35;1mArchive Load (0.1ms)[0m   [0mSELECT * FROM `archives` [0m
  [4;36;1mContract Load (0.2ms)[0m   [0;1mSELECT * FROM `contracts` [0m
  [4;35;1mLicense Load (0.1ms)[0m   [0mSELECT * FROM `licenses` [0m
...done
Payment reminding check...
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` [0m
  [4;35;1mPaymentPeriod Load (0.1ms)[0m   [0mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 1) [0m
  [4;36;1mSettings Load (0.1ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`var` = 'payment_reminding_days') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT `users`.* FROM `users` INNER JOIN `payment_remindings` ON `users`.id = `payment_remindings`.user_id WHERE ((`payment_remindings`.contract_id = 1)) [0m
Sent mail to no3@example.com

Date: Thu, 9 Dec 2010 20:42:01 +0800
From: forshell12345@sohu.com
To: no3@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

  [4;36;1mPaymentPeriod Load (0.2ms)[0m   [0;1mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 2) [0m
  [4;35;1mPaymentPeriod Load (0.1ms)[0m   [0mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 3) [0m
...done
Expiration reminding check...
  [4;36;1mArchive Load (0.1ms)[0m   [0;1mSELECT * FROM `archives` [0m
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` [0m
  [4;36;1mLicense Load (0.1ms)[0m   [0;1mSELECT * FROM `licenses` [0m
...done
Payment reminding check...
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` [0m
  [4;36;1mPaymentPeriod Load (0.1ms)[0m   [0;1mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 1) [0m
  [4;35;1mSettings Load (0.1ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'payment_reminding_days') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT `users`.* FROM `users` INNER JOIN `payment_remindings` ON `users`.id = `payment_remindings`.user_id WHERE ((`payment_remindings`.contract_id = 1)) [0m
Sent mail to no3@example.com

Date: Thu, 9 Dec 2010 20:42:11 +0800
From: forshell12345@sohu.com
To: no3@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

  [4;35;1mPaymentPeriod Load (0.2ms)[0m   [0mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 2) [0m
  [4;36;1mPaymentPeriod Load (0.1ms)[0m   [0;1mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 3) [0m
...done
Expiration reminding check...
  [4;35;1mArchive Load (0.1ms)[0m   [0mSELECT * FROM `archives` [0m
  [4;36;1mContract Load (0.2ms)[0m   [0;1mSELECT * FROM `contracts` [0m
  [4;35;1mLicense Load (0.1ms)[0m   [0mSELECT * FROM `licenses` [0m
...done
Payment reminding check...
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` [0m
  [4;35;1mPaymentPeriod Load (0.1ms)[0m   [0mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 1) [0m
  [4;36;1mSettings Load (0.1ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`var` = 'payment_reminding_days') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT `users`.* FROM `users` INNER JOIN `payment_remindings` ON `users`.id = `payment_remindings`.user_id WHERE ((`payment_remindings`.contract_id = 1)) [0m
Sent mail to no3@example.com

Date: Thu, 9 Dec 2010 20:42:22 +0800
From: forshell12345@sohu.com
To: no3@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

Sent mail to no4@example.com

Date: Thu, 9 Dec 2010 20:42:22 +0800
From: forshell12345@sohu.com
To: no4@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

  [4;36;1mPaymentPeriod Load (0.2ms)[0m   [0;1mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 2) [0m
  [4;35;1mPaymentPeriod Load (0.1ms)[0m   [0mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 3) [0m
...done
Expiration reminding check...
  [4;36;1mArchive Load (0.1ms)[0m   [0;1mSELECT * FROM `archives` [0m
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` [0m
  [4;36;1mLicense Load (0.1ms)[0m   [0;1mSELECT * FROM `licenses` [0m
...done
Payment reminding check...
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` [0m
  [4;36;1mPaymentPeriod Load (0.1ms)[0m   [0;1mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 1) [0m
  [4;35;1mSettings Load (0.1ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'payment_reminding_days') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT `users`.* FROM `users` INNER JOIN `payment_remindings` ON `users`.id = `payment_remindings`.user_id WHERE ((`payment_remindings`.contract_id = 1)) [0m
Sent mail to no3@example.com

Date: Thu, 9 Dec 2010 20:42:32 +0800
From: forshell12345@sohu.com
To: no3@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

Expiration reminding check...
Sent mail to no4@example.com

Date: Thu, 9 Dec 2010 20:42:43 +0800
From: forshell12345@sohu.com
To: no4@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

Expiration reminding check...
Sent mail to no4@example.com

Date: Thu, 9 Dec 2010 20:42:49 +0800
From: forshell12345@sohu.com
To: no4@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

Sent mail to no4@example.com

Date: Thu, 9 Dec 2010 20:42:52 +0800
From: forshell12345@sohu.com
To: no4@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

  [4;35;1mPaymentPeriod Load (0.2ms)[0m   [0mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 2) [0m
  [4;36;1mPaymentPeriod Load (0.1ms)[0m   [0;1mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 3) [0m
...done
Expiration reminding check...
  [4;35;1mArchive Load (0.1ms)[0m   [0mSELECT * FROM `archives` [0m
  [4;36;1mContract Load (0.2ms)[0m   [0;1mSELECT * FROM `contracts` [0m
  [4;35;1mLicense Load (0.1ms)[0m   [0mSELECT * FROM `licenses` [0m
...done
Payment reminding check...
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` [0m
  [4;35;1mPaymentPeriod Load (0.1ms)[0m   [0mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 1) [0m
  [4;36;1mSettings Load (0.1ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`var` = 'payment_reminding_days') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT `users`.* FROM `users` INNER JOIN `payment_remindings` ON `users`.id = `payment_remindings`.user_id WHERE ((`payment_remindings`.contract_id = 1)) [0m
Sent mail to no3@example.com

Date: Thu, 9 Dec 2010 20:43:02 +0800
From: forshell12345@sohu.com
To: no3@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

Expiration reminding check...
  [4;36;1mPaymentPeriod Load (0.1ms)[0m   [0;1mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 2) [0m
  [4;35;1mPaymentPeriod Load (0.1ms)[0m   [0mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 3) [0m
...done
Expiration reminding check...
Sent mail to no4@example.com

Date: Thu, 9 Dec 2010 20:43:21 +0800
From: forshell12345@sohu.com
To: no4@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

  [4;36;1mArchive Load (0.1ms)[0m   [0;1mSELECT * FROM `archives` [0m
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` [0m
  [4;36;1mLicense Load (0.1ms)[0m   [0;1mSELECT * FROM `licenses` [0m
...done
Payment reminding check...
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` [0m
  [4;36;1mPaymentPeriod Load (0.1ms)[0m   [0;1mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 1) [0m
  [4;35;1mSettings Load (0.1ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'payment_reminding_days') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT `users`.* FROM `users` INNER JOIN `payment_remindings` ON `users`.id = `payment_remindings`.user_id WHERE ((`payment_remindings`.contract_id = 1)) [0m
Sent mail to no3@example.com

Date: Thu, 9 Dec 2010 20:43:21 +0800
From: forshell12345@sohu.com
To: no3@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

  [4;35;1mPaymentPeriod Load (0.2ms)[0m   [0mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 2) [0m
  [4;36;1mPaymentPeriod Load (0.2ms)[0m   [0;1mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 3) [0m
...done
  [4;35;1mPaymentPeriod Load (0.1ms)[0m   [0mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 2) [0m
  [4;36;1mPaymentPeriod Load (0.1ms)[0m   [0;1mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 3) [0m
...done
Expiration reminding check...
  [4;35;1mPaymentPeriod Load (0.2ms)[0m   [0mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 2) [0m
  [4;36;1mPaymentPeriod Load (0.1ms)[0m   [0;1mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 3) [0m
...done
  [4;35;1mArchive Load (0.2ms)[0m   [0mSELECT * FROM `archives` [0m
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` [0m
  [4;35;1mLicense Load (0.1ms)[0m   [0mSELECT * FROM `licenses` [0m
...done
Payment reminding check...
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` [0m
  [4;35;1mPaymentPeriod Load (0.1ms)[0m   [0mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 1) [0m
  [4;36;1mSettings Load (0.1ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`var` = 'payment_reminding_days') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT `users`.* FROM `users` INNER JOIN `payment_remindings` ON `users`.id = `payment_remindings`.user_id WHERE ((`payment_remindings`.contract_id = 1)) [0m
Sent mail to no3@example.com

Date: Thu, 9 Dec 2010 20:43:31 +0800
From: forshell12345@sohu.com
To: no3@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

Sent mail to no4@example.com

Date: Thu, 9 Dec 2010 20:43:33 +0800
From: forshell12345@sohu.com
To: no4@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

Expiration reminding check...
  [4;36;1mArchive Load (0.2ms)[0m   [0;1mSELECT * FROM `archives` [0m
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` [0m
  [4;36;1mLicense Load (0.1ms)[0m   [0;1mSELECT * FROM `licenses` [0m
...done
Payment reminding check...
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` [0m
  [4;36;1mPaymentPeriod Load (0.1ms)[0m   [0;1mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 1) [0m
  [4;35;1mSettings Load (0.1ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'payment_reminding_days') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT `users`.* FROM `users` INNER JOIN `payment_remindings` ON `users`.id = `payment_remindings`.user_id WHERE ((`payment_remindings`.contract_id = 1)) [0m
Sent mail to no3@example.com

Date: Thu, 9 Dec 2010 20:43:37 +0800
From: forshell12345@sohu.com
To: no3@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

Sent mail to no4@example.com

Date: Thu, 9 Dec 2010 20:43:45 +0800
From: forshell12345@sohu.com
To: no4@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

Expiration reminding check...
  [4;35;1mArchive Load (0.2ms)[0m   [0mSELECT * FROM `archives` [0m
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` [0m
  [4;35;1mLicense Load (0.1ms)[0m   [0mSELECT * FROM `licenses` [0m
...done
Payment reminding check...
  [4;36;1mContract Load (0.2ms)[0m   [0;1mSELECT * FROM `contracts` [0m
  [4;35;1mPaymentPeriod Load (0.1ms)[0m   [0mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 1) [0m
  [4;36;1mSettings Load (0.1ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`var` = 'payment_reminding_days') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT `users`.* FROM `users` INNER JOIN `payment_remindings` ON `users`.id = `payment_remindings`.user_id WHERE ((`payment_remindings`.contract_id = 1)) [0m
Sent mail to no3@example.com

Date: Thu, 9 Dec 2010 20:43:47 +0800
From: forshell12345@sohu.com
To: no3@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

Sent mail to no4@example.com

Date: Thu, 9 Dec 2010 20:43:51 +0800
From: forshell12345@sohu.com
To: no4@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

Expiration reminding check...
Expiration reminding check...
  [4;36;1mPaymentPeriod Load (0.2ms)[0m   [0;1mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 2) [0m
  [4;35;1mPaymentPeriod Load (0.1ms)[0m   [0mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 3) [0m
...done
  [4;36;1mArchive Load (0.2ms)[0m   [0;1mSELECT * FROM `archives` [0m
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` [0m
  [4;36;1mLicense Load (0.1ms)[0m   [0;1mSELECT * FROM `licenses` [0m
...done
Payment reminding check...
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` [0m
  [4;36;1mPaymentPeriod Load (0.1ms)[0m   [0;1mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 1) [0m
  [4;35;1mSettings Load (0.1ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'payment_reminding_days') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT `users`.* FROM `users` INNER JOIN `payment_remindings` ON `users`.id = `payment_remindings`.user_id WHERE ((`payment_remindings`.contract_id = 1)) [0m
Sent mail to no3@example.com

Date: Thu, 9 Dec 2010 20:44:11 +0800
From: forshell12345@sohu.com
To: no3@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

Expiration reminding check...
Expiration reminding check...
Sent mail to no4@example.com

Date: Thu, 9 Dec 2010 20:44:30 +0800
From: forshell12345@sohu.com
To: no4@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

Expiration reminding check...
  [4;35;1mPaymentPeriod Load (0.1ms)[0m   [0mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 2) [0m
  [4;36;1mPaymentPeriod Load (0.1ms)[0m   [0;1mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 3) [0m
...done
  [4;35;1mArchive Load (0.2ms)[0m   [0mSELECT * FROM `archives` [0m
  [4;36;1mContract Load (0.2ms)[0m   [0;1mSELECT * FROM `contracts` [0m
  [4;35;1mLicense Load (0.2ms)[0m   [0mSELECT * FROM `licenses` [0m
...done
Payment reminding check...
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` [0m
  [4;35;1mPaymentPeriod Load (0.1ms)[0m   [0mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 1) [0m
  [4;36;1mSettings Load (0.1ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`var` = 'payment_reminding_days') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT `users`.* FROM `users` INNER JOIN `payment_remindings` ON `users`.id = `payment_remindings`.user_id WHERE ((`payment_remindings`.contract_id = 1)) [0m
Sent mail to no3@example.com

Date: Thu, 9 Dec 2010 20:44:41 +0800
From: forshell12345@sohu.com
To: no3@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

Expiration reminding check...
  [4;36;1mArchive Load (0.1ms)[0m   [0;1mSELECT * FROM `archives` [0m
  [4;35;1mContract Load (0.2ms)[0m   [0mSELECT * FROM `contracts` [0m
  [4;36;1mLicense Load (0.1ms)[0m   [0;1mSELECT * FROM `licenses` [0m
...done
Payment reminding check...
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` [0m
  [4;36;1mPaymentPeriod Load (0.1ms)[0m   [0;1mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 1) [0m
  [4;35;1mSettings Load (0.1ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'payment_reminding_days') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT `users`.* FROM `users` INNER JOIN `payment_remindings` ON `users`.id = `payment_remindings`.user_id WHERE ((`payment_remindings`.contract_id = 1)) [0m
Sent mail to no3@example.com

Date: Thu, 9 Dec 2010 20:44:46 +0800
From: forshell12345@sohu.com
To: no3@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

Sent mail to no4@example.com

Date: Thu, 9 Dec 2010 20:44:53 +0800
From: forshell12345@sohu.com
To: no4@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

Expiration reminding check...
  [4;35;1mArchive Load (0.1ms)[0m   [0mSELECT * FROM `archives` [0m
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` [0m
  [4;35;1mLicense Load (0.1ms)[0m   [0mSELECT * FROM `licenses` [0m
...done
Payment reminding check...
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` [0m
  [4;35;1mPaymentPeriod Load (0.1ms)[0m   [0mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 1) [0m
  [4;36;1mSettings Load (0.1ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`var` = 'payment_reminding_days') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT `users`.* FROM `users` INNER JOIN `payment_remindings` ON `users`.id = `payment_remindings`.user_id WHERE ((`payment_remindings`.contract_id = 1)) [0m
Sent mail to no3@example.com

Date: Thu, 9 Dec 2010 20:44:57 +0800
From: forshell12345@sohu.com
To: no3@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

Sent mail to no4@example.com

Date: Thu, 9 Dec 2010 20:45:02 +0800
From: forshell12345@sohu.com
To: no4@example.com
Subject: contract payment
Mime-Version: 1.0
Content-Type: text/html; charset=utf-8

<h1>合同即将支付！</h1>
<p>
  合同 咸阳人民东路加油站 将在 2010-12-22 发生一次支付，请及时跟进！
</p>

  [4;36;1mPaymentPeriod Load (0.2ms)[0m   [0;1mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 2) [0m
  [4;35;1mPaymentPeriod Load (0.1ms)[0m   [0mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 3) [0m
...done
Expiration reminding check...
** has_many_polymorphs: rails environment detected
** has_many_polymorphs: loaded ok
** has_many_polymorphs: autoload hook invoked
** has_many_polymorphs: autoload hook invoked
ActiveScaffold: extending RESTful routes for user_ycroles
ActiveScaffold: extending RESTful routes for ycroles
ActiveScaffold: extending RESTful routes for documents
ActiveScaffold: extending RESTful routes for contracts
ActiveScaffold: extending RESTful routes for payments
ActiveScaffold: extending RESTful routes for expiration_remindings
ActiveScaffold: extending RESTful routes for licenses
ActiveScaffold: extending RESTful routes for archives
ActiveScaffold: extending RESTful routes for settings
ActiveScaffold: extending RESTful routes for users
ActiveScaffold: extending RESTful routes for expiration_remindings
ActiveScaffold: extending RESTful routes for payment_remindings
ActiveScaffold: extending RESTful routes for audits
** has_many_polymorphs: autoload hook invoked
  [4;36;1mSQL (0.2ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing SiteController#index (for 127.0.0.1 at 2010-12-09 20:57:37) [GET]
  Parameters: {"action"=>"index", "controller"=>"site"}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (2.7ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2010-12-09 12:57:37', `perishable_token` = '2N0eg5YZ4Xe3HFrmuQaW', `last_request_at` = '2010-12-09 12:57:37' WHERE `id` = 1[0m
  [4;36;1mSQL (81.4ms)[0m   [0;1mCOMMIT[0m
Rendering template within layouts/application
Rendering site/index
Completed in 326ms (View: 59, DB: 87) | 200 OK [http://localhost/]
** has_many_polymorphs: autoload hook invoked
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mContract Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `contracts`[0m
  [4;36;1mSettings Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `settings`[0m
  [4;35;1mSettings Load (0.1ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m


Processing ContractsController#nested (for 127.0.0.1 at 2010-12-09 21:03:25) [GET]
  Parameters: {"action"=>"nested", "_method"=>"get", "adapter"=>"_list_inline_adapter", "id"=>"1", "controller"=>"contracts", "associations"=>"payment_periods"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2010-12-09 13:03:25', `perishable_token` = 'BkUSBvBUr1h7vDnaaPo', `last_request_at` = '2010-12-09 13:03:25' WHERE `id` = 1[0m
  [4;36;1mSQL (79.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mContract Load (0.2ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mPaymentPeriod Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `payment_periods`[0m
Start rendering component ({:params=>{:parent_column=>"payment_periods", :parent_model=>"Contract", :format=>"html", :eid=>"27aab028977f453c4ef738081a731981", :nested=>true}, :controller=>"payment_periods", :action=>"index"}): 


Processing PaymentPeriodsController#index to html (for 127.0.0.1 at 2010-12-09 21:03:25) [GET]
  Parameters: {"parent_column"=>"payment_periods", "eid"=>"27aab028977f453c4ef738081a731981", "format"=>"html", "nested"=>true, "action"=>"index", "id"=>nil, "parent_model"=>"Contract", "controller"=>"payment_periods"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2010-12-09 13:03:25', `perishable_token` = 'd1gwHQApqAoYkaTYEris', `last_request_at` = '2010-12-09 13:03:25' WHERE `id` = 1[0m
  [4;36;1mSQL (87.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(DISTINCT `payment_periods`.id) AS count_all FROM `payment_periods` LEFT OUTER JOIN `contracts` ON `contracts`.id = `payment_periods`.contract_id WHERE (((payment_periods.contract_id = '1'))) [0m
  [4;36;1mPaymentPeriod Load (0.1ms)[0m   [0;1mSELECT `payment_periods`.* FROM `payment_periods` WHERE (((payment_periods.contract_id = '1'))) ORDER BY `payment_periods`.`id` ASC LIMIT 0, 15[0m
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
Rendering list
Rendered _list_header (8.9ms)
Rendered _list_column_headings (19.6ms)
Rendered _messages (1.0ms)
Rendered _list_messages (12.9ms)
Rendered _list_record_columns (4.2ms)
Rendered _list_actions (12.8ms)
Rendered _list_record (27.5ms)
Rendered _list_pagination (1.2ms)
Rendered _list (189.3ms)
Completed in 323ms (View: 221, DB: 90) | 200 OK [http://localhost/contracts/1/nested?_method=get&associations=payment_periods&adapter=_list_inline_adapter]


End of component rendering
Rendered _nested (356.6ms)
Rendered _messages (0.9ms)
Rendered _list_inline_adapter (7.8ms)
Completed in 585ms (View: 12, DB: 0) | 200 OK [http://localhost/contracts/1/nested?_method=get&associations=payment_periods&adapter=_list_inline_adapter]
** has_many_polymorphs: autoload hook invoked
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mContract Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `contracts`[0m
  [4;35;1mSettings Load (0.2ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m


Processing ContractsController#nested (for 127.0.0.1 at 2010-12-09 21:03:30) [GET]
  Parameters: {"action"=>"nested", "_method"=>"get", "adapter"=>"_list_inline_adapter", "id"=>"1", "controller"=>"contracts", "associations"=>"payments"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.5ms)[0m   [0mUPDATE `users` SET `updated_at` = '2010-12-09 13:03:30', `perishable_token` = 'DIrGXM0twfLkxzZD5vG', `last_request_at` = '2010-12-09 13:03:30' WHERE `id` = 1[0m
  [4;36;1mSQL (49.2ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mPayment Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `payments`[0m
Start rendering component ({:params=>{:parent_column=>"payments", :parent_model=>"Contract", :format=>"html", :eid=>"ee0b978c3cd675890ece8fbb879055fd", :nested=>true}, :controller=>"payments", :action=>"index"}): 


Processing PaymentsController#index to html (for 127.0.0.1 at 2010-12-09 21:03:30) [GET]
  Parameters: {"parent_column"=>"payments", "eid"=>"ee0b978c3cd675890ece8fbb879055fd", "format"=>"html", "nested"=>true, "action"=>"index", "id"=>nil, "parent_model"=>"Contract", "controller"=>"payments"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2010-12-09 13:03:30', `perishable_token` = 'KB4fYHnTir8ugwV4w8pB', `last_request_at` = '2010-12-09 13:03:30' WHERE `id` = 1[0m
  [4;36;1mSQL (59.4ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(DISTINCT `payments`.id) AS count_all FROM `payments` LEFT OUTER JOIN `contracts` ON `contracts`.id = `payments`.contract_id WHERE (((payments.contract_id = '1'))) [0m
  [4;36;1mPayment Load (0.1ms)[0m   [0;1mSELECT `payments`.* FROM `payments` WHERE (((payments.contract_id = '1'))) ORDER BY `payments`.`id` ASC LIMIT 0, 15[0m
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
Rendering list
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
Rendered _list_header (9.2ms)
Rendered _list_column_headings (19.5ms)
Rendered _messages (0.8ms)
Rendered _list_messages (11.1ms)
Rendered _list_record_columns (3.6ms)
Rendered _list_actions (13.5ms)
Rendered _list_record (29.4ms)
Rendered _list_pagination (1.1ms)
Rendered _list (196.2ms)
Completed in 301ms (View: 228, DB: 61) | 200 OK [http://localhost/contracts/1/nested?_method=get&associations=payments&adapter=_list_inline_adapter]


End of component rendering
Rendered _nested (439.1ms)
Rendered _messages (0.9ms)
Rendered _list_inline_adapter (7.3ms)
Completed in 529ms (View: 12, DB: 0) | 200 OK [http://localhost/contracts/1/nested?_method=get&associations=payments&adapter=_list_inline_adapter]
** has_many_polymorphs: autoload hook invoked
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mContract Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `contracts`[0m
  [4;35;1mSettings Load (0.2ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m


Processing ContractsController#index (for 127.0.0.1 at 2010-12-09 21:03:46) [GET]
  Parameters: {"action"=>"index", "controller"=>"contracts"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2010-12-09 13:03:46', `perishable_token` = 'l7QMqmFuI7DstFDbEXnU', `last_request_at` = '2010-12-09 13:03:46' WHERE `id` = 1[0m
  [4;36;1mSQL (86.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM `contracts` INNER JOIN contract_permissions ON contract_permissions.contract_id = contracts.id INNER JOIN user_ycroles ON contract_permissions.ycrole_id = user_ycroles.ycrole_id WHERE ((contract_permissions.can_read = true OR contract_permissions.can_write = true) and user_ycroles.user_id = 1) [0m
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT `contracts`.* FROM `contracts` INNER JOIN contract_permissions ON contract_permissions.contract_id = contracts.id INNER JOIN user_ycroles ON contract_permissions.ycrole_id = user_ycroles.ycrole_id WHERE ((contract_permissions.can_read = true OR contract_permissions.can_write = true) and user_ycroles.user_id = 1) ORDER BY `contracts`.`name` ASC LIMIT 0, 15[0m
Rendering template within layouts/application
Rendering list
Rendered _list_header (8.9ms)
Rendered _list_column_headings (14.4ms)
Rendered _messages (1.4ms)
Rendered _list_messages (12.3ms)
  [4;35;1mPaymentPeriod Load (0.1ms)[0m   [0mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 1) [0m
  [4;36;1mPaymentPeriod Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `payment_periods`[0m
Rendered _list_record_columns (9.1ms)
Rendered _list_actions (18.1ms)
Rendered _list_record (38.3ms)
Rendered _list_pagination (1.3ms)
Rendered _list (220.3ms)
Completed in 591ms (View: 482, DB: 91) | 200 OK [http://localhost/contracts]
** has_many_polymorphs: autoload hook invoked
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mYcrole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `ycroles`[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m


Processing YcrolesController#index (for 127.0.0.1 at 2010-12-09 21:03:50) [GET]
  Parameters: {"action"=>"index", "controller"=>"ycroles"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2010-12-09 13:03:50', `perishable_token` = 'CqKi27FxI7uM0eYT3RJ', `last_request_at` = '2010-12-09 13:03:50' WHERE `id` = 1[0m
  [4;36;1mSQL (41.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mroles_users Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `ycroles` [0m
  [4;35;1mYcrole Load (0.1ms)[0m   [0mSELECT `ycroles`.* FROM `ycroles` ORDER BY `ycroles`.`id` ASC LIMIT 0, 15[0m
Rendering template within layouts/application
Rendering list
Rendered _list_header (6.9ms)
Rendered _list_column_headings (6.1ms)
Rendered _messages (0.9ms)
Rendered _list_messages (11.0ms)
Rendered _list_record_columns (1.7ms)
Rendered _list_actions (13.0ms)
Rendered _list_record (27.0ms)
Rendered _list_record_columns (0.8ms)
Rendered _list_actions (4.4ms)
Rendered _list_record (6.0ms)
Rendered _list_pagination (1.3ms)
Rendered _list (184.1ms)
Completed in 446ms (View: 376, DB: 46) | 200 OK [http://localhost/ycroles]
** has_many_polymorphs: autoload hook invoked
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mYcrole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `ycroles`[0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m


Processing YcrolesController#nested (for 127.0.0.1 at 2010-12-09 21:03:54) [GET]
  Parameters: {"action"=>"nested", "_method"=>"get", "adapter"=>"_list_inline_adapter", "id"=>"1", "controller"=>"ycroles", "associations"=>"contract_permissions"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2010-12-09 13:03:54', `perishable_token` = 'MzyY71UbgSaDJFOHBfv', `last_request_at` = '2010-12-09 13:03:54' WHERE `id` = 1[0m
  [4;35;1mSQL (37.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mroles_users Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `roles_users`[0m
  [4;35;1mRole Load (0.1ms)[0m   [0mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;36;1mRole Columns (0.4ms)[0m   [0;1mSHOW FIELDS FROM `roles`[0m
  [4;35;1mYcrole Load (0.1ms)[0m   [0mSELECT * FROM `ycroles` WHERE (`ycroles`.`id` = 1) [0m
  [4;36;1mContractPermission Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `contract_permissions`[0m
  [4;35;1mSettings Load (0.1ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;36;1mContract Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `contracts`[0m
Start rendering component ({:params=>{:parent_column=>"contract_permissions", :parent_model=>"Ycrole", :format=>"html", :eid=>"2d9c8b9d71131ccd8d44889cda07ae3d", :nested=>true}, :controller=>"contract_permissions", :action=>"index"}): 


Processing ContractPermissionsController#index to html (for 127.0.0.1 at 2010-12-09 21:03:54) [GET]
  Parameters: {"parent_column"=>"contract_permissions", "eid"=>"2d9c8b9d71131ccd8d44889cda07ae3d", "format"=>"html", "nested"=>true, "action"=>"index", "id"=>nil, "parent_model"=>"Ycrole", "controller"=>"contract_permissions"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.6ms)[0m   [0mUPDATE `users` SET `updated_at` = '2010-12-09 13:03:54', `perishable_token` = '6izaZf1cGDDqINAUMcUC', `last_request_at` = '2010-12-09 13:03:54' WHERE `id` = 1[0m
  [4;36;1mSQL (42.8ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(DISTINCT `contract_permissions`.id) AS count_all FROM `contract_permissions` LEFT OUTER JOIN `contracts` ON `contracts`.id = `contract_permissions`.contract_id LEFT OUTER JOIN `ycroles` ON `ycroles`.id = `contract_permissions`.ycrole_id WHERE (((contract_permissions.ycrole_id = '1'))) [0m
  [4;36;1mContractPermission Load (0.1ms)[0m   [0;1mSELECT `contract_permissions`.* FROM `contract_permissions` WHERE (((contract_permissions.ycrole_id = '1'))) ORDER BY `contract_permissions`.`id` ASC LIMIT 0, 15[0m
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mYcrole Load (0.1ms)[0m   [0;1mSELECT * FROM `ycroles` WHERE (`ycroles`.`id` = 1) [0m
Rendering list
Rendered _list_header (8.0ms)
Rendered _list_column_headings (16.0ms)
Rendered _messages (0.8ms)
Rendered _list_messages (12.4ms)
Rendered _list_record_columns (10.9ms)
Rendered _list_actions (14.3ms)
Rendered _list_record (154.3ms)
Rendered _list_pagination (1.1ms)
Rendered _list (206.0ms)
Completed in 405ms (View: 240, DB: 46) | 200 OK [http://localhost/ycroles/1/nested?_method=get&associations=contract_permissions&adapter=_list_inline_adapter]


End of component rendering
Rendered _nested (581.2ms)
Rendered _messages (0.9ms)
Rendered _list_inline_adapter (7.1ms)
Completed in 667ms (View: 12, DB: 0) | 200 OK [http://localhost/ycroles/1/nested?_method=get&associations=contract_permissions&adapter=_list_inline_adapter]
** has_many_polymorphs: autoload hook invoked
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mYcrole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `ycroles`[0m
  [4;36;1mUser Columns (5.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m


Processing YcrolesController#row (for 127.0.0.1 at 2010-12-09 21:04:12) [GET]
  Parameters: {"action"=>"row", "_method"=>"get", "id"=>"1", "controller"=>"ycroles"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2010-12-09 13:04:12', `perishable_token` = 'VhJowvBfhmy5R7MxYtQC', `last_request_at` = '2010-12-09 13:04:12' WHERE `id` = 1[0m
  [4;36;1mSQL (31.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mroles_users Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mYcrole Load (0.1ms)[0m   [0;1mSELECT * FROM `ycroles` WHERE (`ycroles`.`id` = 1) [0m
Rendered _list_record_columns (1.6ms)
Rendered _list_actions (5.9ms)
Rendered _list_record (17.6ms)
Completed in 87ms (View: 28, DB: 41) | 200 OK [http://localhost/ycroles/1/row?_method=get]
** has_many_polymorphs: autoload hook invoked
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mContract Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `contracts`[0m
  [4;36;1mSettings Load (0.2ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m


Processing ContractsController#index (for 127.0.0.1 at 2010-12-09 21:04:15) [GET]
  Parameters: {"action"=>"index", "controller"=>"contracts"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2010-12-09 13:04:15', `perishable_token` = 'yY0EiqcrDpGPN0MqXULP', `last_request_at` = '2010-12-09 13:04:15' WHERE `id` = 1[0m
  [4;35;1mSQL (65.4ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `contracts` INNER JOIN contract_permissions ON contract_permissions.contract_id = contracts.id INNER JOIN user_ycroles ON contract_permissions.ycrole_id = user_ycroles.ycrole_id WHERE ((contract_permissions.can_read = true OR contract_permissions.can_write = true) and user_ycroles.user_id = 1) [0m
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT `contracts`.* FROM `contracts` INNER JOIN contract_permissions ON contract_permissions.contract_id = contracts.id INNER JOIN user_ycroles ON contract_permissions.ycrole_id = user_ycroles.ycrole_id WHERE ((contract_permissions.can_read = true OR contract_permissions.can_write = true) and user_ycroles.user_id = 1) ORDER BY `contracts`.`name` ASC LIMIT 0, 15[0m
Rendering template within layouts/application
Rendering list
Rendered _list_header (3.6ms)
Rendered _list_column_headings (8.9ms)
Rendered _messages (0.8ms)
Rendered _list_messages (8.1ms)
  [4;36;1mPaymentPeriod Load (0.1ms)[0m   [0;1mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 1) [0m
  [4;35;1mPaymentPeriod Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `payment_periods`[0m
Rendered _list_record_columns (7.3ms)
Rendered _list_actions (5.9ms)
Rendered _list_record (22.5ms)
Rendered _list_pagination (1.1ms)
Rendered _list (59.3ms)
Completed in 462ms (View: 377, DB: 70) | 200 OK [http://localhost/contracts]
** has_many_polymorphs: autoload hook invoked
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UserSessionsController#destroy (for 127.0.0.1 at 2010-12-09 21:04:21) [DELETE]
  Parameters: {"action"=>"destroy", "_method"=>"delete", "authenticity_token"=>"Ed0tRYf9S1uM5pLhjh6QBB/w9MB3r7ph7tr9VKKhyaU=", "controller"=>"user_sessions"}
  [4;36;1mUser Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2010-12-09 13:04:21', `perishable_token` = 'P3IctZGlaWfcZXnhqNsF', `last_request_at` = '2010-12-09 13:04:21' WHERE `id` = 1[0m
  [4;36;1mSQL (32.1ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3001/user_session/new
Completed in 168ms (DB: 35) | 302 Found [http://localhost/user_session]
** has_many_polymorphs: autoload hook invoked
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UserSessionsController#new (for 127.0.0.1 at 2010-12-09 21:04:21) [GET]
  Parameters: {"action"=>"new", "controller"=>"user_sessions"}
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m
Rendering template within layouts/application
Rendering user_sessions/new
Completed in 190ms (View: 48, DB: 1) | 200 OK [http://localhost/user_session/new]
** has_many_polymorphs: autoload hook invoked
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UserSessionsController#create (for 127.0.0.1 at 2010-12-09 21:04:30) [POST]
  Parameters: {"commit"=>"登录", "user_session"=>{"remember_me"=>"0", "username"=>"license_viewer", "password"=>"[FILTERED]"}, "action"=>"create", "authenticity_token"=>"Ed0tRYf9S1uM5pLhjh6QBB/w9MB3r7ph7tr9VKKhyaU=", "controller"=>"user_sessions"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (19.6ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'license_viewer') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2010-12-09 13:04:30', `perishable_token` = 'MO4DjwF4OYlAAoEhNtTe', `last_login_at` = '2010-12-08 13:41:06', `current_login_at` = '2010-12-09 13:04:30', `login_count` = 13, `last_request_at` = '2010-12-09 13:04:30' WHERE `id` = 4[0m
  [4;36;1mSQL (37.2ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3001/
Completed in 298ms (DB: 59) | 302 Found [http://localhost/user_session]
** has_many_polymorphs: autoload hook invoked
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing SiteController#index (for 127.0.0.1 at 2010-12-09 21:04:30) [GET]
  Parameters: {"action"=>"index", "controller"=>"site"}
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '4') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2010-12-09 13:04:30', `perishable_token` = 'n8tBhwXxckcvl8Mdxt', `last_request_at` = '2010-12-09 13:04:30' WHERE `id` = 4[0m
  [4;35;1mSQL (47.1ms)[0m   [0mCOMMIT[0m
Rendering template within layouts/application
Rendering site/index
Completed in 242ms (View: 166, DB: 49) | 200 OK [http://localhost/]
** has_many_polymorphs: autoload hook invoked
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mContract Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `contracts`[0m
  [4;35;1mSettings Load (0.2ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m


Processing ContractsController#index (for 127.0.0.1 at 2010-12-09 21:04:32) [GET]
  Parameters: {"action"=>"index", "controller"=>"contracts"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '4') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2010-12-09 13:04:32', `perishable_token` = 'wk2X6J03jUldWtPZQ6l', `last_request_at` = '2010-12-09 13:04:32' WHERE `id` = 4[0m
  [4;36;1mSQL (40.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `contracts` INNER JOIN contract_permissions ON contract_permissions.contract_id = contracts.id INNER JOIN user_ycroles ON contract_permissions.ycrole_id = user_ycroles.ycrole_id WHERE ((contract_permissions.can_read = true OR contract_permissions.can_write = true) and user_ycroles.user_id = 4) [0m
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT `contracts`.* FROM `contracts` INNER JOIN contract_permissions ON contract_permissions.contract_id = contracts.id INNER JOIN user_ycroles ON contract_permissions.ycrole_id = user_ycroles.ycrole_id WHERE ((contract_permissions.can_read = true OR contract_permissions.can_write = true) and user_ycroles.user_id = 4) ORDER BY `contracts`.`name` ASC LIMIT 0, 15[0m
Rendering template within layouts/application
Rendering list
Rendered _list_header (2.9ms)
Rendered _list_column_headings (8.6ms)
Rendered _messages (1.1ms)
Rendered _list_messages (157.6ms)
  [4;35;1mContract Load (0.2ms)[0m   [0mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_read` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_read` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_read` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_read` = 1) LIMIT 1[0m
  [4;35;1mPaymentPeriod Load (0.1ms)[0m   [0mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 1) [0m
  [4;36;1mPaymentPeriod Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `payment_periods`[0m
Rendered _list_record_columns (17.2ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_read` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_read` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_read` = 1) LIMIT 1[0m
  [4;36;1mContract Load (0.2ms)[0m   [0;1mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_write` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_write` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_read` = 1) LIMIT 1[0m
Rendered _list_actions (16.0ms)
Rendered _list_record (47.0ms)
Rendered _list_pagination (1.4ms)
Rendered _list (237.6ms)
Completed in 530ms (View: 469, DB: 46) | 200 OK [http://localhost/contracts]
** has_many_polymorphs: autoload hook invoked
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mContract Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `contracts`[0m
  [4;36;1mSettings Load (0.1ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m


Processing ContractsController#nested (for 127.0.0.1 at 2010-12-09 21:04:36) [GET]
  Parameters: {"action"=>"nested", "_method"=>"get", "adapter"=>"_list_inline_adapter", "id"=>"1", "controller"=>"contracts", "associations"=>"payments"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '4') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2010-12-09 13:04:36', `perishable_token` = 'h8YICID6JFYsC6u3Ycy', `last_request_at` = '2010-12-09 13:04:36' WHERE `id` = 4[0m
  [4;35;1mSQL (33.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_read` = 1) LIMIT 1[0m
  [4;36;1mPayment Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `payments`[0m
Start rendering component ({:params=>{:parent_column=>"payments", :parent_model=>"Contract", :format=>"html", :eid=>"ee0b978c3cd675890ece8fbb879055fd", :nested=>true}, :controller=>"payments", :action=>"index"}): 


Processing PaymentsController#index to html (for 127.0.0.1 at 2010-12-09 21:04:36) [GET]
  Parameters: {"parent_column"=>"payments", "eid"=>"ee0b978c3cd675890ece8fbb879055fd", "format"=>"html", "nested"=>true, "action"=>"index", "id"=>nil, "parent_model"=>"Contract", "controller"=>"payments"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '4') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2010-12-09 13:04:36', `perishable_token` = 'nSkkCW77q1YUfxwXIup5', `last_request_at` = '2010-12-09 13:04:36' WHERE `id` = 4[0m
  [4;36;1mSQL (56.2ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(DISTINCT `payments`.id) AS count_all FROM `payments` LEFT OUTER JOIN `contracts` ON `contracts`.id = `payments`.contract_id WHERE (((payments.contract_id = '1'))) [0m
  [4;36;1mPayment Load (0.1ms)[0m   [0;1mSELECT `payments`.* FROM `payments` WHERE (((payments.contract_id = '1'))) ORDER BY `payments`.`id` ASC LIMIT 0, 15[0m
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
Rendering list
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mContract Load (0.2ms)[0m   [0;1mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_write` = 1) LIMIT 1[0m
Rendered _list_header (5.7ms)
Rendered _list_column_headings (14.3ms)
Rendered _messages (1.0ms)
Rendered _list_messages (9.2ms)
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_read` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_read` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_read` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_read` = 1) LIMIT 1[0m
Rendered _list_record_columns (139.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_write` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_write` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_read` = 1) LIMIT 1[0m
Rendered _list_actions (8.3ms)
Rendered _list_record (160.1ms)
Rendered _list_pagination (1.3ms)
Rendered _list (206.9ms)
Completed in 308ms (View: 236, DB: 58) | 200 OK [http://localhost/contracts/1/nested?_method=get&associations=payments&adapter=_list_inline_adapter]


End of component rendering
Rendered _nested (454.2ms)
Rendered _messages (0.9ms)
Rendered _list_inline_adapter (8.2ms)
Completed in 532ms (View: 13, DB: 0) | 200 OK [http://localhost/contracts/1/nested?_method=get&associations=payments&adapter=_list_inline_adapter]
** has_many_polymorphs: autoload hook invoked
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mContract Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `contracts`[0m
  [4;35;1mSettings Load (0.1ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m


Processing ContractsController#nested (for 127.0.0.1 at 2010-12-09 21:04:38) [GET]
  Parameters: {"action"=>"nested", "_method"=>"get", "adapter"=>"_list_inline_adapter", "id"=>"1", "controller"=>"contracts", "associations"=>"attachments"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '4') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2010-12-09 13:04:38', `perishable_token` = 'jflNMEdXEAfBOhjCrkL', `last_request_at` = '2010-12-09 13:04:38' WHERE `id` = 4[0m
  [4;36;1mSQL (35.9ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mContract Load (0.2ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_read` = 1) LIMIT 1[0m
  [4;35;1mAttachment Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `attachments`[0m
Start rendering component ({:params=>{:parent_column=>"attachments", :parent_model=>"Contract", :format=>"html", :eid=>"7ec72d339082dddcc567a8cd6076ee3f", :nested=>true}, :controller=>"attachments", :action=>"index"}): 


Processing AttachmentsController#index to html (for 127.0.0.1 at 2010-12-09 21:04:38) [GET]
  Parameters: {"parent_column"=>"attachments", "eid"=>"7ec72d339082dddcc567a8cd6076ee3f", "format"=>"html", "nested"=>true, "action"=>"index", "id"=>nil, "parent_model"=>"Contract", "controller"=>"attachments"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '4') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2010-12-09 13:04:38', `perishable_token` = 'LKHJmJWPl9z4MXql9', `last_request_at` = '2010-12-09 13:04:38' WHERE `id` = 4[0m
  [4;35;1mSQL (31.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM `attachments` WHERE ((((attachments.attachable_id = '1') AND (attachments.attachable_type = 'Contract')))) [0m
  [4;35;1mAttachment Load (0.1ms)[0m   [0mSELECT `attachments`.* FROM `attachments` WHERE ((((attachments.attachable_id = '1') AND (attachments.attachable_type = 'Contract')))) ORDER BY `attachments`.`id` ASC LIMIT 0, 15[0m
Rendering list
  [4;36;1mContract Load (0.2ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_write` = 1) LIMIT 1[0m
Rendered _list_header (8.7ms)
Rendered _list_column_headings (2.3ms)
Rendered _messages (0.9ms)
Rendered _list_messages (11.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_read` = 1) LIMIT 1[0m
Rendered _list_record_columns (4.2ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_read` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_write` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_write` = 1) LIMIT 1[0m
Rendered _list_actions (12.1ms)
Rendered _list_record (25.9ms)
Rendered _list_pagination (1.2ms)
Rendered _list (62.3ms)
Completed in 264ms (View: 220, DB: 33) | 200 OK [http://localhost/contracts/1/nested?_method=get&associations=attachments&adapter=_list_inline_adapter]


End of component rendering
Rendered _nested (293.4ms)
Rendered _messages (0.9ms)
Rendered _list_inline_adapter (9.0ms)
Completed in 514ms (View: 153, DB: 0) | 200 OK [http://localhost/contracts/1/nested?_method=get&associations=attachments&adapter=_list_inline_adapter]
** has_many_polymorphs: autoload hook invoked
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mContract Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `contracts`[0m
  [4;35;1mSettings Load (0.2ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m


Processing ContractsController#nested (for 127.0.0.1 at 2010-12-09 21:04:40) [GET]
  Parameters: {"action"=>"nested", "_method"=>"get", "adapter"=>"_list_inline_adapter", "id"=>"1", "controller"=>"contracts", "associations"=>"payment_periods"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '4') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2010-12-09 13:04:41', `perishable_token` = '5XA51ejPpCsjUZhjUO3', `last_request_at` = '2010-12-09 13:04:41' WHERE `id` = 4[0m
  [4;36;1mSQL (42.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mContract Load (0.2ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_read` = 1) LIMIT 1[0m
  [4;35;1mPaymentPeriod Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `payment_periods`[0m
Start rendering component ({:params=>{:parent_column=>"payment_periods", :parent_model=>"Contract", :format=>"html", :eid=>"27aab028977f453c4ef738081a731981", :nested=>true}, :controller=>"payment_periods", :action=>"index"}): 


Processing PaymentPeriodsController#index to html (for 127.0.0.1 at 2010-12-09 21:04:41) [GET]
  Parameters: {"parent_column"=>"payment_periods", "eid"=>"27aab028977f453c4ef738081a731981", "format"=>"html", "nested"=>true, "action"=>"index", "id"=>nil, "parent_model"=>"Contract", "controller"=>"payment_periods"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '4') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2010-12-09 13:04:41', `perishable_token` = 'LUjbkvrq40X0kfCbT00C', `last_request_at` = '2010-12-09 13:04:41' WHERE `id` = 4[0m
  [4;35;1mSQL (31.3ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(DISTINCT `payment_periods`.id) AS count_all FROM `payment_periods` LEFT OUTER JOIN `contracts` ON `contracts`.id = `payment_periods`.contract_id WHERE (((payment_periods.contract_id = '1'))) [0m
  [4;35;1mPaymentPeriod Load (0.1ms)[0m   [0mSELECT `payment_periods`.* FROM `payment_periods` WHERE (((payment_periods.contract_id = '1'))) ORDER BY `payment_periods`.`id` ASC LIMIT 0, 15[0m
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
Rendering list
Rendered _list_header (3.8ms)
Rendered _list_column_headings (141.6ms)
Rendered _messages (1.0ms)
Rendered _list_messages (12.5ms)
  [4;35;1mContract Load (0.2ms)[0m   [0mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_read` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_read` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_read` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_read` = 1) LIMIT 1[0m
Rendered _list_record_columns (10.8ms)
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_write` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_write` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_read` = 1) LIMIT 1[0m
Rendered _list_actions (8.5ms)
Rendered _list_record (30.4ms)
Rendered _list_pagination (1.1ms)
Rendered _list (207.0ms)
Completed in 280ms (View: 235, DB: 33) | 200 OK [http://localhost/contracts/1/nested?_method=get&associations=payment_periods&adapter=_list_inline_adapter]


End of component rendering
Rendered _nested (307.7ms)
Rendered _messages (0.9ms)
Rendered _list_inline_adapter (6.9ms)
Completed in 510ms (View: 11, DB: 0) | 200 OK [http://localhost/contracts/1/nested?_method=get&associations=payment_periods&adapter=_list_inline_adapter]
** has_many_polymorphs: autoload hook invoked
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mContract Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `contracts`[0m
  [4;35;1mSettings Load (0.2ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m


Processing ContractsController#nested (for 127.0.0.1 at 2010-12-09 21:04:45) [GET]
  Parameters: {"action"=>"nested", "_method"=>"get", "adapter"=>"_list_inline_adapter", "id"=>"1", "controller"=>"contracts", "associations"=>"attachments"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '4') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (1.6ms)[0m   [0mUPDATE `users` SET `updated_at` = '2010-12-09 13:04:45', `perishable_token` = 'kXN9pAzXlyrlagyOIIn', `last_request_at` = '2010-12-09 13:04:45' WHERE `id` = 4[0m
  [4;36;1mSQL (37.2ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mContract Load (0.2ms)[0m   [0;1mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_read` = 1) LIMIT 1[0m
  [4;35;1mAttachment Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `attachments`[0m
Start rendering component ({:params=>{:parent_column=>"attachments", :parent_model=>"Contract", :format=>"html", :eid=>"7ec72d339082dddcc567a8cd6076ee3f", :nested=>true}, :controller=>"attachments", :action=>"index"}): 


Processing AttachmentsController#index to html (for 127.0.0.1 at 2010-12-09 21:04:46) [GET]
  Parameters: {"parent_column"=>"attachments", "eid"=>"7ec72d339082dddcc567a8cd6076ee3f", "format"=>"html", "nested"=>true, "action"=>"index", "id"=>nil, "parent_model"=>"Contract", "controller"=>"attachments"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '4') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2010-12-09 13:04:46', `perishable_token` = 's6UBfVSdeOjZcLFEvlE', `last_request_at` = '2010-12-09 13:04:46' WHERE `id` = 4[0m
  [4;35;1mSQL (93.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM `attachments` WHERE ((((attachments.attachable_id = '1') AND (attachments.attachable_type = 'Contract')))) [0m
  [4;35;1mAttachment Load (0.3ms)[0m   [0mSELECT `attachments`.* FROM `attachments` WHERE ((((attachments.attachable_id = '1') AND (attachments.attachable_type = 'Contract')))) ORDER BY `attachments`.`id` ASC LIMIT 0, 15[0m
Rendering list
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_write` = 1) LIMIT 1[0m
Rendered _list_header (5.9ms)
Rendered _list_column_headings (2.2ms)
Rendered _messages (0.8ms)
Rendered _list_messages (9.2ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mContract Load (0.2ms)[0m   [0;1mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_read` = 1) LIMIT 1[0m
Rendered _list_record_columns (21.9ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_read` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_write` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_write` = 1) LIMIT 1[0m
Rendered _list_actions (8.9ms)
Rendered _list_record (155.3ms)
Rendered _list_pagination (1.3ms)
Rendered _list (189.0ms)
Completed in 327ms (View: 220, DB: 96) | 200 OK [http://localhost/contracts/1/nested?_method=get&associations=attachments&adapter=_list_inline_adapter]


End of component rendering
Rendered _nested (491.2ms)
Rendered _messages (0.9ms)
Rendered _list_inline_adapter (7.7ms)
Completed in 580ms (View: 13, DB: 0) | 200 OK [http://localhost/contracts/1/nested?_method=get&associations=attachments&adapter=_list_inline_adapter]
** has_many_polymorphs: autoload hook invoked
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mContract Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `contracts`[0m
  [4;35;1mSettings Load (0.2ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m


Processing ContractsController#nested (for 127.0.0.1 at 2010-12-09 21:04:47) [GET]
  Parameters: {"action"=>"nested", "_method"=>"get", "adapter"=>"_list_inline_adapter", "id"=>"1", "controller"=>"contracts", "associations"=>"payments"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '4') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2010-12-09 13:04:47', `perishable_token` = 'CHp2XN2jYhBmLoek1pT', `last_request_at` = '2010-12-09 13:04:47' WHERE `id` = 4[0m
  [4;36;1mSQL (42.8ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_read` = 1) LIMIT 1[0m
  [4;35;1mPayment Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
Start rendering component ({:params=>{:parent_column=>"payments", :parent_model=>"Contract", :format=>"html", :eid=>"ee0b978c3cd675890ece8fbb879055fd", :nested=>true}, :controller=>"payments", :action=>"index"}): 


Processing PaymentsController#index to html (for 127.0.0.1 at 2010-12-09 21:04:47) [GET]
  Parameters: {"parent_column"=>"payments", "eid"=>"ee0b978c3cd675890ece8fbb879055fd", "format"=>"html", "nested"=>true, "action"=>"index", "id"=>nil, "parent_model"=>"Contract", "controller"=>"payments"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '4') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2010-12-09 13:04:47', `perishable_token` = 'biL9BPcHUHJUr0fH63Dt', `last_request_at` = '2010-12-09 13:04:47' WHERE `id` = 4[0m
  [4;35;1mSQL (32.3ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(DISTINCT `payments`.id) AS count_all FROM `payments` LEFT OUTER JOIN `contracts` ON `contracts`.id = `payments`.contract_id WHERE (((payments.contract_id = '1'))) [0m
  [4;35;1mPayment Load (0.1ms)[0m   [0mSELECT `payments`.* FROM `payments` WHERE (((payments.contract_id = '1'))) ORDER BY `payments`.`id` ASC LIMIT 0, 15[0m
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
Rendering list
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;35;1mContract Load (0.2ms)[0m   [0mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_write` = 1) LIMIT 1[0m
Rendered _list_header (6.1ms)
Rendered _list_column_headings (14.8ms)
Rendered _messages (0.8ms)
Rendered _list_messages (9.3ms)
  [4;36;1mContract Load (0.2ms)[0m   [0;1mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_read` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_read` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_read` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_read` = 1) LIMIT 1[0m
Rendered _list_record_columns (9.5ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_write` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_write` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_read` = 1) LIMIT 1[0m
Rendered _list_actions (7.9ms)
Rendered _list_record (26.7ms)
Rendered _list_pagination (1.7ms)
Rendered _list (78.1ms)
Completed in 276ms (View: 230, DB: 34) | 200 OK [http://localhost/contracts/1/nested?_method=get&associations=payments&adapter=_list_inline_adapter]


End of component rendering
Rendered _nested (303.8ms)
Rendered _messages (1.0ms)
Rendered _list_inline_adapter (8.8ms)
Completed in 526ms (View: 147, DB: 0) | 200 OK [http://localhost/contracts/1/nested?_method=get&associations=payments&adapter=_list_inline_adapter]
** has_many_polymorphs: autoload hook invoked
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mContract Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `contracts`[0m
  [4;36;1mSettings Load (0.2ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m


Processing ContractsController#nested (for 127.0.0.1 at 2010-12-09 21:04:50) [GET]
  Parameters: {"action"=>"nested", "_method"=>"get", "adapter"=>"_list_inline_adapter", "id"=>"1", "controller"=>"contracts", "associations"=>"payment_periods"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '4') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2010-12-09 13:04:50', `perishable_token` = 'xn64kjNmcpQ4aaLHOnA9', `last_request_at` = '2010-12-09 13:04:50' WHERE `id` = 4[0m
  [4;35;1mSQL (38.2ms)[0m   [0mCOMMIT[0m
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_read` = 1) LIMIT 1[0m
  [4;36;1mPaymentPeriod Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `payment_periods`[0m
Start rendering component ({:params=>{:parent_column=>"payment_periods", :parent_model=>"Contract", :format=>"html", :eid=>"27aab028977f453c4ef738081a731981", :nested=>true}, :controller=>"payment_periods", :action=>"index"}): 


Processing PaymentPeriodsController#index to html (for 127.0.0.1 at 2010-12-09 21:04:50) [GET]
  Parameters: {"parent_column"=>"payment_periods", "eid"=>"27aab028977f453c4ef738081a731981", "format"=>"html", "nested"=>true, "action"=>"index", "id"=>nil, "parent_model"=>"Contract", "controller"=>"payment_periods"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '4') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2010-12-09 13:04:50', `perishable_token` = 'k9D8Zquv38OowFTtVWQL', `last_request_at` = '2010-12-09 13:04:50' WHERE `id` = 4[0m
  [4;36;1mSQL (30.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(DISTINCT `payment_periods`.id) AS count_all FROM `payment_periods` LEFT OUTER JOIN `contracts` ON `contracts`.id = `payment_periods`.contract_id WHERE (((payment_periods.contract_id = '1'))) [0m
  [4;36;1mPaymentPeriod Load (0.1ms)[0m   [0;1mSELECT `payment_periods`.* FROM `payment_periods` WHERE (((payment_periods.contract_id = '1'))) ORDER BY `payment_periods`.`id` ASC LIMIT 0, 15[0m
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
Rendering list
Rendered _list_header (3.8ms)
Rendered _list_column_headings (143.6ms)
Rendered _messages (0.9ms)
Rendered _list_messages (56.9ms)
  [4;36;1mContract Load (0.2ms)[0m   [0;1mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_read` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_read` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_read` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_read` = 1) LIMIT 1[0m
Rendered _list_record_columns (10.8ms)
  [4;36;1mContract Load (0.2ms)[0m   [0;1mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_write` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_write` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_read` = 1) LIMIT 1[0m
Rendered _list_actions (8.0ms)
Rendered _list_record (29.5ms)
Rendered _list_pagination (1.1ms)
Rendered _list (252.7ms)
Completed in 323ms (View: 279, DB: 32) | 200 OK [http://localhost/contracts/1/nested?_method=get&associations=payment_periods&adapter=_list_inline_adapter]


End of component rendering
Rendered _nested (350.8ms)
Rendered _messages (0.9ms)
Rendered _list_inline_adapter (7.0ms)
Completed in 437ms (View: 11, DB: 0) | 200 OK [http://localhost/contracts/1/nested?_method=get&associations=payment_periods&adapter=_list_inline_adapter]
** has_many_polymorphs: autoload hook invoked
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mContract Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `contracts`[0m
  [4;36;1mSettings Load (0.2ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m


Processing ContractsController#row (for 127.0.0.1 at 2010-12-09 21:06:08) [GET]
  Parameters: {"action"=>"row", "_method"=>"get", "id"=>"1", "controller"=>"contracts"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '4') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2010-12-09 13:06:08', `perishable_token` = 'smov8Yjx9GRsbXgHUY5c', `last_request_at` = '2010-12-09 13:06:08' WHERE `id` = 4[0m
  [4;35;1mSQL (43.9ms)[0m   [0mCOMMIT[0m
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_read` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_read` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_read` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_read` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_read` = 1) LIMIT 1[0m
  [4;36;1mPaymentPeriod Load (0.1ms)[0m   [0;1mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 1) [0m
  [4;35;1mPaymentPeriod Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `payment_periods`[0m
Rendered _list_record_columns (132.2ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_read` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_read` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_read` = 1) LIMIT 1[0m
  [4;35;1mContract Load (0.2ms)[0m   [0mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_write` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_write` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_read` = 1) LIMIT 1[0m
Rendered _list_actions (13.8ms)
Rendered _list_record (158.2ms)
Completed in 233ms (View: 169, DB: 48) | 200 OK [http://localhost/contracts/1/row?_method=get]
** has_many_polymorphs: autoload hook invoked
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mContract Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `contracts`[0m
  [4;35;1mSettings Load (0.2ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m


Processing ContractsController#nested (for 127.0.0.1 at 2010-12-09 21:06:09) [GET]
  Parameters: {"action"=>"nested", "_method"=>"get", "adapter"=>"_list_inline_adapter", "id"=>"1", "controller"=>"contracts", "associations"=>"payment_periods"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '4') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2010-12-09 13:06:09', `perishable_token` = 'l9DDkoG4dh4NGn15lCUK', `last_request_at` = '2010-12-09 13:06:09' WHERE `id` = 4[0m
  [4;36;1mSQL (43.2ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mContract Load (0.2ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_read` = 1) LIMIT 1[0m
  [4;35;1mPaymentPeriod Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `payment_periods`[0m
Start rendering component ({:params=>{:parent_column=>"payment_periods", :parent_model=>"Contract", :format=>"html", :eid=>"27aab028977f453c4ef738081a731981", :nested=>true}, :controller=>"payment_periods", :action=>"index"}): 


Processing PaymentPeriodsController#index to html (for 127.0.0.1 at 2010-12-09 21:06:09) [GET]
  Parameters: {"parent_column"=>"payment_periods", "eid"=>"27aab028977f453c4ef738081a731981", "format"=>"html", "nested"=>true, "action"=>"index", "id"=>nil, "parent_model"=>"Contract", "controller"=>"payment_periods"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '4') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2010-12-09 13:06:09', `perishable_token` = 'Rw4J7nB9SPPL12ZUGssG', `last_request_at` = '2010-12-09 13:06:09' WHERE `id` = 4[0m
  [4;35;1mSQL (30.2ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(DISTINCT `payment_periods`.id) AS count_all FROM `payment_periods` LEFT OUTER JOIN `contracts` ON `contracts`.id = `payment_periods`.contract_id WHERE (((payment_periods.contract_id = '1'))) [0m
  [4;35;1mPaymentPeriod Load (0.1ms)[0m   [0mSELECT `payment_periods`.* FROM `payment_periods` WHERE (((payment_periods.contract_id = '1'))) ORDER BY `payment_periods`.`id` ASC LIMIT 0, 15[0m
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
Rendering list
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_write` = 1) LIMIT 1[0m
Rendered _list_header (5.5ms)
Rendered _list_column_headings (17.5ms)
Rendered _messages (0.8ms)
Rendered _list_messages (10.5ms)
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_read` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_read` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_read` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_read` = 1) LIMIT 1[0m
Rendered _list_record_columns (12.9ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_write` = 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_write` = 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT `contracts`.* FROM `contracts` INNER JOIN `contract_permissions` ON (`contracts`.`id` = `contract_permissions`.`contract_id`) INNER JOIN `ycroles` ON (`ycroles`.`id` = `contract_permissions`.`ycrole_id`) INNER JOIN `user_ycroles` ON user_ycroles.ycrole_id = ycroles.id WHERE (`user_ycroles`.`user_id` = 4 AND `contracts`.`id` = 1 AND `contract_permissions`.`can_read` = 1) LIMIT 1[0m
Rendered _list_actions (7.9ms)
Rendered _list_record (30.5ms)
Rendered _list_pagination (1.1ms)
Rendered _list (208.2ms)
Completed in 279ms (View: 235, DB: 33) | 200 OK [http://localhost/contracts/1/nested?_method=get&associations=payment_periods&adapter=_list_inline_adapter]


End of component rendering
Rendered _nested (307.5ms)
Rendered _messages (0.9ms)
Rendered _list_inline_adapter (6.9ms)
Completed in 397ms (View: 11, DB: 0) | 200 OK [http://localhost/contracts/1/nested?_method=get&associations=payment_periods&adapter=_list_inline_adapter]
** has_many_polymorphs: autoload hook invoked
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UserSessionsController#destroy (for 127.0.0.1 at 2010-12-09 21:06:15) [DELETE]
  Parameters: {"action"=>"destroy", "_method"=>"delete", "authenticity_token"=>"Ed0tRYf9S1uM5pLhjh6QBB/w9MB3r7ph7tr9VKKhyaU=", "controller"=>"user_sessions"}
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '4') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2010-12-09 13:06:15', `perishable_token` = 'CpSzMPyFnPpxy2pO8Wq', `last_request_at` = '2010-12-09 13:06:15' WHERE `id` = 4[0m
  [4;35;1mSQL (32.6ms)[0m   [0mCOMMIT[0m
Redirected to http://localhost:3001/user_session/new
Completed in 62ms (DB: 35) | 302 Found [http://localhost/user_session]
** has_many_polymorphs: autoload hook invoked
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UserSessionsController#new (for 127.0.0.1 at 2010-12-09 21:06:15) [GET]
  Parameters: {"action"=>"new", "controller"=>"user_sessions"}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
Rendering template within layouts/application
Rendering user_sessions/new
Completed in 189ms (View: 169, DB: 2) | 200 OK [http://localhost/user_session/new]
** has_many_polymorphs: autoload hook invoked
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing UserSessionsController#create (for 127.0.0.1 at 2010-12-09 21:06:19) [POST]
  Parameters: {"commit"=>"登录", "user_session"=>{"remember_me"=>"0", "username"=>"admin", "password"=>"[FILTERED]"}, "action"=>"create", "authenticity_token"=>"Ed0tRYf9S1uM5pLhjh6QBB/w9MB3r7ph7tr9VKKhyaU=", "controller"=>"user_sessions"}
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m
Rendering template within layouts/application
Rendering user_sessions/new
Completed in 71ms (View: 47, DB: 2) | 200 OK [http://localhost/user_session]
** has_many_polymorphs: autoload hook invoked
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing UserSessionsController#create (for 127.0.0.1 at 2010-12-09 21:06:29) [POST]
  Parameters: {"commit"=>"登录", "user_session"=>{"remember_me"=>"0", "username"=>"admin", "password"=>"[FILTERED]"}, "action"=>"create", "authenticity_token"=>"Ed0tRYf9S1uM5pLhjh6QBB/w9MB3r7ph7tr9VKKhyaU=", "controller"=>"user_sessions"}
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (LOWER(`users`.username) = 'admin') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2010-12-09 13:06:29', `perishable_token` = 'kUHcTaqh8sufPRcZWKC', `last_login_at` = '2010-12-08 13:53:29', `current_login_at` = '2010-12-09 13:06:29', `login_count` = 14, `last_request_at` = '2010-12-09 13:06:29' WHERE `id` = 1[0m
  [4;36;1mSQL (37.5ms)[0m   [0;1mCOMMIT[0m
Redirected to http://localhost:3001/
Completed in 74ms (DB: 40) | 302 Found [http://localhost/user_session]
** has_many_polymorphs: autoload hook invoked
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m


Processing SiteController#index (for 127.0.0.1 at 2010-12-09 21:06:29) [GET]
  Parameters: {"action"=>"index", "controller"=>"site"}
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2010-12-09 13:06:29', `perishable_token` = 'bVCDmFn52vzSnAwmLDuL', `last_request_at` = '2010-12-09 13:06:29' WHERE `id` = 1[0m
  [4;35;1mSQL (38.8ms)[0m   [0mCOMMIT[0m
Rendering template within layouts/application
Rendering site/index
Completed in 235ms (View: 168, DB: 41) | 200 OK [http://localhost/]
** has_many_polymorphs: autoload hook invoked
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mContract Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `contracts`[0m
  [4;35;1mSettings Load (0.1ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m


Processing ContractsController#index (for 127.0.0.1 at 2010-12-09 21:06:32) [GET]
  Parameters: {"action"=>"index", "controller"=>"contracts"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2010-12-09 13:06:32', `perishable_token` = 'MvS550zRhBpUBRLLYxM', `last_request_at` = '2010-12-09 13:06:32' WHERE `id` = 1[0m
  [4;36;1mSQL (37.4ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `contracts` INNER JOIN contract_permissions ON contract_permissions.contract_id = contracts.id INNER JOIN user_ycroles ON contract_permissions.ycrole_id = user_ycroles.ycrole_id WHERE ((contract_permissions.can_read = true OR contract_permissions.can_write = true) and user_ycroles.user_id = 1) [0m
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT `contracts`.* FROM `contracts` INNER JOIN contract_permissions ON contract_permissions.contract_id = contracts.id INNER JOIN user_ycroles ON contract_permissions.ycrole_id = user_ycroles.ycrole_id WHERE ((contract_permissions.can_read = true OR contract_permissions.can_write = true) and user_ycroles.user_id = 1) ORDER BY `contracts`.`name` ASC LIMIT 0, 15[0m
Rendering template within layouts/application
Rendering list
Rendered _list_header (3.7ms)
Rendered _list_column_headings (11.9ms)
Rendered _messages (1.0ms)
Rendered _list_messages (11.7ms)
  [4;35;1mPaymentPeriod Load (0.1ms)[0m   [0mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 1) [0m
  [4;36;1mPaymentPeriod Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `payment_periods`[0m
Rendered _list_record_columns (9.4ms)
Rendered _list_actions (7.8ms)
Rendered _list_record (29.3ms)
Rendered _list_pagination (1.6ms)
Rendered _list (208.9ms)
Completed in 506ms (View: 446, DB: 42) | 200 OK [http://localhost/contracts]
** has_many_polymorphs: autoload hook invoked
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mContract Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `contracts`[0m
  [4;36;1mSettings Load (7.8ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m


Processing ContractsController#nested (for 127.0.0.1 at 2010-12-09 21:06:35) [GET]
  Parameters: {"action"=>"nested", "_method"=>"get", "adapter"=>"_list_inline_adapter", "id"=>"1", "controller"=>"contracts", "associations"=>"payment_periods"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2010-12-09 13:06:35', `perishable_token` = 'om8AAIH3qThRt919MXv5', `last_request_at` = '2010-12-09 13:06:35' WHERE `id` = 1[0m
  [4;35;1mSQL (43.3ms)[0m   [0mCOMMIT[0m
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;35;1mPaymentPeriod Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `payment_periods`[0m
Start rendering component ({:params=>{:parent_column=>"payment_periods", :parent_model=>"Contract", :format=>"html", :eid=>"27aab028977f453c4ef738081a731981", :nested=>true}, :controller=>"payment_periods", :action=>"index"}): 


Processing PaymentPeriodsController#index to html (for 127.0.0.1 at 2010-12-09 21:06:35) [GET]
  Parameters: {"parent_column"=>"payment_periods", "eid"=>"27aab028977f453c4ef738081a731981", "format"=>"html", "nested"=>true, "action"=>"index", "id"=>nil, "parent_model"=>"Contract", "controller"=>"payment_periods"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2010-12-09 13:06:35', `perishable_token` = 'Ynmul9BdbnvxNyzrzfY', `last_request_at` = '2010-12-09 13:06:35' WHERE `id` = 1[0m
  [4;35;1mSQL (82.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(DISTINCT `payment_periods`.id) AS count_all FROM `payment_periods` LEFT OUTER JOIN `contracts` ON `contracts`.id = `payment_periods`.contract_id WHERE (((payment_periods.contract_id = '1'))) [0m
  [4;35;1mPaymentPeriod Load (0.1ms)[0m   [0mSELECT `payment_periods`.* FROM `payment_periods` WHERE (((payment_periods.contract_id = '1'))) ORDER BY `payment_periods`.`id` ASC LIMIT 0, 15[0m
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
Rendering list
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
Rendered _list_header (4.9ms)
Rendered _list_column_headings (15.4ms)
Rendered _messages (0.8ms)
Rendered _list_messages (9.1ms)
Rendered _list_record_columns (4.1ms)
Rendered _list_actions (26.4ms)
Rendered _list_record (156.7ms)
Rendered _list_pagination (1.2ms)
Rendered _list (204.3ms)
Completed in 332ms (View: 234, DB: 84) | 200 OK [http://localhost/contracts/1/nested?_method=get&associations=payment_periods&adapter=_list_inline_adapter]


End of component rendering
Rendered _nested (478.9ms)
Rendered _messages (1.1ms)
Rendered _list_inline_adapter (8.2ms)
Completed in 566ms (View: 15, DB: 0) | 200 OK [http://localhost/contracts/1/nested?_method=get&associations=payment_periods&adapter=_list_inline_adapter]
** has_many_polymorphs: autoload hook invoked
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPaymentPeriod Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `payment_periods`[0m
  [4;36;1mSettings Load (0.2ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;35;1mContract Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `contracts`[0m
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m


Processing PaymentPeriodsController#new (for 127.0.0.1 at 2010-12-09 21:06:37) [GET]
  Parameters: {"eid"=>"27aab028977f453c4ef738081a731981", "parent_column"=>"payment_periods", "nested"=>"true", "action"=>"new", "_method"=>"get", "adapter"=>"_list_inline_adapter", "parent_model"=>"Contract", "controller"=>"payment_periods"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2010-12-09 13:06:37', `perishable_token` = 'IMPwvHmNFr6ixw8mp9eQ', `last_request_at` = '2010-12-09 13:06:37' WHERE `id` = 1[0m
  [4;36;1mSQL (35.2ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
Rendered _form_attribute (2.7ms)
Rendered _form_attribute (1.7ms)
Rendered _form_attribute (1.6ms)
Rendered _form_attribute (1.3ms)
Rendered _form (21.0ms)
Rendered _create_form (183.2ms)
Rendered _messages (1.2ms)
Rendered _list_inline_adapter (9.2ms)
Completed in 268ms (View: 16, DB: 0) | 200 OK [http://localhost/payment_periods/new?_method=get&eid=27aab028977f453c4ef738081a731981&nested=true&parent_column=payment_periods&parent_model=Contract&adapter=_list_inline_adapter]
** has_many_polymorphs: autoload hook invoked
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mPaymentPeriod Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `payment_periods`[0m
  [4;35;1mSettings Load (0.2ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;36;1mContract Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `contracts`[0m
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m


Processing PaymentPeriodsController#create (for 127.0.0.1 at 2010-12-09 21:06:39) [POST]
  Parameters: {"eid"=>"27aab028977f453c4ef738081a731981", "parent_column"=>"payment_periods", "commit"=>"创建", "nested"=>"true", "action"=>"create", "authenticity_token"=>"Ed0tRYf9S1uM5pLhjh6QBB/w9MB3r7ph7tr9VKKhyaU=", "parent_model"=>"Contract", "controller"=>"payment_periods", "record"=>{"start_date"=>"", "first_payment_date"=>"", "end_date"=>"", "num_payments"=>"1"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2010-12-09 13:06:39', `perishable_token` = 'jfk9ibDutxDHH6ZEdAf4', `last_request_at` = '2010-12-09 13:06:39' WHERE `id` = 1[0m
  [4;35;1mSQL (38.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m

NoMethodError (undefined method `<' for nil:NilClass):
  app/models/payment_period.rb:23:in `end_date_cannot_be_less_than_start_date'


Rendered rescues/_trace (39.4ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)
** has_many_polymorphs: autoload hook invoked
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPaymentPeriod Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `payment_periods`[0m
  [4;36;1mSettings Load (0.2ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;35;1mContract Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `contracts`[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m


Processing PaymentPeriodsController#create (for 127.0.0.1 at 2010-12-09 21:08:30) [POST]
  Parameters: {"eid"=>"27aab028977f453c4ef738081a731981", "parent_column"=>"payment_periods", "commit"=>"创建", "nested"=>"true", "action"=>"create", "authenticity_token"=>"Ed0tRYf9S1uM5pLhjh6QBB/w9MB3r7ph7tr9VKKhyaU=", "parent_model"=>"Contract", "controller"=>"payment_periods", "record"=>{"start_date"=>"", "first_payment_date"=>"", "end_date"=>"", "num_payments"=>"1"}}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2010-12-09 13:08:30', `perishable_token` = 'xe9qSiMjYZyFacbCrBw3', `last_request_at` = '2010-12-09 13:08:30' WHERE `id` = 1[0m
  [4;36;1mSQL (44.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m

NoMethodError (undefined method `<' for nil:NilClass):
  app/models/payment_period.rb:24:in `end_date_cannot_be_less_than_start_date'


Rendered rescues/_trace (37.8ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
** has_many_polymorphs: rails environment detected
** has_many_polymorphs: loaded ok
** has_many_polymorphs: autoload hook invoked
** has_many_polymorphs: autoload hook invoked
ActiveScaffold: extending RESTful routes for user_ycroles
ActiveScaffold: extending RESTful routes for ycroles
ActiveScaffold: extending RESTful routes for documents
ActiveScaffold: extending RESTful routes for contracts
ActiveScaffold: extending RESTful routes for payments
ActiveScaffold: extending RESTful routes for expiration_remindings
ActiveScaffold: extending RESTful routes for licenses
ActiveScaffold: extending RESTful routes for archives
ActiveScaffold: extending RESTful routes for settings
ActiveScaffold: extending RESTful routes for users
ActiveScaffold: extending RESTful routes for expiration_remindings
ActiveScaffold: extending RESTful routes for payment_remindings
ActiveScaffold: extending RESTful routes for audits
** has_many_polymorphs: autoload hook invoked
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing SiteController#index (for 127.0.0.1 at 2010-12-09 21:08:46) [GET]
  Parameters: {"action"=>"index", "controller"=>"site"}
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2010-12-09 13:08:46', `perishable_token` = 'Zasp8JQe2GbxHqBAdBb', `last_request_at` = '2010-12-09 13:08:46' WHERE `id` = 1[0m
  [4;36;1mSQL (33.4ms)[0m   [0;1mCOMMIT[0m
Rendering template within layouts/application
Rendering site/index
Completed in 237ms (View: 57, DB: 37) | 200 OK [http://localhost/]
** has_many_polymorphs: autoload hook invoked
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mContract Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `contracts`[0m
  [4;36;1mSettings Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `settings`[0m
  [4;35;1mSettings Load (0.1ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m


Processing ContractsController#index (for 127.0.0.1 at 2010-12-09 21:08:49) [GET]
  Parameters: {"action"=>"index", "controller"=>"contracts"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2010-12-09 13:08:49', `perishable_token` = 'Nokk5z8LdnZyjIS6R', `last_request_at` = '2010-12-09 13:08:49' WHERE `id` = 1[0m
  [4;36;1mSQL (34.9ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `contracts` INNER JOIN contract_permissions ON contract_permissions.contract_id = contracts.id INNER JOIN user_ycroles ON contract_permissions.ycrole_id = user_ycroles.ycrole_id WHERE ((contract_permissions.can_read = true OR contract_permissions.can_write = true) and user_ycroles.user_id = 1) [0m
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT `contracts`.* FROM `contracts` INNER JOIN contract_permissions ON contract_permissions.contract_id = contracts.id INNER JOIN user_ycroles ON contract_permissions.ycrole_id = user_ycroles.ycrole_id WHERE ((contract_permissions.can_read = true OR contract_permissions.can_write = true) and user_ycroles.user_id = 1) ORDER BY `contracts`.`name` ASC LIMIT 0, 15[0m
Rendering template within layouts/application
Rendering list
Rendered _list_header (8.1ms)
Rendered _list_column_headings (12.0ms)
Rendered _messages (0.8ms)
Rendered _list_messages (10.0ms)
  [4;35;1mPaymentPeriod Load (0.1ms)[0m   [0mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 1) [0m
  [4;36;1mPaymentPeriod Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `payment_periods`[0m
Rendered _list_record_columns (8.2ms)
Rendered _list_actions (17.6ms)
Rendered _list_record (38.8ms)
Rendered _list_pagination (1.2ms)
Rendered _list (82.8ms)
Completed in 470ms (View: 412, DB: 40) | 200 OK [http://localhost/contracts]
** has_many_polymorphs: autoload hook invoked
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mContract Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `contracts`[0m
  [4;36;1mSettings Load (0.2ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m


Processing ContractsController#nested (for 127.0.0.1 at 2010-12-09 21:08:52) [GET]
  Parameters: {"action"=>"nested", "_method"=>"get", "adapter"=>"_list_inline_adapter", "id"=>"1", "controller"=>"contracts", "associations"=>"payment_periods"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2010-12-09 13:08:52', `perishable_token` = 'mggS4htDHaxV87M4FWW', `last_request_at` = '2010-12-09 13:08:52' WHERE `id` = 1[0m
  [4;35;1mSQL (38.9ms)[0m   [0mCOMMIT[0m
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;35;1mPaymentPeriod Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `payment_periods`[0m
Start rendering component ({:params=>{:parent_column=>"payment_periods", :parent_model=>"Contract", :format=>"html", :eid=>"27aab028977f453c4ef738081a731981", :nested=>true}, :controller=>"payment_periods", :action=>"index"}): 


Processing PaymentPeriodsController#index to html (for 127.0.0.1 at 2010-12-09 21:08:52) [GET]
  Parameters: {"parent_column"=>"payment_periods", "eid"=>"27aab028977f453c4ef738081a731981", "format"=>"html", "nested"=>true, "action"=>"index", "id"=>nil, "parent_model"=>"Contract", "controller"=>"payment_periods"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2010-12-09 13:08:52', `perishable_token` = '0Y0PaIibbAucRFiwfGDl', `last_request_at` = '2010-12-09 13:08:52' WHERE `id` = 1[0m
  [4;35;1mSQL (29.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(DISTINCT `payment_periods`.id) AS count_all FROM `payment_periods` LEFT OUTER JOIN `contracts` ON `contracts`.id = `payment_periods`.contract_id WHERE (((payment_periods.contract_id = '1'))) [0m
  [4;35;1mPaymentPeriod Load (0.1ms)[0m   [0mSELECT `payment_periods`.* FROM `payment_periods` WHERE (((payment_periods.contract_id = '1'))) ORDER BY `payment_periods`.`id` ASC LIMIT 0, 15[0m
  [4;36;1mContract Load (0.2ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
Rendering list
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
Rendered _list_header (8.9ms)
Rendered _list_column_headings (16.8ms)
Rendered _messages (0.9ms)
Rendered _list_messages (12.9ms)
Rendered _list_record_columns (5.2ms)
Rendered _list_actions (14.6ms)
Rendered _list_record (31.0ms)
Rendered _list_pagination (1.3ms)
Rendered _list (82.7ms)
Completed in 264ms (View: 221, DB: 31) | 200 OK [http://localhost/contracts/1/nested?_method=get&associations=payment_periods&adapter=_list_inline_adapter]


End of component rendering
Rendered _nested (399.2ms)
Rendered _messages (1.1ms)
Rendered _list_inline_adapter (9.4ms)
Completed in 502ms (View: 16, DB: 0) | 200 OK [http://localhost/contracts/1/nested?_method=get&associations=payment_periods&adapter=_list_inline_adapter]
** has_many_polymorphs: autoload hook invoked
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPaymentPeriod Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `payment_periods`[0m
  [4;36;1mSettings Load (0.2ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;35;1mContract Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `contracts`[0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m


Processing PaymentPeriodsController#new (for 127.0.0.1 at 2010-12-09 21:08:54) [GET]
  Parameters: {"eid"=>"27aab028977f453c4ef738081a731981", "parent_column"=>"payment_periods", "nested"=>"true", "action"=>"new", "_method"=>"get", "adapter"=>"_list_inline_adapter", "parent_model"=>"Contract", "controller"=>"payment_periods"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2010-12-09 13:08:54', `perishable_token` = 'IjZuk937dK4QiXhkUa', `last_request_at` = '2010-12-09 13:08:54' WHERE `id` = 1[0m
  [4;36;1mSQL (38.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
Rendered _form_attribute (109.8ms)
Rendered _form_attribute (1.7ms)
Rendered _form_attribute (1.9ms)
Rendered _form_attribute (1.1ms)
Rendered _form (127.3ms)
Rendered _create_form (143.3ms)
Rendered _messages (1.2ms)
Rendered _list_inline_adapter (8.3ms)
Completed in 227ms (View: 14, DB: 0) | 200 OK [http://localhost/payment_periods/new?_method=get&eid=27aab028977f453c4ef738081a731981&nested=true&parent_column=payment_periods&parent_model=Contract&adapter=_list_inline_adapter]
** has_many_polymorphs: autoload hook invoked
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mPaymentPeriod Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `payment_periods`[0m
  [4;35;1mSettings Load (0.2ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;36;1mContract Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `contracts`[0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m


Processing PaymentPeriodsController#create (for 127.0.0.1 at 2010-12-09 21:08:56) [POST]
  Parameters: {"eid"=>"27aab028977f453c4ef738081a731981", "parent_column"=>"payment_periods", "commit"=>"创建", "nested"=>"true", "action"=>"create", "authenticity_token"=>"Ed0tRYf9S1uM5pLhjh6QBB/w9MB3r7ph7tr9VKKhyaU=", "parent_model"=>"Contract", "controller"=>"payment_periods", "record"=>{"start_date"=>"", "first_payment_date"=>"", "end_date"=>"", "num_payments"=>"1"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2010-12-09 13:08:56', `perishable_token` = 'Dq8WoNHQlpgcAaoBLD7', `last_request_at` = '2010-12-09 13:08:56' WHERE `id` = 1[0m
  [4;35;1mSQL (75.2ms)[0m   [0mCOMMIT[0m
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m

NoMethodError (undefined method `<' for nil:NilClass):
  app/models/payment_period.rb:24:in `end_date_cannot_be_less_than_start_date'


Rendered rescues/_trace (153.1ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)
** has_many_polymorphs: autoload hook invoked
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPaymentPeriod Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `payment_periods`[0m
  [4;36;1mSettings Load (0.2ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;35;1mContract Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `contracts`[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m


Processing PaymentPeriodsController#create (for 127.0.0.1 at 2010-12-09 21:10:56) [POST]
  Parameters: {"eid"=>"27aab028977f453c4ef738081a731981", "parent_column"=>"payment_periods", "commit"=>"创建", "nested"=>"true", "action"=>"create", "authenticity_token"=>"Ed0tRYf9S1uM5pLhjh6QBB/w9MB3r7ph7tr9VKKhyaU=", "parent_model"=>"Contract", "controller"=>"payment_periods", "record"=>{"start_date"=>"2010-12-02", "first_payment_date"=>"", "end_date"=>"", "num_payments"=>"1"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2010-12-09 13:10:56', `perishable_token` = '2fbAj70OjfsC21cUen0', `last_request_at` = '2010-12-09 13:10:56' WHERE `id` = 1[0m
  [4;36;1mSQL (36.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mContract Load (0.3ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m

NoMethodError (undefined method `<' for nil:NilClass):
  app/models/payment_period.rb:24:in `end_date_cannot_be_less_than_start_date'


Rendered rescues/_trace (154.9ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
** has_many_polymorphs: autoload hook invoked
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mPaymentPeriod Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `payment_periods`[0m
  [4;35;1mSettings Load (0.2ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;36;1mContract Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `contracts`[0m
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m


Processing PaymentPeriodsController#create (for 127.0.0.1 at 2010-12-09 21:11:15) [POST]
  Parameters: {"eid"=>"27aab028977f453c4ef738081a731981", "parent_column"=>"payment_periods", "commit"=>"创建", "nested"=>"true", "action"=>"create", "authenticity_token"=>"Ed0tRYf9S1uM5pLhjh6QBB/w9MB3r7ph7tr9VKKhyaU=", "parent_model"=>"Contract", "controller"=>"payment_periods", "record"=>{"start_date"=>"2010-12-02", "first_payment_date"=>"", "end_date"=>"2010-12-18", "num_payments"=>"1"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2010-12-09 13:11:15', `perishable_token` = 'OmGMvnB6dcl9XfxIc7e', `last_request_at` = '2010-12-09 13:11:15' WHERE `id` = 1[0m
  [4;35;1mSQL (39.8ms)[0m   [0mCOMMIT[0m
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m

NoMethodError (undefined method `<' for nil:NilClass):
  app/models/payment_period.rb:28:in `first_payment_date_cannot_be_less_than_start_date'


Rendered rescues/_trace (145.4ms)
Rendered rescues/_request_and_response (0.6ms)
Rendering rescues/layout (internal_server_error)
** has_many_polymorphs: autoload hook invoked
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPaymentPeriod Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `payment_periods`[0m
  [4;36;1mSettings Load (0.2ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;35;1mContract Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `contracts`[0m
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m


Processing PaymentPeriodsController#create (for 127.0.0.1 at 2010-12-09 21:11:22) [POST]
  Parameters: {"eid"=>"27aab028977f453c4ef738081a731981", "parent_column"=>"payment_periods", "commit"=>"创建", "nested"=>"true", "action"=>"create", "authenticity_token"=>"Ed0tRYf9S1uM5pLhjh6QBB/w9MB3r7ph7tr9VKKhyaU=", "parent_model"=>"Contract", "controller"=>"payment_periods", "record"=>{"start_date"=>"2010-12-02", "first_payment_date"=>"2010-12-02", "end_date"=>"2010-12-18", "num_payments"=>"1"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2010-12-09 13:11:22', `perishable_token` = 'pZ6dL8CjTlpl5jjSZC', `last_request_at` = '2010-12-09 13:11:22' WHERE `id` = 1[0m
  [4;36;1mSQL (39.4ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;35;1mPaymentPeriod Create (0.4ms)[0m   [0mINSERT INTO `payment_periods` (`start_date`, `first_payment_date`, `end_date`, `contract_id`, `num_payments`) VALUES('2010-12-02', '2010-12-02', '2010-12-18', 1, 1)[0m
  [4;36;1mSQL (30.0ms)[0m   [0;1mCOMMIT[0m
Rendering on_create
Rendered _list_record_columns (3.9ms)
Rendered _list_actions (6.3ms)
Rendered _list_record (127.7ms)
Rendered _messages (0.9ms)
Completed in 247ms (View: 150, DB: 74) | 200 OK [http://localhost/payment_periods/create?eid=27aab028977f453c4ef738081a731981&nested=true&parent_column=payment_periods&parent_model=Contract]
** has_many_polymorphs: rails environment detected
** has_many_polymorphs: loaded ok
** has_many_polymorphs: autoload hook invoked
** has_many_polymorphs: autoload hook invoked
ActiveScaffold: extending RESTful routes for user_ycroles
ActiveScaffold: extending RESTful routes for ycroles
ActiveScaffold: extending RESTful routes for documents
ActiveScaffold: extending RESTful routes for contracts
ActiveScaffold: extending RESTful routes for payments
ActiveScaffold: extending RESTful routes for expiration_remindings
ActiveScaffold: extending RESTful routes for licenses
ActiveScaffold: extending RESTful routes for archives
ActiveScaffold: extending RESTful routes for settings
ActiveScaffold: extending RESTful routes for users
ActiveScaffold: extending RESTful routes for expiration_remindings
ActiveScaffold: extending RESTful routes for payment_remindings
ActiveScaffold: extending RESTful routes for audits
** has_many_polymorphs: autoload hook invoked
  [4;36;1mSQL (0.3ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing SiteController#index (for 127.0.0.1 at 2010-12-09 21:12:31) [GET]
  Parameters: {"action"=>"index", "controller"=>"site"}
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2010-12-09 13:12:31', `perishable_token` = 'PyihIKS0gasbPplcg', `last_request_at` = '2010-12-09 13:12:31' WHERE `id` = 1[0m
  [4;36;1mSQL (35.3ms)[0m   [0;1mCOMMIT[0m
Rendering template within layouts/application
Rendering site/index
Completed in 243ms (View: 55, DB: 39) | 200 OK [http://localhost/]
** has_many_polymorphs: autoload hook invoked
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mContract Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `contracts`[0m
  [4;36;1mSettings Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `settings`[0m
  [4;35;1mSettings Load (0.2ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m


Processing ContractsController#index (for 127.0.0.1 at 2010-12-09 21:12:33) [GET]
  Parameters: {"action"=>"index", "controller"=>"contracts"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2010-12-09 13:12:33', `perishable_token` = 'HIuLI013HsKxkyvfVWIC', `last_request_at` = '2010-12-09 13:12:33' WHERE `id` = 1[0m
  [4;36;1mSQL (38.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `contracts` INNER JOIN contract_permissions ON contract_permissions.contract_id = contracts.id INNER JOIN user_ycroles ON contract_permissions.ycrole_id = user_ycroles.ycrole_id WHERE ((contract_permissions.can_read = true OR contract_permissions.can_write = true) and user_ycroles.user_id = 1) [0m
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT `contracts`.* FROM `contracts` INNER JOIN contract_permissions ON contract_permissions.contract_id = contracts.id INNER JOIN user_ycroles ON contract_permissions.ycrole_id = user_ycroles.ycrole_id WHERE ((contract_permissions.can_read = true OR contract_permissions.can_write = true) and user_ycroles.user_id = 1) ORDER BY `contracts`.`name` ASC LIMIT 0, 15[0m
Rendering template within layouts/application
Rendering list
Rendered _list_header (7.7ms)
Rendered _list_column_headings (11.8ms)
Rendered _messages (0.8ms)
Rendered _list_messages (10.0ms)
  [4;35;1mPaymentPeriod Load (0.1ms)[0m   [0mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 1) [0m
  [4;36;1mPaymentPeriod Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `payment_periods`[0m
Rendered _list_record_columns (8.6ms)
Rendered _list_actions (16.8ms)
Rendered _list_record (36.6ms)
Rendered _list_pagination (1.2ms)
Rendered _list (79.5ms)
Completed in 453ms (View: 394, DB: 43) | 200 OK [http://localhost/contracts]
** has_many_polymorphs: autoload hook invoked
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mContract Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `contracts`[0m
  [4;36;1mSettings Load (0.2ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m


Processing ContractsController#nested (for 127.0.0.1 at 2010-12-09 21:12:36) [GET]
  Parameters: {"action"=>"nested", "_method"=>"get", "adapter"=>"_list_inline_adapter", "id"=>"1", "controller"=>"contracts", "associations"=>"payment_periods"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2010-12-09 13:12:36', `perishable_token` = 'wezvkrBBzd0ENGR8qXa', `last_request_at` = '2010-12-09 13:12:36' WHERE `id` = 1[0m
  [4;35;1mSQL (54.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;35;1mPaymentPeriod Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `payment_periods`[0m
Start rendering component ({:params=>{:parent_column=>"payment_periods", :parent_model=>"Contract", :format=>"html", :eid=>"27aab028977f453c4ef738081a731981", :nested=>true}, :controller=>"payment_periods", :action=>"index"}): 


Processing PaymentPeriodsController#index to html (for 127.0.0.1 at 2010-12-09 21:12:36) [GET]
  Parameters: {"parent_column"=>"payment_periods", "eid"=>"27aab028977f453c4ef738081a731981", "format"=>"html", "nested"=>true, "action"=>"index", "id"=>nil, "parent_model"=>"Contract", "controller"=>"payment_periods"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2010-12-09 13:12:36', `perishable_token` = 'rlCvjkJZFuHYoZ3fg8dc', `last_request_at` = '2010-12-09 13:12:36' WHERE `id` = 1[0m
  [4;35;1mSQL (28.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1mSELECT count(DISTINCT `payment_periods`.id) AS count_all FROM `payment_periods` LEFT OUTER JOIN `contracts` ON `contracts`.id = `payment_periods`.contract_id WHERE (((payment_periods.contract_id = '1'))) [0m
  [4;35;1mPaymentPeriod Load (0.3ms)[0m   [0mSELECT `payment_periods`.* FROM `payment_periods` WHERE (((payment_periods.contract_id = '1'))) ORDER BY `payment_periods`.`id` ASC LIMIT 0, 15[0m
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
Rendering list
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
Rendered _list_header (9.2ms)
Rendered _list_column_headings (16.8ms)
Rendered _messages (0.9ms)
Rendered _list_messages (11.0ms)
Rendered _list_record_columns (4.2ms)
Rendered _list_actions (13.9ms)
Rendered _list_record (28.0ms)
Rendered _list_record_columns (3.4ms)
Rendered _list_actions (4.6ms)
Rendered _list_record (9.1ms)
Rendered _list_pagination (1.2ms)
Rendered _list (197.6ms)
Completed in 378ms (View: 336, DB: 31) | 200 OK [http://localhost/contracts/1/nested?_method=get&associations=payment_periods&adapter=_list_inline_adapter]


End of component rendering
Rendered _nested (405.1ms)
Rendered _messages (0.9ms)
Rendered _list_inline_adapter (7.3ms)
Completed in 501ms (View: 13, DB: 0) | 200 OK [http://localhost/contracts/1/nested?_method=get&associations=payment_periods&adapter=_list_inline_adapter]
** has_many_polymorphs: autoload hook invoked
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPaymentPeriod Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `payment_periods`[0m
  [4;36;1mSettings Load (0.2ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;35;1mContract Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `contracts`[0m
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m


Processing PaymentPeriodsController#new (for 127.0.0.1 at 2010-12-09 21:12:38) [GET]
  Parameters: {"eid"=>"27aab028977f453c4ef738081a731981", "parent_column"=>"payment_periods", "nested"=>"true", "action"=>"new", "_method"=>"get", "adapter"=>"_list_inline_adapter", "parent_model"=>"Contract", "controller"=>"payment_periods"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2010-12-09 13:12:38', `perishable_token` = 'BYA9h8JjGq2ja1EHKe', `last_request_at` = '2010-12-09 13:12:38' WHERE `id` = 1[0m
  [4;36;1mSQL (40.2ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
Rendered _form_attribute (2.7ms)
Rendered _form_attribute (1.8ms)
Rendered _form_attribute (1.7ms)
Rendered _form_attribute (1.1ms)
Rendered _form (132.0ms)
Rendered _create_form (149.3ms)
Rendered _messages (0.9ms)
Rendered _list_inline_adapter (7.2ms)
Completed in 233ms (View: 13, DB: 0) | 200 OK [http://localhost/payment_periods/new?_method=get&eid=27aab028977f453c4ef738081a731981&nested=true&parent_column=payment_periods&parent_model=Contract&adapter=_list_inline_adapter]
** has_many_polymorphs: autoload hook invoked
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mPaymentPeriod Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `payment_periods`[0m
  [4;35;1mSettings Load (0.2ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;36;1mContract Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `contracts`[0m
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m


Processing PaymentPeriodsController#create (for 127.0.0.1 at 2010-12-09 21:12:40) [POST]
  Parameters: {"eid"=>"27aab028977f453c4ef738081a731981", "parent_column"=>"payment_periods", "commit"=>"创建", "nested"=>"true", "action"=>"create", "authenticity_token"=>"Ed0tRYf9S1uM5pLhjh6QBB/w9MB3r7ph7tr9VKKhyaU=", "parent_model"=>"Contract", "controller"=>"payment_periods", "record"=>{"start_date"=>"", "first_payment_date"=>"", "end_date"=>"", "num_payments"=>"1"}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2010-12-09 13:12:40', `perishable_token` = '8eXPGOtiVO0VluvPRjee', `last_request_at` = '2010-12-09 13:12:40' WHERE `id` = 1[0m
  [4;35;1mSQL (35.9ms)[0m   [0mCOMMIT[0m
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Rendering on_create
Rendered _form_attribute (6.2ms)
Rendered _form_attribute (5.2ms)
Rendered _form_attribute (6.2ms)
Rendered _form_attribute (1.1ms)
Rendered _form (34.9ms)
Rendered _create_form (61.0ms)
Rendered _messages (2.2ms)
Completed in 279ms (View: 221, DB: 41) | 200 OK [http://localhost/payment_periods/create?eid=27aab028977f453c4ef738081a731981&nested=true&parent_column=payment_periods&parent_model=Contract]
** has_many_polymorphs: autoload hook invoked
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPaymentPeriod Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `payment_periods`[0m
  [4;36;1mSettings Load (0.2ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;35;1mContract Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `contracts`[0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m


Processing PaymentPeriodsController#create (for 127.0.0.1 at 2010-12-09 21:16:51) [POST]
  Parameters: {"eid"=>"27aab028977f453c4ef738081a731981", "parent_column"=>"payment_periods", "commit"=>"创建", "nested"=>"true", "action"=>"create", "authenticity_token"=>"Ed0tRYf9S1uM5pLhjh6QBB/w9MB3r7ph7tr9VKKhyaU=", "parent_model"=>"Contract", "controller"=>"payment_periods", "record"=>{"start_date"=>"", "first_payment_date"=>"", "end_date"=>"", "num_payments"=>"1"}}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2010-12-09 13:16:51', `perishable_token` = 'iEPBXpTWVmxHD8iwjOCq', `last_request_at` = '2010-12-09 13:16:51' WHERE `id` = 1[0m
  [4;36;1mSQL (50.8ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Rendering on_create
Rendered _form_attribute (3.3ms)
Rendered _form_attribute (2.7ms)
Rendered _form_attribute (2.5ms)
Rendered _form_attribute (1.0ms)
Rendered _form (21.2ms)
Rendered _create_form (37.2ms)
Rendered _messages (1.0ms)
Completed in 240ms (View: 62, DB: 56) | 200 OK [http://localhost/payment_periods/create?eid=27aab028977f453c4ef738081a731981&nested=true&parent_column=payment_periods&parent_model=Contract]
** has_many_polymorphs: autoload hook invoked
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mPaymentPeriod Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `payment_periods`[0m
  [4;35;1mSettings Load (0.2ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;36;1mContract Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `contracts`[0m
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m


Processing PaymentPeriodsController#create (for 127.0.0.1 at 2010-12-09 21:17:03) [POST]
  Parameters: {"eid"=>"27aab028977f453c4ef738081a731981", "parent_column"=>"payment_periods", "commit"=>"创建", "nested"=>"true", "action"=>"create", "authenticity_token"=>"Ed0tRYf9S1uM5pLhjh6QBB/w9MB3r7ph7tr9VKKhyaU=", "parent_model"=>"Contract", "controller"=>"payment_periods", "record"=>{"start_date"=>"", "first_payment_date"=>"", "end_date"=>"", "num_payments"=>"yy"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2010-12-09 13:17:03', `perishable_token` = 'R4ECI2tf45iZy5s0OuvG', `last_request_at` = '2010-12-09 13:17:03' WHERE `id` = 1[0m
  [4;35;1mSQL (43.2ms)[0m   [0mCOMMIT[0m
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mCOMMIT[0m
Rendering on_create
Rendered _form_attribute (3.5ms)
Rendered _form_attribute (2.6ms)
Rendered _form_attribute (2.6ms)
Rendered _form_attribute (3.6ms)
Rendered _form (24.0ms)
Rendered _create_form (41.2ms)
Rendered _messages (0.8ms)
Completed in 129ms (View: 64, DB: 48) | 200 OK [http://localhost/payment_periods/create?eid=27aab028977f453c4ef738081a731981&nested=true&parent_column=payment_periods&parent_model=Contract]
** has_many_polymorphs: autoload hook invoked
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPaymentPeriod Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `payment_periods`[0m
  [4;36;1mSettings Load (0.1ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;35;1mContract Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `contracts`[0m
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m


Processing PaymentPeriodsController#create (for 127.0.0.1 at 2010-12-09 21:17:47) [POST]
  Parameters: {"eid"=>"27aab028977f453c4ef738081a731981", "parent_column"=>"payment_periods", "commit"=>"创建", "nested"=>"true", "action"=>"create", "authenticity_token"=>"Ed0tRYf9S1uM5pLhjh6QBB/w9MB3r7ph7tr9VKKhyaU=", "parent_model"=>"Contract", "controller"=>"payment_periods", "record"=>{"start_date"=>"", "first_payment_date"=>"", "end_date"=>"", "num_payments"=>""}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2010-12-09 13:17:47', `perishable_token` = 'sZUJksJqfC8pkRhPgTC', `last_request_at` = '2010-12-09 13:17:47' WHERE `id` = 1[0m
  [4;36;1mSQL (39.9ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Rendering on_create
Rendered _form_attribute (3.5ms)
Rendered _form_attribute (2.2ms)
Rendered _form_attribute (2.4ms)
Rendered _form_attribute (2.0ms)
Rendered _form (21.9ms)
Rendered _create_form (38.4ms)
Rendered _messages (0.8ms)
Completed in 244ms (View: 182, DB: 44) | 200 OK [http://localhost/payment_periods/create?eid=27aab028977f453c4ef738081a731981&nested=true&parent_column=payment_periods&parent_model=Contract]
** has_many_polymorphs: autoload hook invoked
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mPaymentPeriod Columns (1.5ms)[0m   [0;1mSHOW FIELDS FROM `payment_periods`[0m
  [4;35;1mSettings Load (0.2ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;36;1mContract Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `contracts`[0m
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m


Processing PaymentPeriodsController#create (for 127.0.0.1 at 2010-12-09 21:18:04) [POST]
  Parameters: {"eid"=>"27aab028977f453c4ef738081a731981", "parent_column"=>"payment_periods", "commit"=>"创建", "nested"=>"true", "action"=>"create", "authenticity_token"=>"Ed0tRYf9S1uM5pLhjh6QBB/w9MB3r7ph7tr9VKKhyaU=", "parent_model"=>"Contract", "controller"=>"payment_periods", "record"=>{"start_date"=>"", "first_payment_date"=>"", "end_date"=>"dfsfsfs", "num_payments"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2010-12-09 13:18:04', `perishable_token` = '30jgDU3U7NK7rjDvMXo', `last_request_at` = '2010-12-09 13:18:04' WHERE `id` = 1[0m
  [4;35;1mSQL (37.4ms)[0m   [0mCOMMIT[0m
  [4;36;1mContract Load (0.2ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Rendering on_create
Rendered _form_attribute (3.7ms)
Rendered _form_attribute (2.8ms)
Rendered _form_attribute (2.5ms)
Rendered _form_attribute (2.3ms)
Rendered _form (130.6ms)
Rendered _create_form (146.6ms)
Rendered _messages (0.9ms)
Completed in 230ms (View: 170, DB: 43) | 200 OK [http://localhost/payment_periods/create?eid=27aab028977f453c4ef738081a731981&nested=true&parent_column=payment_periods&parent_model=Contract]
** has_many_polymorphs: autoload hook invoked
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPaymentPeriod Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `payment_periods`[0m
  [4;36;1mSettings Load (0.2ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;35;1mContract Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `contracts`[0m
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m


Processing PaymentPeriodsController#create (for 127.0.0.1 at 2010-12-09 21:18:14) [POST]
  Parameters: {"eid"=>"27aab028977f453c4ef738081a731981", "parent_column"=>"payment_periods", "commit"=>"创建", "nested"=>"true", "action"=>"create", "authenticity_token"=>"Ed0tRYf9S1uM5pLhjh6QBB/w9MB3r7ph7tr9VKKhyaU=", "parent_model"=>"Contract", "controller"=>"payment_periods", "record"=>{"start_date"=>"dffsfsff", "first_payment_date"=>"fsfss", "end_date"=>"dfsfsfs", "num_payments"=>"33"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2010-12-09 13:18:14', `perishable_token` = 'F4db3rANLk4YNbsNbbzm', `last_request_at` = '2010-12-09 13:18:14' WHERE `id` = 1[0m
  [4;36;1mSQL (38.9ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Rendering on_create
Rendered _form_attribute (3.6ms)
Rendered _form_attribute (2.6ms)
Rendered _form_attribute (2.6ms)
Rendered _form_attribute (1.1ms)
Rendered _form (22.3ms)
Rendered _create_form (48.0ms)
Rendered _messages (0.8ms)
Completed in 243ms (View: 181, DB: 43) | 200 OK [http://localhost/payment_periods/create?eid=27aab028977f453c4ef738081a731981&nested=true&parent_column=payment_periods&parent_model=Contract]
** has_many_polymorphs: autoload hook invoked
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mPaymentPeriod Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `payment_periods`[0m
  [4;35;1mSettings Load (0.2ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;36;1mContract Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `contracts`[0m
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m


Processing PaymentPeriodsController#create (for 127.0.0.1 at 2010-12-09 21:18:49) [POST]
  Parameters: {"eid"=>"27aab028977f453c4ef738081a731981", "parent_column"=>"payment_periods", "commit"=>"创建", "nested"=>"true", "action"=>"create", "authenticity_token"=>"Ed0tRYf9S1uM5pLhjh6QBB/w9MB3r7ph7tr9VKKhyaU=", "parent_model"=>"Contract", "controller"=>"payment_periods", "record"=>{"start_date"=>"dffsfsff", "first_payment_date"=>"fsfss", "end_date"=>"dfsfsfs", "num_payments"=>"33"}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2010-12-09 13:18:49', `perishable_token` = 'gV68qmEyDwUVjZ4OoV4', `last_request_at` = '2010-12-09 13:18:49' WHERE `id` = 1[0m
  [4;35;1mSQL (43.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Rendering on_create
Rendered _form_attribute (3.6ms)
Rendered _form_attribute (2.9ms)
Rendered _form_attribute (2.6ms)
Rendered _form_attribute (1.2ms)
Rendered _form (22.1ms)
Rendered _create_form (38.4ms)
Rendered _messages (0.9ms)
Completed in 233ms (View: 64, DB: 48) | 200 OK [http://localhost/payment_periods/create?eid=27aab028977f453c4ef738081a731981&nested=true&parent_column=payment_periods&parent_model=Contract]
** has_many_polymorphs: autoload hook invoked
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPaymentPeriod Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `payment_periods`[0m
  [4;36;1mSettings Load (0.2ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;35;1mContract Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `contracts`[0m
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m


Processing PaymentPeriodsController#create (for 127.0.0.1 at 2010-12-09 21:19:16) [POST]
  Parameters: {"eid"=>"27aab028977f453c4ef738081a731981", "parent_column"=>"payment_periods", "commit"=>"创建", "nested"=>"true", "action"=>"create", "authenticity_token"=>"Ed0tRYf9S1uM5pLhjh6QBB/w9MB3r7ph7tr9VKKhyaU=", "parent_model"=>"Contract", "controller"=>"payment_periods", "record"=>{"start_date"=>"dffsfsff", "first_payment_date"=>"fsfss", "end_date"=>"dfsfsfs", "num_payments"=>"33"}}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2010-12-09 13:19:16', `perishable_token` = 'K4xHhv2LFIKufJgTV3h', `last_request_at` = '2010-12-09 13:19:16' WHERE `id` = 1[0m
  [4;36;1mSQL (30.3ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mROLLBACK[0m

NoMethodError (undefined method `<' for nil:NilClass):
  app/models/payment_period.rb:24:in `end_date_cannot_be_less_than_start_date'


Rendered rescues/_trace (38.8ms)
Rendered rescues/_request_and_response (1.3ms)
Rendering rescues/layout (internal_server_error)
** has_many_polymorphs: autoload hook invoked
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mPaymentPeriod Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `payment_periods`[0m
  [4;35;1mSettings Load (0.2ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;36;1mContract Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `contracts`[0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m


Processing PaymentPeriodsController#create (for 127.0.0.1 at 2010-12-09 21:21:05) [POST]
  Parameters: {"eid"=>"27aab028977f453c4ef738081a731981", "parent_column"=>"payment_periods", "commit"=>"创建", "nested"=>"true", "action"=>"create", "authenticity_token"=>"Ed0tRYf9S1uM5pLhjh6QBB/w9MB3r7ph7tr9VKKhyaU=", "parent_model"=>"Contract", "controller"=>"payment_periods", "record"=>{"start_date"=>"dffsfsff", "first_payment_date"=>"fsfss", "end_date"=>"dfsfsfs", "num_payments"=>"33"}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2010-12-09 13:21:05', `perishable_token` = 'RorLmjCNP7ywsP6s0R65', `last_request_at` = '2010-12-09 13:21:05' WHERE `id` = 1[0m
  [4;35;1mSQL (47.2ms)[0m   [0mCOMMIT[0m
  [4;36;1mContract Load (0.4ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Rendering on_create
Rendered _form_attribute (3.8ms)
Rendered _form_attribute (2.5ms)
Rendered _form_attribute (2.6ms)
Rendered _form_attribute (1.0ms)
Rendered _form (21.4ms)
Rendered _create_form (37.3ms)
Rendered _messages (0.9ms)
Completed in 134ms (View: 60, DB: 52) | 200 OK [http://localhost/payment_periods/create?eid=27aab028977f453c4ef738081a731981&nested=true&parent_column=payment_periods&parent_model=Contract]
** has_many_polymorphs: autoload hook invoked
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPaymentPeriod Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `payment_periods`[0m
  [4;36;1mSettings Load (0.2ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;35;1mContract Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `contracts`[0m
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m


Processing PaymentPeriodsController#create (for 127.0.0.1 at 2010-12-09 21:21:13) [POST]
  Parameters: {"eid"=>"27aab028977f453c4ef738081a731981", "parent_column"=>"payment_periods", "commit"=>"创建", "nested"=>"true", "action"=>"create", "authenticity_token"=>"Ed0tRYf9S1uM5pLhjh6QBB/w9MB3r7ph7tr9VKKhyaU=", "parent_model"=>"Contract", "controller"=>"payment_periods", "record"=>{"start_date"=>"dffsfsff", "first_payment_date"=>"fsfss", "end_date"=>"dfsfsfs", "num_payments"=>"33"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2010-12-09 13:21:13', `perishable_token` = '751CxYFMGcJn2hVRsbUe', `last_request_at` = '2010-12-09 13:21:13' WHERE `id` = 1[0m
  [4;36;1mSQL (39.1ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Rendering on_create
Rendered _form_attribute (3.5ms)
Rendered _form_attribute (2.5ms)
Rendered _form_attribute (2.6ms)
Rendered _form_attribute (1.0ms)
Rendered _form (20.7ms)
Rendered _create_form (35.7ms)
Rendered _messages (0.8ms)
Completed in 119ms (View: 58, DB: 43) | 200 OK [http://localhost/payment_periods/create?eid=27aab028977f453c4ef738081a731981&nested=true&parent_column=payment_periods&parent_model=Contract]
** has_many_polymorphs: autoload hook invoked
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mPaymentPeriod Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `payment_periods`[0m
  [4;35;1mSettings Load (0.2ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;36;1mContract Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `contracts`[0m
  [4;35;1mUser Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `users`[0m


Processing PaymentPeriodsController#create (for 127.0.0.1 at 2010-12-09 21:21:19) [POST]
  Parameters: {"eid"=>"27aab028977f453c4ef738081a731981", "parent_column"=>"payment_periods", "commit"=>"创建", "nested"=>"true", "action"=>"create", "authenticity_token"=>"Ed0tRYf9S1uM5pLhjh6QBB/w9MB3r7ph7tr9VKKhyaU=", "parent_model"=>"Contract", "controller"=>"payment_periods", "record"=>{"start_date"=>"2010-12-08", "first_payment_date"=>"fsfss", "end_date"=>"dfsfsfs", "num_payments"=>"33"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2010-12-09 13:21:19', `perishable_token` = 'WzBK0P6LURL2s1N2VNPm', `last_request_at` = '2010-12-09 13:21:19' WHERE `id` = 1[0m
  [4;35;1mSQL (35.4ms)[0m   [0mCOMMIT[0m
  [4;36;1mContract Load (0.2ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Rendering on_create
Rendered _form_attribute (2.6ms)
Rendered _form_attribute (2.8ms)
Rendered _form_attribute (2.8ms)
Rendered _form_attribute (1.0ms)
Rendered _form (20.8ms)
Rendered _create_form (35.1ms)
Rendered _messages (0.9ms)
Completed in 226ms (View: 168, DB: 40) | 200 OK [http://localhost/payment_periods/create?eid=27aab028977f453c4ef738081a731981&nested=true&parent_column=payment_periods&parent_model=Contract]
** has_many_polymorphs: autoload hook invoked
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPaymentPeriod Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `payment_periods`[0m
  [4;36;1mSettings Load (0.2ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;35;1mContract Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `contracts`[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m


Processing PaymentPeriodsController#create (for 127.0.0.1 at 2010-12-09 21:21:30) [POST]
  Parameters: {"eid"=>"27aab028977f453c4ef738081a731981", "parent_column"=>"payment_periods", "commit"=>"创建", "nested"=>"true", "action"=>"create", "authenticity_token"=>"Ed0tRYf9S1uM5pLhjh6QBB/w9MB3r7ph7tr9VKKhyaU=", "parent_model"=>"Contract", "controller"=>"payment_periods", "record"=>{"start_date"=>"2010-12-08", "first_payment_date"=>"fsfss", "end_date"=>"2010-12-01", "num_payments"=>"33"}}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2010-12-09 13:21:30', `perishable_token` = 'SStrh6vv62zgNhwL8E9B', `last_request_at` = '2010-12-09 13:21:30' WHERE `id` = 1[0m
  [4;36;1mSQL (35.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mContract Load (0.2ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Rendering on_create
Rendered _form_attribute (2.5ms)
Rendered _form_attribute (2.2ms)
Rendered _form_attribute (3.1ms)
Rendered _form_attribute (1.1ms)
Rendered _form (130.1ms)
Rendered _create_form (146.0ms)
Rendered _messages (0.9ms)
Completed in 230ms (View: 170, DB: 40) | 200 OK [http://localhost/payment_periods/create?eid=27aab028977f453c4ef738081a731981&nested=true&parent_column=payment_periods&parent_model=Contract]
** has_many_polymorphs: autoload hook invoked
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mPaymentPeriod Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `payment_periods`[0m
  [4;35;1mSettings Load (0.2ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;36;1mContract Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `contracts`[0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m


Processing PaymentPeriodsController#create (for 127.0.0.1 at 2010-12-09 21:24:43) [POST]
  Parameters: {"eid"=>"27aab028977f453c4ef738081a731981", "parent_column"=>"payment_periods", "commit"=>"创建", "nested"=>"true", "action"=>"create", "authenticity_token"=>"Ed0tRYf9S1uM5pLhjh6QBB/w9MB3r7ph7tr9VKKhyaU=", "parent_model"=>"Contract", "controller"=>"payment_periods", "record"=>{"start_date"=>"2010-12-08", "first_payment_date"=>"fsfss", "end_date"=>"2010-12-01", "num_payments"=>"33"}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2010-12-09 13:24:43', `perishable_token` = 'L09gVeHniQBUdZRjOPu5', `last_request_at` = '2010-12-09 13:24:43' WHERE `id` = 1[0m
  [4;35;1mSQL (33.8ms)[0m   [0mCOMMIT[0m
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Rendering on_create
Rendered _form_attribute (2.9ms)
Rendered _form_attribute (1.9ms)
Rendered _form_attribute (2.9ms)
Rendered _form_attribute (1.1ms)
Rendered _form (22.1ms)
Rendered _create_form (142.4ms)
Rendered _messages (0.9ms)
Completed in 221ms (View: 164, DB: 38) | 200 OK [http://localhost/payment_periods/create?eid=27aab028977f453c4ef738081a731981&nested=true&parent_column=payment_periods&parent_model=Contract]
** has_many_polymorphs: autoload hook invoked
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPaymentPeriod Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `payment_periods`[0m
  [4;36;1mSettings Load (0.2ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;35;1mContract Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `contracts`[0m
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m


Processing PaymentPeriodsController#create (for 127.0.0.1 at 2010-12-09 21:24:52) [POST]
  Parameters: {"eid"=>"27aab028977f453c4ef738081a731981", "parent_column"=>"payment_periods", "commit"=>"创建", "nested"=>"true", "action"=>"create", "authenticity_token"=>"Ed0tRYf9S1uM5pLhjh6QBB/w9MB3r7ph7tr9VKKhyaU=", "parent_model"=>"Contract", "controller"=>"payment_periods", "record"=>{"start_date"=>"2010-12-08", "first_payment_date"=>"fsfss", "end_date"=>"2010-12-25", "num_payments"=>"33"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2010-12-09 13:24:52', `perishable_token` = 'o7oSpmZabZ1kPRKnyvx', `last_request_at` = '2010-12-09 13:24:52' WHERE `id` = 1[0m
  [4;36;1mSQL (37.4ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Rendering on_create
Rendered _form_attribute (2.6ms)
Rendered _form_attribute (1.7ms)
Rendered _form_attribute (2.5ms)
Rendered _form_attribute (1.1ms)
Rendered _form (19.3ms)
Rendered _create_form (34.8ms)
Rendered _messages (0.8ms)
Completed in 218ms (View: 159, DB: 42) | 200 OK [http://localhost/payment_periods/create?eid=27aab028977f453c4ef738081a731981&nested=true&parent_column=payment_periods&parent_model=Contract]
** has_many_polymorphs: autoload hook invoked
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mPaymentPeriod Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `payment_periods`[0m
  [4;35;1mSettings Load (0.2ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;36;1mContract Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `contracts`[0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m


Processing PaymentPeriodsController#create (for 127.0.0.1 at 2010-12-09 21:24:57) [POST]
  Parameters: {"eid"=>"27aab028977f453c4ef738081a731981", "parent_column"=>"payment_periods", "commit"=>"创建", "nested"=>"true", "action"=>"create", "authenticity_token"=>"Ed0tRYf9S1uM5pLhjh6QBB/w9MB3r7ph7tr9VKKhyaU=", "parent_model"=>"Contract", "controller"=>"payment_periods", "record"=>{"start_date"=>"2010-12-08", "first_payment_date"=>"2010-12-01", "end_date"=>"2010-12-25", "num_payments"=>"33"}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2010-12-09 13:24:57', `perishable_token` = 'e4MqKtSRyUM286gB009', `last_request_at` = '2010-12-09 13:24:57' WHERE `id` = 1[0m
  [4;35;1mSQL (38.4ms)[0m   [0mCOMMIT[0m
  [4;36;1mContract Load (0.2ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Rendering on_create
Rendered _form_attribute (2.7ms)
Rendered _form_attribute (1.6ms)
Rendered _form_attribute (1.8ms)
Rendered _form_attribute (1.0ms)
Rendered _form (18.5ms)
Rendered _create_form (31.3ms)
Rendered _messages (0.8ms)
Completed in 216ms (View: 55, DB: 43) | 200 OK [http://localhost/payment_periods/create?eid=27aab028977f453c4ef738081a731981&nested=true&parent_column=payment_periods&parent_model=Contract]
** has_many_polymorphs: autoload hook invoked
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPaymentPeriod Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `payment_periods`[0m
  [4;36;1mSettings Load (0.1ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;35;1mContract Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `contracts`[0m
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m


Processing PaymentPeriodsController#create (for 127.0.0.1 at 2010-12-09 21:25:05) [POST]
  Parameters: {"eid"=>"27aab028977f453c4ef738081a731981", "parent_column"=>"payment_periods", "commit"=>"创建", "nested"=>"true", "action"=>"create", "authenticity_token"=>"Ed0tRYf9S1uM5pLhjh6QBB/w9MB3r7ph7tr9VKKhyaU=", "parent_model"=>"Contract", "controller"=>"payment_periods", "record"=>{"start_date"=>"2010-12-08", "first_payment_date"=>"2010-12-29", "end_date"=>"2010-12-25", "num_payments"=>"33"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2010-12-09 13:25:05', `perishable_token` = 's0qlYEzCNqHLh8ykDP8T', `last_request_at` = '2010-12-09 13:25:05' WHERE `id` = 1[0m
  [4;36;1mSQL (37.3ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mContract Load (0.2ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Rendering on_create
Rendered _form_attribute (2.7ms)
Rendered _form_attribute (2.0ms)
Rendered _form_attribute (2.2ms)
Rendered _form_attribute (1.3ms)
Rendered _form (20.5ms)
Rendered _create_form (35.0ms)
Rendered _messages (0.8ms)
Completed in 121ms (View: 60, DB: 42) | 200 OK [http://localhost/payment_periods/create?eid=27aab028977f453c4ef738081a731981&nested=true&parent_column=payment_periods&parent_model=Contract]
** has_many_polymorphs: autoload hook invoked
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mPaymentPeriod Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `payment_periods`[0m
  [4;35;1mSettings Load (0.2ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;36;1mContract Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `contracts`[0m
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m


Processing PaymentPeriodsController#create (for 127.0.0.1 at 2010-12-09 21:25:18) [POST]
  Parameters: {"eid"=>"27aab028977f453c4ef738081a731981", "parent_column"=>"payment_periods", "commit"=>"创建", "nested"=>"true", "action"=>"create", "authenticity_token"=>"Ed0tRYf9S1uM5pLhjh6QBB/w9MB3r7ph7tr9VKKhyaU=", "parent_model"=>"Contract", "controller"=>"payment_periods", "record"=>{"start_date"=>"2010-12-08", "first_payment_date"=>"2010-12-17", "end_date"=>"2010-12-25", "num_payments"=>"33"}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2010-12-09 13:25:18', `perishable_token` = 'OEvJfhLCNk2KSbGYy', `last_request_at` = '2010-12-09 13:25:18' WHERE `id` = 1[0m
  [4;35;1mSQL (37.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mPaymentPeriod Create (0.3ms)[0m   [0;1mINSERT INTO `payment_periods` (`start_date`, `first_payment_date`, `end_date`, `contract_id`, `num_payments`) VALUES('2010-12-08', '2010-12-17', '2010-12-25', 1, 33)[0m
  [4;35;1mSQL (23.6ms)[0m   [0mCOMMIT[0m
Rendering on_create
Rendered _list_record_columns (3.8ms)
Rendered _list_actions (5.7ms)
Rendered _list_record (18.8ms)
Rendered _messages (0.9ms)
Completed in 128ms (View: 41, DB: 66) | 200 OK [http://localhost/payment_periods/create?eid=27aab028977f453c4ef738081a731981&nested=true&parent_column=payment_periods&parent_model=Contract]
** has_many_polymorphs: autoload hook invoked
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.3ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mPaymentPeriod Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `payment_periods`[0m
  [4;35;1mSettings Load (4.4ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;36;1mContract Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `contracts`[0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m


Processing PaymentPeriodsController#edit (for 127.0.0.1 at 2010-12-09 21:25:22) [GET]
  Parameters: {"eid"=>"27aab028977f453c4ef738081a731981", "parent_column"=>"payment_periods", "nested"=>"true", "action"=>"edit", "_method"=>"get", "adapter"=>"_list_inline_adapter", "id"=>"5", "parent_model"=>"Contract", "controller"=>"payment_periods"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2010-12-09 13:25:22', `perishable_token` = '6XS7nElxrLnNC0iJ6jl', `last_request_at` = '2010-12-09 13:25:22' WHERE `id` = 1[0m
  [4;35;1mSQL (42.0ms)[0m   [0mCOMMIT[0m
  [4;36;1mPaymentPeriod Load (0.3ms)[0m   [0;1mSELECT * FROM `payment_periods` WHERE (`payment_periods`.`id` = 5) [0m
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
Rendered _form_attribute (2.7ms)
Rendered _form_attribute (1.7ms)
Rendered _form_attribute (1.8ms)
Rendered _form_attribute (1.1ms)
Rendered _form (19.0ms)
Rendered _update_form (33.5ms)
Rendered _messages (0.9ms)
Rendered _list_inline_adapter (6.8ms)
Completed in 116ms (View: 11, DB: 0) | 200 OK [http://localhost/payment_periods/edit/5?_method=get&eid=27aab028977f453c4ef738081a731981&nested=true&parent_column=payment_periods&parent_model=Contract&adapter=_list_inline_adapter]
** has_many_polymorphs: autoload hook invoked
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mPaymentPeriod Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `payment_periods`[0m
  [4;35;1mSettings Load (0.2ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;36;1mContract Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `contracts`[0m
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m


Processing PaymentPeriodsController#update (for 127.0.0.1 at 2010-12-09 21:25:25) [PUT]
  Parameters: {"eid"=>"27aab028977f453c4ef738081a731981", "parent_column"=>"payment_periods", "commit"=>"更新", "nested"=>"true", "action"=>"update", "_method"=>"put", "authenticity_token"=>"Ed0tRYf9S1uM5pLhjh6QBB/w9MB3r7ph7tr9VKKhyaU=", "id"=>"5", "parent_model"=>"Contract", "controller"=>"payment_periods", "record"=>{"start_date"=>"2010-12-08", "first_payment_date"=>"2010-12-17", "end_date"=>"2010-12-25", "num_payments"=>"3"}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2010-12-09 13:25:25', `perishable_token` = 'LyrK8OjAtofhTOKrupt', `last_request_at` = '2010-12-09 13:25:25' WHERE `id` = 1[0m
  [4;35;1mSQL (34.9ms)[0m   [0mCOMMIT[0m
  [4;36;1mPaymentPeriod Load (0.1ms)[0m   [0;1mSELECT * FROM `payment_periods` WHERE (`payment_periods`.`id` = 5) [0m
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mPaymentPeriod Update (0.4ms)[0m   [0mUPDATE `payment_periods` SET `num_payments` = 3 WHERE `id` = 5[0m
  [4;36;1mSQL (31.5ms)[0m   [0;1mCOMMIT[0m
Rendering on_update
Rendered _list_record_columns (4.3ms)
Rendered _list_actions (5.9ms)
Rendered _list_record (19.8ms)
Rendered _messages (1.0ms)
Completed in 136ms (View: 42, DB: 71) | 200 OK [http://localhost/payment_periods/update/5?eid=27aab028977f453c4ef738081a731981&nested=true&parent_column=payment_periods&parent_model=Contract]
** has_many_polymorphs: autoload hook invoked
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mContract Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `contracts`[0m
  [4;36;1mSettings Load (0.1ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m


Processing ContractsController#row (for 127.0.0.1 at 2010-12-09 21:25:29) [GET]
  Parameters: {"action"=>"row", "_method"=>"get", "id"=>"1", "controller"=>"contracts"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2010-12-09 13:25:29', `perishable_token` = 'N0bowfdz9n1XQzOXN21', `last_request_at` = '2010-12-09 13:25:29' WHERE `id` = 1[0m
  [4;35;1mSQL (39.4ms)[0m   [0mCOMMIT[0m
  [4;36;1mContract Load (0.2ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;35;1mPaymentPeriod Load (0.3ms)[0m   [0mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 1) [0m
  [4;36;1mPaymentPeriod Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `payment_periods`[0m
Rendered _list_record_columns (9.4ms)
Rendered _list_actions (7.0ms)
Rendered _list_record (138.3ms)
Completed in 208ms (View: 149, DB: 44) | 200 OK [http://localhost/contracts/1/row?_method=get]
** has_many_polymorphs: autoload hook invoked
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mContract Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `contracts`[0m
  [4;36;1mSettings Load (0.2ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m


Processing ContractsController#nested (for 127.0.0.1 at 2010-12-09 21:25:35) [GET]
  Parameters: {"action"=>"nested", "_method"=>"get", "adapter"=>"_list_inline_adapter", "id"=>"1", "controller"=>"contracts", "associations"=>"payments"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2010-12-09 13:25:35', `perishable_token` = 'hjiMTSZ0uR4F2DS1JBwc', `last_request_at` = '2010-12-09 13:25:35' WHERE `id` = 1[0m
  [4;35;1mSQL (42.1ms)[0m   [0mCOMMIT[0m
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;35;1mPayment Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
Start rendering component ({:params=>{:parent_column=>"payments", :parent_model=>"Contract", :format=>"html", :eid=>"ee0b978c3cd675890ece8fbb879055fd", :nested=>true}, :controller=>"payments", :action=>"index"}): 


Processing PaymentsController#index to html (for 127.0.0.1 at 2010-12-09 21:25:35) [GET]
  Parameters: {"parent_column"=>"payments", "eid"=>"ee0b978c3cd675890ece8fbb879055fd", "format"=>"html", "nested"=>true, "action"=>"index", "id"=>nil, "parent_model"=>"Contract", "controller"=>"payments"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2010-12-09 13:25:35', `perishable_token` = '3GmmKH8Jf0JW5b7YQhey', `last_request_at` = '2010-12-09 13:25:35' WHERE `id` = 1[0m
  [4;35;1mSQL (34.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(DISTINCT `payments`.id) AS count_all FROM `payments` LEFT OUTER JOIN `contracts` ON `contracts`.id = `payments`.contract_id WHERE (((payments.contract_id = '1'))) [0m
  [4;35;1mPayment Load (0.1ms)[0m   [0mSELECT `payments`.* FROM `payments` WHERE (((payments.contract_id = '1'))) ORDER BY `payments`.`id` ASC LIMIT 0, 15[0m
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
Rendering list
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
Rendered _list_header (10.3ms)
Rendered _list_column_headings (19.4ms)
Rendered _messages (0.8ms)
Rendered _list_messages (10.9ms)
Rendered _list_record_columns (3.5ms)
Rendered _list_actions (12.6ms)
Rendered _list_record (26.4ms)
Rendered _list_pagination (1.1ms)
Rendered _list (78.3ms)
Completed in 278ms (View: 227, DB: 37) | 200 OK [http://localhost/contracts/1/nested?_method=get&associations=payments&adapter=_list_inline_adapter]


End of component rendering
Rendered _nested (306.0ms)
Rendered _messages (116.5ms)
Rendered _list_inline_adapter (123.6ms)
Completed in 515ms (View: 128, DB: 0) | 200 OK [http://localhost/contracts/1/nested?_method=get&associations=payments&adapter=_list_inline_adapter]
** has_many_polymorphs: autoload hook invoked
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPayment Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mSettings Load (0.2ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;35;1mContract Columns (1.4ms)[0m   [0mSHOW FIELDS FROM `contracts`[0m
  [4;36;1mUser Columns (2.7ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m


Processing PaymentsController#new (for 127.0.0.1 at 2010-12-09 21:25:37) [GET]
  Parameters: {"eid"=>"ee0b978c3cd675890ece8fbb879055fd", "parent_column"=>"payments", "nested"=>"true", "action"=>"new", "_method"=>"get", "adapter"=>"_list_inline_adapter", "parent_model"=>"Contract", "controller"=>"payments"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2010-12-09 13:25:37', `perishable_token` = 'lJj6Xxe1AgkWl9d9G8', `last_request_at` = '2010-12-09 13:25:37' WHERE `id` = 1[0m
  [4;36;1mSQL (40.4ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
Rendered _form_attribute (2.2ms)
Rendered _form_attribute (1.4ms)
Rendered _form_attribute (1.1ms)
Rendered _form_attribute (0.8ms)
Rendered _form (17.8ms)
Rendered _create_form (33.8ms)
Rendered _messages (1.0ms)
Rendered _list_inline_adapter (123.6ms)
Completed in 235ms (View: 128, DB: 0) | 200 OK [http://localhost/payments/new?_method=get&eid=ee0b978c3cd675890ece8fbb879055fd&nested=true&parent_column=payments&parent_model=Contract&adapter=_list_inline_adapter]
** has_many_polymorphs: autoload hook invoked
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mPayment Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `payments`[0m
  [4;35;1mSettings Load (0.2ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;36;1mContract Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `contracts`[0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m


Processing PaymentsController#create (for 127.0.0.1 at 2010-12-09 21:25:40) [POST]
  Parameters: {"eid"=>"ee0b978c3cd675890ece8fbb879055fd", "parent_column"=>"payments", "commit"=>"创建", "nested"=>"true", "action"=>"create", "authenticity_token"=>"Ed0tRYf9S1uM5pLhjh6QBB/w9MB3r7ph7tr9VKKhyaU=", "parent_model"=>"Contract", "controller"=>"payments", "record"=>{"memo"=>"", "amount"=>"", "has_deliverables"=>"false", "pay_date"=>""}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2010-12-09 13:25:40', `perishable_token` = 'hgzkCsd4y8HO9rYNT79S', `last_request_at` = '2010-12-09 13:25:40' WHERE `id` = 1[0m
  [4;35;1mSQL (38.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Rendering on_create
Rendered _form_attribute (113.2ms)
Rendered _form_attribute (1.7ms)
Rendered _form_attribute (1.0ms)
Rendered _form_attribute (0.9ms)
Rendered _form (128.7ms)
Rendered _create_form (141.9ms)
Rendered _messages (0.9ms)
Completed in 226ms (View: 167, DB: 43) | 200 OK [http://localhost/payments/create?eid=ee0b978c3cd675890ece8fbb879055fd&nested=true&parent_column=payments&parent_model=Contract]
** has_many_polymorphs: autoload hook invoked
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPayment Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mSettings Load (0.2ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;35;1mContract Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `contracts`[0m
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m


Processing PaymentsController#create (for 127.0.0.1 at 2010-12-09 21:25:49) [POST]
  Parameters: {"eid"=>"ee0b978c3cd675890ece8fbb879055fd", "parent_column"=>"payments", "commit"=>"创建", "nested"=>"true", "action"=>"create", "authenticity_token"=>"Ed0tRYf9S1uM5pLhjh6QBB/w9MB3r7ph7tr9VKKhyaU=", "parent_model"=>"Contract", "controller"=>"payments", "record"=>{"memo"=>"", "amount"=>"222", "has_deliverables"=>"false", "pay_date"=>""}}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2010-12-09 13:25:49', `perishable_token` = 'ObFqfln4w1FuynIg6Ptl', `last_request_at` = '2010-12-09 13:25:49' WHERE `id` = 1[0m
  [4;36;1mSQL (38.3ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mContract Load (0.2ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;35;1mPayment Create (11.9ms)[0m   [0mINSERT INTO `payments` (`created_at`, `updated_at`, `amount`, `memo`, `pay_date`, `has_deliverables`, `contract_id`) VALUES('2010-12-09 13:25:49', '2010-12-09 13:25:49', 222, NULL, NULL, 0, 1)[0m
  [4;36;1mSQL (33.3ms)[0m   [0;1mCOMMIT[0m
Rendering on_create
Rendered _list_record_columns (3.5ms)
Rendered _list_actions (6.3ms)
Rendered _list_record (123.8ms)
Rendered _messages (0.9ms)
Completed in 259ms (View: 147, DB: 88) | 200 OK [http://localhost/payments/create?eid=ee0b978c3cd675890ece8fbb879055fd&nested=true&parent_column=payments&parent_model=Contract]
** has_many_polymorphs: autoload hook invoked
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPayment Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mSettings Load (0.2ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;35;1mContract Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `contracts`[0m
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m


Processing PaymentsController#edit (for 127.0.0.1 at 2010-12-09 21:26:01) [GET]
  Parameters: {"eid"=>"ee0b978c3cd675890ece8fbb879055fd", "parent_column"=>"payments", "nested"=>"true", "action"=>"edit", "_method"=>"get", "adapter"=>"_list_inline_adapter", "id"=>"8", "parent_model"=>"Contract", "controller"=>"payments"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2010-12-09 13:26:01', `perishable_token` = '1AUwKcb3PTp4gowHuvU', `last_request_at` = '2010-12-09 13:26:01' WHERE `id` = 1[0m
  [4;36;1mSQL (50.4ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mPayment Load (0.3ms)[0m   [0mSELECT * FROM `payments` WHERE (`payments`.`id` = 8) [0m
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
Rendered _form_attribute (2.3ms)
Rendered _form_attribute (1.6ms)
Rendered _form_attribute (1.2ms)
Rendered _form_attribute (1.1ms)
Rendered _form (130.4ms)
Rendered _update_form (146.0ms)
Rendered _messages (0.9ms)
Rendered _list_inline_adapter (7.8ms)
Completed in 241ms (View: 13, DB: 0) | 200 OK [http://localhost/payments/edit/8?_method=get&eid=ee0b978c3cd675890ece8fbb879055fd&nested=true&parent_column=payments&parent_model=Contract&adapter=_list_inline_adapter]
** has_many_polymorphs: rails environment detected
** has_many_polymorphs: loaded ok
** has_many_polymorphs: autoload hook invoked
** has_many_polymorphs: autoload hook invoked
ActiveScaffold: extending RESTful routes for user_ycroles
ActiveScaffold: extending RESTful routes for ycroles
ActiveScaffold: extending RESTful routes for documents
ActiveScaffold: extending RESTful routes for contracts
ActiveScaffold: extending RESTful routes for payments
ActiveScaffold: extending RESTful routes for expiration_remindings
ActiveScaffold: extending RESTful routes for licenses
ActiveScaffold: extending RESTful routes for archives
ActiveScaffold: extending RESTful routes for settings
ActiveScaffold: extending RESTful routes for users
ActiveScaffold: extending RESTful routes for expiration_remindings
ActiveScaffold: extending RESTful routes for payment_remindings
ActiveScaffold: extending RESTful routes for audits
** has_many_polymorphs: autoload hook invoked
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m


Processing SiteController#index (for 127.0.0.1 at 2010-12-09 21:33:19) [GET]
  Parameters: {"action"=>"index", "controller"=>"site"}
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2010-12-09 13:33:19', `perishable_token` = 'kGgOs0MDhBUIKTfnWV6', `last_request_at` = '2010-12-09 13:33:19' WHERE `id` = 1[0m
  [4;36;1mSQL (88.7ms)[0m   [0;1mCOMMIT[0m
Rendering template within layouts/application
Rendering site/index
Completed in 287ms (View: 157, DB: 92) | 200 OK [http://localhost/]
** has_many_polymorphs: autoload hook invoked
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mContract Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `contracts`[0m
  [4;36;1mSettings Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `settings`[0m
  [4;35;1mSettings Load (0.2ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m


Processing ContractsController#index (for 127.0.0.1 at 2010-12-09 21:33:27) [GET]
  Parameters: {"action"=>"index", "controller"=>"contracts"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2010-12-09 13:33:27', `perishable_token` = 'q0kC73RHmNHPbjQCo7p3', `last_request_at` = '2010-12-09 13:33:27' WHERE `id` = 1[0m
  [4;36;1mSQL (35.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `contracts` INNER JOIN contract_permissions ON contract_permissions.contract_id = contracts.id INNER JOIN user_ycroles ON contract_permissions.ycrole_id = user_ycroles.ycrole_id WHERE ((contract_permissions.can_read = true OR contract_permissions.can_write = true) and user_ycroles.user_id = 1) [0m
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT `contracts`.* FROM `contracts` INNER JOIN contract_permissions ON contract_permissions.contract_id = contracts.id INNER JOIN user_ycroles ON contract_permissions.ycrole_id = user_ycroles.ycrole_id WHERE ((contract_permissions.can_read = true OR contract_permissions.can_write = true) and user_ycroles.user_id = 1) ORDER BY `contracts`.`name` ASC LIMIT 0, 15[0m
Rendering template within layouts/application
Rendering list
Rendered _list_header (7.3ms)
Rendered _list_column_headings (11.4ms)
Rendered _messages (0.9ms)
Rendered _list_messages (11.1ms)
  [4;35;1mPaymentPeriod Load (0.1ms)[0m   [0mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 1) [0m
  [4;36;1mPaymentPeriod Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `payment_periods`[0m
Rendered _list_record_columns (126.4ms)
Rendered _list_actions (16.5ms)
Rendered _list_record (154.6ms)
Rendered _list_pagination (1.3ms)
Rendered _list (199.6ms)
Completed in 453ms (View: 395, DB: 42) | 200 OK [http://localhost/contracts]
** has_many_polymorphs: autoload hook invoked
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mContract Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `contracts`[0m
  [4;36;1mSettings Load (0.1ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m


Processing ContractsController#nested (for 127.0.0.1 at 2010-12-09 21:33:32) [GET]
  Parameters: {"action"=>"nested", "_method"=>"get", "adapter"=>"_list_inline_adapter", "id"=>"1", "controller"=>"contracts", "associations"=>"payments"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2010-12-09 13:33:32', `perishable_token` = 'zFsTN2qW3RsJozTremY', `last_request_at` = '2010-12-09 13:33:32' WHERE `id` = 1[0m
  [4;35;1mSQL (39.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;35;1mPayment Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
Start rendering component ({:params=>{:parent_column=>"payments", :parent_model=>"Contract", :format=>"html", :eid=>"ee0b978c3cd675890ece8fbb879055fd", :nested=>true}, :controller=>"payments", :action=>"index"}): 


Processing PaymentsController#index to html (for 127.0.0.1 at 2010-12-09 21:33:32) [GET]
  Parameters: {"parent_column"=>"payments", "eid"=>"ee0b978c3cd675890ece8fbb879055fd", "format"=>"html", "nested"=>true, "action"=>"index", "id"=>nil, "parent_model"=>"Contract", "controller"=>"payments"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2010-12-09 13:33:32', `perishable_token` = 'SFQWtRsK1hftPQ1ovIHD', `last_request_at` = '2010-12-09 13:33:32' WHERE `id` = 1[0m
  [4;35;1mSQL (71.3ms)[0m   [0mCOMMIT[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1mSELECT count(DISTINCT `payments`.id) AS count_all FROM `payments` LEFT OUTER JOIN `contracts` ON `contracts`.id = `payments`.contract_id WHERE (((payments.contract_id = '1'))) [0m
  [4;35;1mPayment Load (0.3ms)[0m   [0mSELECT `payments`.* FROM `payments` WHERE (((payments.contract_id = '1'))) ORDER BY `payments`.`id` ASC LIMIT 0, 15[0m
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
Rendering list
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
Rendered _list_header (8.6ms)
Rendered _list_column_headings (16.3ms)
Rendered _messages (0.9ms)
Rendered _list_messages (16.2ms)
Rendered _list_record_columns (4.0ms)
Rendered _list_actions (14.2ms)
Rendered _list_record (29.0ms)
Rendered _list_record_columns (2.5ms)
Rendered _list_actions (4.9ms)
Rendered _list_record (8.5ms)
Rendered _list_pagination (1.2ms)
Rendered _list (199.9ms)
Completed in 316ms (View: 231, DB: 74) | 200 OK [http://localhost/contracts/1/nested?_method=get&associations=payments&adapter=_list_inline_adapter]


End of component rendering
Rendered _nested (451.0ms)
Rendered _messages (1.0ms)
Rendered _list_inline_adapter (7.8ms)
Completed in 531ms (View: 12, DB: 0) | 200 OK [http://localhost/contracts/1/nested?_method=get&associations=payments&adapter=_list_inline_adapter]
** has_many_polymorphs: autoload hook invoked
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPayment Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mSettings Load (0.1ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;35;1mContract Columns (1.3ms)[0m   [0mSHOW FIELDS FROM `contracts`[0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m


Processing PaymentsController#edit (for 127.0.0.1 at 2010-12-09 21:33:36) [GET]
  Parameters: {"eid"=>"ee0b978c3cd675890ece8fbb879055fd", "parent_column"=>"payments", "nested"=>"true", "action"=>"edit", "_method"=>"get", "adapter"=>"_list_inline_adapter", "id"=>"8", "parent_model"=>"Contract", "controller"=>"payments"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2010-12-09 13:33:36', `perishable_token` = 'BZojiZA5xB0Ee55AGUzY', `last_request_at` = '2010-12-09 13:33:36' WHERE `id` = 1[0m
  [4;36;1mSQL (40.3ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mPayment Load (0.1ms)[0m   [0mSELECT * FROM `payments` WHERE (`payments`.`id` = 8) [0m
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
Rendered _form_attribute (1.9ms)
Rendered _form_attribute (1.4ms)
Rendered _form_attribute (1.0ms)
Rendered _form_attribute (0.9ms)
Rendered _form (16.9ms)
Rendered _update_form (32.6ms)
Rendered _messages (0.9ms)
Rendered _list_inline_adapter (6.7ms)
Completed in 116ms (View: 11, DB: 0) | 200 OK [http://localhost/payments/edit/8?_method=get&eid=ee0b978c3cd675890ece8fbb879055fd&nested=true&parent_column=payments&parent_model=Contract&adapter=_list_inline_adapter]
** has_many_polymorphs: autoload hook invoked
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPayment Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mSettings Load (0.1ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;35;1mContract Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `contracts`[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m


Processing PaymentsController#update (for 127.0.0.1 at 2010-12-09 21:33:38) [PUT]
  Parameters: {"eid"=>"ee0b978c3cd675890ece8fbb879055fd", "parent_column"=>"payments", "commit"=>"更新", "nested"=>"true", "action"=>"update", "_method"=>"put", "authenticity_token"=>"Ed0tRYf9S1uM5pLhjh6QBB/w9MB3r7ph7tr9VKKhyaU=", "id"=>"8", "parent_model"=>"Contract", "controller"=>"payments", "record"=>{"memo"=>"", "amount"=>"222", "has_deliverables"=>"false", "pay_date"=>""}}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2010-12-09 13:33:38', `perishable_token` = 'grtFp1NX1ipHvACJevy0', `last_request_at` = '2010-12-09 13:33:38' WHERE `id` = 1[0m
  [4;36;1mSQL (37.0ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mPayment Load (0.1ms)[0m   [0mSELECT * FROM `payments` WHERE (`payments`.`id` = 8) [0m
  [4;36;1mContract Load (0.5ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Rendering on_update
Rendered _form_attribute (3.1ms)
Rendered _form_attribute (118.0ms)
Rendered _form_attribute (1.1ms)
Rendered _form_attribute (0.9ms)
Rendered _form (137.9ms)
Rendered _update_form (157.6ms)
Rendered _messages (0.9ms)
Completed in 248ms (View: 185, DB: 42) | 200 OK [http://localhost/payments/update/8?eid=ee0b978c3cd675890ece8fbb879055fd&nested=true&parent_column=payments&parent_model=Contract]
** has_many_polymorphs: autoload hook invoked
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPayment Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mSettings Load (0.2ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;35;1mContract Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `contracts`[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m


Processing PaymentsController#update (for 127.0.0.1 at 2010-12-09 21:34:48) [PUT]
  Parameters: {"eid"=>"ee0b978c3cd675890ece8fbb879055fd", "parent_column"=>"payments", "commit"=>"更新", "nested"=>"true", "action"=>"update", "_method"=>"put", "authenticity_token"=>"Ed0tRYf9S1uM5pLhjh6QBB/w9MB3r7ph7tr9VKKhyaU=", "id"=>"8", "parent_model"=>"Contract", "controller"=>"payments", "record"=>{"memo"=>"", "amount"=>"222", "has_deliverables"=>"false", "pay_date"=>""}}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2010-12-09 13:34:48', `perishable_token` = 'frvbnwpfHM9B033PsUB', `last_request_at` = '2010-12-09 13:34:48' WHERE `id` = 1[0m
  [4;36;1mSQL (37.8ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mPayment Load (0.1ms)[0m   [0mSELECT * FROM `payments` WHERE (`payments`.`id` = 8) [0m
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mCOMMIT[0m
Rendering on_update
Rendered _form_attribute (1.9ms)
Rendered _form_attribute (2.3ms)
Rendered _form_attribute (0.9ms)
Rendered _form_attribute (0.8ms)
Rendered _form (18.7ms)
Rendered _update_form (139.4ms)
Rendered _messages (0.8ms)
Completed in 221ms (View: 160, DB: 43) | 200 OK [http://localhost/payments/update/8?eid=ee0b978c3cd675890ece8fbb879055fd&nested=true&parent_column=payments&parent_model=Contract]
** has_many_polymorphs: autoload hook invoked
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mPayment Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `payments`[0m
  [4;36;1mSettings Load (0.2ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;35;1mContract Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `contracts`[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m


Processing PaymentsController#update (for 127.0.0.1 at 2010-12-09 21:34:54) [PUT]
  Parameters: {"eid"=>"ee0b978c3cd675890ece8fbb879055fd", "parent_column"=>"payments", "commit"=>"更新", "nested"=>"true", "action"=>"update", "_method"=>"put", "authenticity_token"=>"Ed0tRYf9S1uM5pLhjh6QBB/w9MB3r7ph7tr9VKKhyaU=", "id"=>"8", "parent_model"=>"Contract", "controller"=>"payments", "record"=>{"memo"=>"", "amount"=>"222", "has_deliverables"=>"false", "pay_date"=>"2010-12-03"}}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2010-12-09 13:34:54', `perishable_token` = '0qkpOo5b9WyNFxHGF5GG', `last_request_at` = '2010-12-09 13:34:54' WHERE `id` = 1[0m
  [4;36;1mSQL (53.3ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mPayment Load (0.1ms)[0m   [0mSELECT * FROM `payments` WHERE (`payments`.`id` = 8) [0m
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mPayment Update (14.8ms)[0m   [0;1mUPDATE `payments` SET `updated_at` = '2010-12-09 13:34:54', `pay_date` = '2010-12-03' WHERE `id` = 8[0m
  [4;35;1mSQL (44.1ms)[0m   [0mCOMMIT[0m
Rendering on_update
Rendered _list_record_columns (3.3ms)
Rendered _list_actions (5.6ms)
Rendered _list_record (18.7ms)
Rendered _messages (0.8ms)
Completed in 282ms (View: 43, DB: 117) | 200 OK [http://localhost/payments/update/8?eid=ee0b978c3cd675890ece8fbb879055fd&nested=true&parent_column=payments&parent_model=Contract]
** has_many_polymorphs: autoload hook invoked
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mPayment Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `payments`[0m
  [4;35;1mSettings Load (0.2ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;36;1mContract Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `contracts`[0m
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m


Processing PaymentsController#row (for 127.0.0.1 at 2010-12-09 21:39:25) [GET]
  Parameters: {"eid"=>"ee0b978c3cd675890ece8fbb879055fd", "parent_column"=>"payments", "nested"=>"true", "action"=>"row", "_method"=>"get", "amp"=>nil, "id"=>"8", "parent_model"=>"Contract", "controller"=>"payments"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2010-12-09 13:39:25', `perishable_token` = '1XoDUBfE6M26eKAABLb', `last_request_at` = '2010-12-09 13:39:25' WHERE `id` = 1[0m
  [4;35;1mSQL (33.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mPayment Load (0.3ms)[0m   [0;1mSELECT * FROM `payments` WHERE (`payments`.`id` = 8) [0m
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
Rendered _list_record_columns (4.0ms)
Rendered _list_actions (6.0ms)
Rendered _list_record (20.2ms)
Completed in 87ms (View: 33, DB: 38) | 200 OK [http://localhost/payments/row/8?_method=get&amp;eid=ee0b978c3cd675890ece8fbb879055fd&amp;nested=true&amp;parent_column=payments&amp;parent_model=Contract]
** has_many_polymorphs: autoload hook invoked
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mContract Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `contracts`[0m
  [4;35;1mSettings Load (0.2ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m


Processing ContractsController#nested (for 127.0.0.1 at 2010-12-09 21:39:27) [GET]
  Parameters: {"action"=>"nested", "_method"=>"get", "adapter"=>"_list_inline_adapter", "id"=>"1", "controller"=>"contracts", "associations"=>"payment_periods"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2010-12-09 13:39:28', `perishable_token` = 'r7xjOrldKHvSuBsc3ts8', `last_request_at` = '2010-12-09 13:39:28' WHERE `id` = 1[0m
  [4;36;1mSQL (69.3ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mPaymentPeriod Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `payment_periods`[0m
Start rendering component ({:params=>{:parent_column=>"payment_periods", :parent_model=>"Contract", :format=>"html", :eid=>"27aab028977f453c4ef738081a731981", :nested=>true}, :controller=>"payment_periods", :action=>"index"}): 


Processing PaymentPeriodsController#index to html (for 127.0.0.1 at 2010-12-09 21:39:28) [GET]
  Parameters: {"parent_column"=>"payment_periods", "eid"=>"27aab028977f453c4ef738081a731981", "format"=>"html", "nested"=>true, "action"=>"index", "id"=>nil, "parent_model"=>"Contract", "controller"=>"payment_periods"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2010-12-09 13:39:28', `perishable_token` = 'PaEwTD3pXj47LmSE2qW7', `last_request_at` = '2010-12-09 13:39:28' WHERE `id` = 1[0m
  [4;36;1mSQL (90.8ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.4ms)[0m   [0mSELECT count(DISTINCT `payment_periods`.id) AS count_all FROM `payment_periods` LEFT OUTER JOIN `contracts` ON `contracts`.id = `payment_periods`.contract_id WHERE (((payment_periods.contract_id = '1'))) [0m
  [4;36;1mPaymentPeriod Load (0.3ms)[0m   [0;1mSELECT `payment_periods`.* FROM `payment_periods` WHERE (((payment_periods.contract_id = '1'))) ORDER BY `payment_periods`.`id` ASC LIMIT 0, 15[0m
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
Rendering list
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
Rendered _list_header (8.6ms)
Rendered _list_column_headings (16.7ms)
Rendered _messages (0.9ms)
Rendered _list_messages (10.9ms)
Rendered _list_record_columns (4.1ms)
Rendered _list_actions (14.7ms)
Rendered _list_record (142.0ms)
Rendered _list_record_columns (3.4ms)
Rendered _list_actions (5.4ms)
Rendered _list_record (9.9ms)
Rendered _list_record_columns (3.2ms)
Rendered _list_actions (5.0ms)
Rendered _list_record (9.2ms)
Rendered _list_pagination (1.1ms)
Rendered _list (210.2ms)
Completed in 349ms (View: 243, DB: 93) | 200 OK [http://localhost/contracts/1/nested?_method=get&associations=payment_periods&adapter=_list_inline_adapter]


End of component rendering
Rendered _nested (479.8ms)
Rendered _messages (0.8ms)
Rendered _list_inline_adapter (6.7ms)
Completed in 590ms (View: 11, DB: 0) | 200 OK [http://localhost/contracts/1/nested?_method=get&associations=payment_periods&adapter=_list_inline_adapter]
** has_many_polymorphs: autoload hook invoked
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mPaymentPeriod Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `payment_periods`[0m
  [4;35;1mSettings Load (0.2ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;36;1mContract Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `contracts`[0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m


Processing PaymentPeriodsController#edit (for 127.0.0.1 at 2010-12-09 21:39:30) [GET]
  Parameters: {"eid"=>"27aab028977f453c4ef738081a731981", "parent_column"=>"payment_periods", "nested"=>"true", "action"=>"edit", "_method"=>"get", "adapter"=>"_list_inline_adapter", "id"=>"3", "parent_model"=>"Contract", "controller"=>"payment_periods"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2010-12-09 13:39:30', `perishable_token` = 'ZAqfcQ2tUfikuJdjdBZ', `last_request_at` = '2010-12-09 13:39:30' WHERE `id` = 1[0m
  [4;35;1mSQL (34.3ms)[0m   [0mCOMMIT[0m
  [4;36;1mPaymentPeriod Load (0.4ms)[0m   [0;1mSELECT * FROM `payment_periods` WHERE (`payment_periods`.`id` = 3) [0m
  [4;35;1mContract Load (0.2ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
Rendered _form_attribute (2.6ms)
Rendered _form_attribute (1.7ms)
Rendered _form_attribute (1.9ms)
Rendered _form_attribute (1.0ms)
Rendered _form (19.6ms)
Rendered _update_form (35.4ms)
Rendered _messages (1.0ms)
Rendered _list_inline_adapter (6.6ms)
Completed in 121ms (View: 11, DB: 0) | 200 OK [http://localhost/payment_periods/edit/3?_method=get&eid=27aab028977f453c4ef738081a731981&nested=true&parent_column=payment_periods&parent_model=Contract&adapter=_list_inline_adapter]
** has_many_polymorphs: autoload hook invoked
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mPaymentPeriod Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `payment_periods`[0m
  [4;35;1mSettings Load (0.2ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;36;1mContract Columns (1.4ms)[0m   [0;1mSHOW FIELDS FROM `contracts`[0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m


Processing PaymentPeriodsController#update (for 127.0.0.1 at 2010-12-09 21:39:34) [PUT]
  Parameters: {"eid"=>"27aab028977f453c4ef738081a731981", "parent_column"=>"payment_periods", "commit"=>"更新", "nested"=>"true", "action"=>"update", "_method"=>"put", "authenticity_token"=>"Ed0tRYf9S1uM5pLhjh6QBB/w9MB3r7ph7tr9VKKhyaU=", "id"=>"3", "parent_model"=>"Contract", "controller"=>"payment_periods", "record"=>{"start_date"=>"2010-12-04", "first_payment_date"=>"2010-12-22", "end_date"=>"2010-12-07", "num_payments"=>"1"}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2010-12-09 13:39:34', `perishable_token` = '7f9b2O5W2ajMti0KiBG', `last_request_at` = '2010-12-09 13:39:34' WHERE `id` = 1[0m
  [4;35;1mSQL (40.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mPaymentPeriod Load (0.1ms)[0m   [0;1mSELECT * FROM `payment_periods` WHERE (`payment_periods`.`id` = 3) [0m
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Rendering on_update
Rendered _form_attribute (2.6ms)
Rendered _form_attribute (1.6ms)
Rendered _form_attribute (3.9ms)
Rendered _form_attribute (1.0ms)
Rendered _form (20.8ms)
Rendered _update_form (34.5ms)
Rendered _messages (0.8ms)
Completed in 122ms (View: 56, DB: 45) | 200 OK [http://localhost/payment_periods/update/3?eid=27aab028977f453c4ef738081a731981&nested=true&parent_column=payment_periods&parent_model=Contract]
** has_many_polymorphs: autoload hook invoked
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mPaymentPeriod Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `payment_periods`[0m
  [4;35;1mSettings Load (0.2ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;36;1mContract Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `contracts`[0m
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m


Processing PaymentPeriodsController#update (for 127.0.0.1 at 2010-12-09 21:40:42) [PUT]
  Parameters: {"eid"=>"27aab028977f453c4ef738081a731981", "parent_column"=>"payment_periods", "commit"=>"更新", "nested"=>"true", "action"=>"update", "_method"=>"put", "authenticity_token"=>"Ed0tRYf9S1uM5pLhjh6QBB/w9MB3r7ph7tr9VKKhyaU=", "id"=>"3", "parent_model"=>"Contract", "controller"=>"payment_periods", "record"=>{"start_date"=>"2010-12-04", "first_payment_date"=>"2010-12-22", "end_date"=>"2010-12-07", "num_payments"=>"1"}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2010-12-09 13:40:42', `perishable_token` = 'Z5ifnS2uPEnXHjg95nWf', `last_request_at` = '2010-12-09 13:40:42' WHERE `id` = 1[0m
  [4;35;1mSQL (51.7ms)[0m   [0mCOMMIT[0m
  [4;36;1mPaymentPeriod Load (0.1ms)[0m   [0;1mSELECT * FROM `payment_periods` WHERE (`payment_periods`.`id` = 3) [0m
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Rendering on_update
Rendered _form_attribute (3.8ms)
Rendered _form_attribute (2.0ms)
Rendered _form_attribute (3.0ms)
Rendered _form_attribute (1.1ms)
Rendered _form (130.1ms)
Rendered _update_form (143.5ms)
Rendered _messages (0.9ms)
Completed in 244ms (View: 167, DB: 57) | 200 OK [http://localhost/payment_periods/update/3?eid=27aab028977f453c4ef738081a731981&nested=true&parent_column=payment_periods&parent_model=Contract]
** has_many_polymorphs: autoload hook invoked
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mPaymentPeriod Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `payment_periods`[0m
  [4;35;1mSettings Load (0.2ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;36;1mContract Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `contracts`[0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m


Processing PaymentPeriodsController#update (for 127.0.0.1 at 2010-12-09 21:43:36) [PUT]
  Parameters: {"eid"=>"27aab028977f453c4ef738081a731981", "parent_column"=>"payment_periods", "commit"=>"更新", "nested"=>"true", "action"=>"update", "_method"=>"put", "authenticity_token"=>"Ed0tRYf9S1uM5pLhjh6QBB/w9MB3r7ph7tr9VKKhyaU=", "id"=>"3", "parent_model"=>"Contract", "controller"=>"payment_periods", "record"=>{"start_date"=>"2010-12-04", "first_payment_date"=>"2010-12-22", "end_date"=>"2010-12-07", "num_payments"=>"1"}}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2010-12-09 13:43:36', `perishable_token` = '9bwc80dzhpDI0kDgZA0v', `last_request_at` = '2010-12-09 13:43:36' WHERE `id` = 1[0m
  [4;35;1mSQL (83.6ms)[0m   [0mCOMMIT[0m
  [4;36;1mPaymentPeriod Load (0.2ms)[0m   [0;1mSELECT * FROM `payment_periods` WHERE (`payment_periods`.`id` = 3) [0m
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Rendering on_update
Rendered _form_attribute (2.9ms)
Rendered _form_attribute (1.5ms)
Rendered _form_attribute (3.5ms)
Rendered _form_attribute (1.0ms)
Rendered _form (21.5ms)
Rendered _update_form (37.5ms)
Rendered _messages (0.8ms)
Completed in 299ms (View: 188, DB: 88) | 200 OK [http://localhost/payment_periods/update/3?eid=27aab028977f453c4ef738081a731981&nested=true&parent_column=payment_periods&parent_model=Contract]
** has_many_polymorphs: autoload hook invoked
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mPaymentPeriod Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `payment_periods`[0m
  [4;35;1mSettings Load (0.2ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;36;1mContract Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `contracts`[0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m


Processing PaymentPeriodsController#update (for 127.0.0.1 at 2010-12-09 21:44:42) [PUT]
  Parameters: {"eid"=>"27aab028977f453c4ef738081a731981", "parent_column"=>"payment_periods", "commit"=>"更新", "nested"=>"true", "action"=>"update", "_method"=>"put", "authenticity_token"=>"Ed0tRYf9S1uM5pLhjh6QBB/w9MB3r7ph7tr9VKKhyaU=", "id"=>"3", "parent_model"=>"Contract", "controller"=>"payment_periods", "record"=>{"start_date"=>"2010-12-04", "first_payment_date"=>"2010-12-22", "end_date"=>"2010-12-07", "num_payments"=>"1"}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2010-12-09 13:44:42', `perishable_token` = 'NuXuRiwEeudoTGZFljDk', `last_request_at` = '2010-12-09 13:44:42' WHERE `id` = 1[0m
  [4;35;1mSQL (35.3ms)[0m   [0mCOMMIT[0m
  [4;36;1mPaymentPeriod Load (0.2ms)[0m   [0;1mSELECT * FROM `payment_periods` WHERE (`payment_periods`.`id` = 3) [0m
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Rendering on_update
Rendered _form_attribute (2.6ms)
Rendered _form_attribute (1.5ms)
Rendered _form_attribute (3.1ms)
Rendered _form_attribute (1.0ms)
Rendered _form (20.1ms)
Rendered _update_form (35.2ms)
Rendered _messages (0.8ms)
Completed in 227ms (View: 59, DB: 41) | 200 OK [http://localhost/payment_periods/update/3?eid=27aab028977f453c4ef738081a731981&nested=true&parent_column=payment_periods&parent_model=Contract]
** has_many_polymorphs: autoload hook invoked
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mPaymentPeriod Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `payment_periods`[0m
  [4;35;1mSettings Load (0.2ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;36;1mContract Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `contracts`[0m
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m


Processing PaymentPeriodsController#update (for 127.0.0.1 at 2010-12-09 21:45:10) [PUT]
  Parameters: {"eid"=>"27aab028977f453c4ef738081a731981", "parent_column"=>"payment_periods", "commit"=>"更新", "nested"=>"true", "action"=>"update", "_method"=>"put", "authenticity_token"=>"Ed0tRYf9S1uM5pLhjh6QBB/w9MB3r7ph7tr9VKKhyaU=", "id"=>"3", "parent_model"=>"Contract", "controller"=>"payment_periods", "record"=>{"start_date"=>"2010-12-04", "first_payment_date"=>"2010-12-22", "end_date"=>"2010-12-07", "num_payments"=>"1"}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2010-12-09 13:45:10', `perishable_token` = 'YOPx19epmR0KMfo16q8', `last_request_at` = '2010-12-09 13:45:10' WHERE `id` = 1[0m
  [4;35;1mSQL (38.3ms)[0m   [0mCOMMIT[0m
  [4;36;1mPaymentPeriod Load (0.1ms)[0m   [0;1mSELECT * FROM `payment_periods` WHERE (`payment_periods`.`id` = 3) [0m
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Rendering on_update
Rendered _form_attribute (2.9ms)
Rendered _form_attribute (1.6ms)
Rendered _form_attribute (3.0ms)
Rendered _form_attribute (1.0ms)
Rendered _form (20.1ms)
Rendered _update_form (33.4ms)
Rendered _messages (0.8ms)
Completed in 118ms (View: 55, DB: 43) | 200 OK [http://localhost/payment_periods/update/3?eid=27aab028977f453c4ef738081a731981&nested=true&parent_column=payment_periods&parent_model=Contract]
** has_many_polymorphs: autoload hook invoked
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mPaymentPeriod Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `payment_periods`[0m
  [4;35;1mSettings Load (0.2ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;36;1mContract Columns (2.0ms)[0m   [0;1mSHOW FIELDS FROM `contracts`[0m
  [4;35;1mUser Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `users`[0m


Processing PaymentPeriodsController#update (for 127.0.0.1 at 2010-12-09 21:49:26) [PUT]
  Parameters: {"eid"=>"27aab028977f453c4ef738081a731981", "parent_column"=>"payment_periods", "commit"=>"更新", "nested"=>"true", "action"=>"update", "_method"=>"put", "authenticity_token"=>"Ed0tRYf9S1uM5pLhjh6QBB/w9MB3r7ph7tr9VKKhyaU=", "id"=>"3", "parent_model"=>"Contract", "controller"=>"payment_periods", "record"=>{"start_date"=>"2010-12-04", "first_payment_date"=>"2010-12-22", "end_date"=>"2010-12-07", "num_payments"=>"1"}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2010-12-09 13:49:26', `perishable_token` = 'e9yR7qfRU5XJFSO69nLU', `last_request_at` = '2010-12-09 13:49:26' WHERE `id` = 1[0m
  [4;35;1mSQL (53.5ms)[0m   [0mCOMMIT[0m
  [4;36;1mPaymentPeriod Load (0.2ms)[0m   [0;1mSELECT * FROM `payment_periods` WHERE (`payment_periods`.`id` = 3) [0m
  [4;35;1mContract Load (0.2ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Rendering on_update
Rendered _form_attribute (2.9ms)
Rendered _form_attribute (3.4ms)
Rendered _form_attribute (2.1ms)
Rendered _form_attribute (1.2ms)
Rendered _form (129.6ms)
Rendered _update_form (143.1ms)
Rendered _messages (0.8ms)
Completed in 250ms (View: 169, DB: 60) | 200 OK [http://localhost/payment_periods/update/3?eid=27aab028977f453c4ef738081a731981&nested=true&parent_column=payment_periods&parent_model=Contract]
** has_many_polymorphs: autoload hook invoked
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mPaymentPeriod Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `payment_periods`[0m
  [4;35;1mSettings Load (0.2ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;36;1mContract Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `contracts`[0m
  [4;35;1mUser Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `users`[0m


Processing PaymentPeriodsController#update (for 127.0.0.1 at 2010-12-09 21:49:35) [PUT]
  Parameters: {"eid"=>"27aab028977f453c4ef738081a731981", "parent_column"=>"payment_periods", "commit"=>"更新", "nested"=>"true", "action"=>"update", "_method"=>"put", "authenticity_token"=>"Ed0tRYf9S1uM5pLhjh6QBB/w9MB3r7ph7tr9VKKhyaU=", "id"=>"3", "parent_model"=>"Contract", "controller"=>"payment_periods", "record"=>{"start_date"=>"2010-12-04", "first_payment_date"=>"2010-12-22", "end_date"=>"2010-12-25", "num_payments"=>"1"}}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2010-12-09 13:49:35', `perishable_token` = 'div3V7A8KbWsVvFr73lV', `last_request_at` = '2010-12-09 13:49:35' WHERE `id` = 1[0m
  [4;35;1mSQL (31.8ms)[0m   [0mCOMMIT[0m
  [4;36;1mPaymentPeriod Load (0.1ms)[0m   [0;1mSELECT * FROM `payment_periods` WHERE (`payment_periods`.`id` = 3) [0m
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mSQL (0.1ms)[0m   [0mCOMMIT[0m
Rendering on_update
Rendered _list_record_columns (4.8ms)
Rendered _list_actions (6.5ms)
Rendered _list_record (22.3ms)
Rendered _messages (0.8ms)
Completed in 212ms (View: 155, DB: 37) | 200 OK [http://localhost/payment_periods/update/3?eid=27aab028977f453c4ef738081a731981&nested=true&parent_column=payment_periods&parent_model=Contract]
** has_many_polymorphs: autoload hook invoked
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mContract Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `contracts`[0m
  [4;35;1mSettings Load (0.2ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m


Processing ContractsController#nested (for 127.0.0.1 at 2010-12-09 21:50:05) [GET]
  Parameters: {"action"=>"nested", "_method"=>"get", "adapter"=>"_list_inline_adapter", "id"=>"1", "controller"=>"contracts", "associations"=>"attachments"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2010-12-09 13:50:05', `perishable_token` = '4ujb11oJSdHjTsupK1T', `last_request_at` = '2010-12-09 13:50:05' WHERE `id` = 1[0m
  [4;36;1mSQL (55.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mAttachment Columns (0.7ms)[0m   [0;1mSHOW FIELDS FROM `attachments`[0m
Start rendering component ({:params=>{:parent_column=>"attachments", :parent_model=>"Contract", :format=>"html", :eid=>"7ec72d339082dddcc567a8cd6076ee3f", :nested=>true}, :controller=>"attachments", :action=>"index"}): 


Processing AttachmentsController#index to html (for 127.0.0.1 at 2010-12-09 21:50:05) [GET]
  Parameters: {"parent_column"=>"attachments", "eid"=>"7ec72d339082dddcc567a8cd6076ee3f", "format"=>"html", "nested"=>true, "action"=>"index", "id"=>nil, "parent_model"=>"Contract", "controller"=>"attachments"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2010-12-09 13:50:06', `perishable_token` = 'd8gziBfzlPwbMKSFvH6L', `last_request_at` = '2010-12-09 13:50:05' WHERE `id` = 1[0m
  [4;36;1mSQL (85.5ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM `attachments` WHERE ((((attachments.attachable_id = '1') AND (attachments.attachable_type = 'Contract')))) [0m
  [4;36;1mAttachment Load (0.1ms)[0m   [0;1mSELECT `attachments`.* FROM `attachments` WHERE ((((attachments.attachable_id = '1') AND (attachments.attachable_type = 'Contract')))) ORDER BY `attachments`.`id` ASC LIMIT 0, 15[0m
Rendering list
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
Rendered _list_header (12.2ms)
Rendered _list_column_headings (2.4ms)
Rendered _messages (0.9ms)
Rendered _list_messages (12.6ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
Rendered _list_record_columns (2.7ms)
Rendered _list_actions (16.3ms)
Rendered _list_record (30.8ms)
Rendered _list_pagination (1.2ms)
Rendered _list (205.3ms)
Completed in 454ms (View: 245, DB: 87) | 200 OK [http://localhost/contracts/1/nested?_method=get&associations=attachments&adapter=_list_inline_adapter]


End of component rendering
Rendered _nested (480.2ms)
Rendered _messages (0.9ms)
Rendered _list_inline_adapter (7.8ms)
Completed in 582ms (View: 14, DB: 0) | 200 OK [http://localhost/contracts/1/nested?_method=get&associations=attachments&adapter=_list_inline_adapter]
** has_many_polymorphs: autoload hook invoked
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mSettings Load (0.1ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;35;1mAttachment Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `attachments`[0m


Processing AttachmentsController#new (for 127.0.0.1 at 2010-12-09 21:50:08) [GET]
  Parameters: {"eid"=>"7ec72d339082dddcc567a8cd6076ee3f", "parent_column"=>"attachments", "nested"=>"true", "action"=>"new", "_method"=>"get", "adapter"=>"_list_inline_adapter", "parent_model"=>"Contract", "controller"=>"attachments"}
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2010-12-09 13:50:08', `perishable_token` = 'V8hTPlb0m92ODufwycL', `last_request_at` = '2010-12-09 13:50:08' WHERE `id` = 1[0m
  [4;36;1mSQL (49.8ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mContract Columns (1.1ms)[0m   [0mSHOW FIELDS FROM `contracts`[0m
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
Rendered _form_attribute (1.8ms)
Rendered _form (9.6ms)
Rendered _create_form (25.8ms)
Rendered _messages (1.1ms)
Rendered _list_inline_adapter (122.4ms)
Completed in 392ms (View: 127, DB: 0) | 200 OK [http://localhost/attachments/new?_method=get&eid=7ec72d339082dddcc567a8cd6076ee3f&nested=true&parent_column=attachments&parent_model=Contract&adapter=_list_inline_adapter]
** has_many_polymorphs: autoload hook invoked
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mSettings Load (0.2ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;36;1mAttachment Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `attachments`[0m


Processing AttachmentsController#create (for 127.0.0.1 at 2010-12-09 21:50:10) [POST]
  Parameters: {"eid"=>"7ec72d339082dddcc567a8cd6076ee3f", "parent_column"=>"attachments", "commit"=>"创建", "nested"=>"true", "action"=>"create", "iframe"=>"true", "authenticity_token"=>"Ed0tRYf9S1uM5pLhjh6QBB/w9MB3r7ph7tr9VKKhyaU=", "parent_model"=>"Contract", "controller"=>"attachments"}
  [4;35;1mUser Columns (0.9ms)[0m   [0mSHOW FIELDS FROM `users`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2010-12-09 13:50:11', `perishable_token` = 'oWTAWuzhSqxQqZ9OKQ', `last_request_at` = '2010-12-09 13:50:11' WHERE `id` = 1[0m
  [4;35;1mSQL (38.2ms)[0m   [0mCOMMIT[0m
  [4;36;1mContract Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `contracts`[0m
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mROLLBACK[0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of Array.
The error occurred while evaluating nil.each):
  


Rendered rescues/_trace (36.3ms)
Rendered rescues/_request_and_response (1.3ms)
Rendering rescues/layout (internal_server_error)
** has_many_polymorphs: autoload hook invoked
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mContract Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `contracts`[0m
  [4;36;1mSettings Load (0.2ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m


Processing ContractsController#edit (for 127.0.0.1 at 2010-12-09 21:50:43) [GET]
  Parameters: {"action"=>"edit", "_method"=>"get", "adapter"=>"_list_inline_adapter", "id"=>"1", "controller"=>"contracts"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2010-12-09 13:50:43', `perishable_token` = 'wwfYoVEdQUj6LkdSV5Ek', `last_request_at` = '2010-12-09 13:50:43' WHERE `id` = 1[0m
  [4;35;1mSQL (92.9ms)[0m   [0mCOMMIT[0m
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
Rendered _form_attribute (1.8ms)
Rendered _form_attribute (0.9ms)
Rendered _form_attribute (1.0ms)
Rendered _form_attribute (1.7ms)
Rendered _form_attribute (1.1ms)
Rendered _form_attribute (1.0ms)
Rendered _form_attribute (1.0ms)
Rendered _form_attribute (1.9ms)
Rendered _form_attribute (1.9ms)
Rendered _form_attribute (1.0ms)
Rendered _form_attribute (1.0ms)
Rendered _form_attribute (1.4ms)
Rendered _form_attribute (1.5ms)
Rendered _form_attribute (0.9ms)
Rendered _form_attribute (0.9ms)
Rendered _form_attribute (1.0ms)
Rendered _form_attribute (0.8ms)
Rendered _form_attribute (0.8ms)
Rendered _form_attribute (0.8ms)
Rendered _form_attribute (0.8ms)
Rendered _form_attribute (0.9ms)
Rendered _form_attribute (0.8ms)
Rendered _form_attribute (0.9ms)
Rendered _form_attribute (0.8ms)
Rendered _form_attribute (1.0ms)
Rendered _form_attribute (0.8ms)
  [4;35;1mExpirationReminding Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `expiration_remindings`[0m
  [4;36;1mUser Load (76.0ms)[0m   [0;1mSELECT `users`.* FROM `users` INNER JOIN `expiration_remindings` ON `users`.id = `expiration_remindings`.user_id WHERE ((`expiration_remindings`.reminder_type = 'Contract') AND (`expiration_remindings`.reminder_id = 1)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` [0m
Rendered _form_attribute (81.9ms)
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.* FROM `users` INNER JOIN `payment_remindings` ON `users`.id = `payment_remindings`.user_id WHERE ((`payment_remindings`.contract_id = 1)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` [0m
Rendered _form_attribute (4.4ms)
Rendered _form (89.8ms)
Rendered _form (164.1ms)
Rendered _update_form (178.3ms)
Rendered _messages (0.9ms)
Rendered _list_inline_adapter (8.5ms)
Completed in 530ms (View: 126, DB: 0) | 200 OK [http://localhost/contracts/1/edit?_method=get&adapter=_list_inline_adapter]
** has_many_polymorphs: autoload hook invoked
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mContract Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `contracts`[0m
  [4;35;1mSettings Load (0.2ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;36;1mUser Columns (0.9ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m


Processing ContractsController#row (for 127.0.0.1 at 2010-12-09 21:51:12) [GET]
  Parameters: {"action"=>"row", "_method"=>"get", "id"=>"1", "controller"=>"contracts"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2010-12-09 13:51:12', `perishable_token` = 'eHJdj9mY0AyeVCgdtUK', `last_request_at` = '2010-12-09 13:51:12' WHERE `id` = 1[0m
  [4;36;1mSQL (54.4ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mPaymentPeriod Load (0.1ms)[0m   [0;1mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 1) [0m
  [4;35;1mPaymentPeriod Columns (0.5ms)[0m   [0mSHOW FIELDS FROM `payment_periods`[0m
Rendered _list_record_columns (8.6ms)
Rendered _list_actions (5.9ms)
Rendered _list_record (24.5ms)
Completed in 109ms (View: 35, DB: 59) | 200 OK [http://localhost/contracts/1/row?_method=get]
** has_many_polymorphs: autoload hook invoked
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mContract Columns (1.2ms)[0m   [0;1mSHOW FIELDS FROM `contracts`[0m
  [4;35;1mSettings Load (0.2ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;36;1mUser Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m


Processing ContractsController#edit (for 127.0.0.1 at 2010-12-09 21:52:00) [GET]
  Parameters: {"action"=>"edit", "_method"=>"get", "adapter"=>"_list_inline_adapter", "id"=>"1", "controller"=>"contracts"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2010-12-09 13:52:00', `perishable_token` = 'wkLFNu5mNjTNxICB1d', `last_request_at` = '2010-12-09 13:52:00' WHERE `id` = 1[0m
  [4;36;1mSQL (60.2ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
Rendered _form_attribute (2.1ms)
Rendered _form_attribute (0.9ms)
Rendered _form_attribute (1.0ms)
Rendered _form_attribute (1.8ms)
Rendered _form_attribute (1.0ms)
Rendered _form_attribute (1.0ms)
Rendered _form_attribute (1.0ms)
Rendered _form_attribute (2.1ms)
Rendered _form_attribute (1.8ms)
Rendered _form_attribute (0.9ms)
Rendered _form_attribute (1.1ms)
Rendered _form_attribute (1.4ms)
Rendered _form_attribute (1.4ms)
Rendered _form_attribute (1.0ms)
Rendered _form_attribute (0.8ms)
Rendered _form_attribute (0.9ms)
Rendered _form_attribute (0.8ms)
Rendered _form_attribute (0.8ms)
Rendered _form_attribute (0.8ms)
Rendered _form_attribute (0.8ms)
Rendered _form_attribute (0.9ms)
Rendered _form_attribute (0.7ms)
Rendered _form_attribute (0.9ms)
Rendered _form_attribute (0.9ms)
Rendered _form_attribute (1.0ms)
Rendered _form_attribute (0.9ms)
  [4;36;1mExpirationReminding Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `expiration_remindings`[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.* FROM `users` INNER JOIN `expiration_remindings` ON `users`.id = `expiration_remindings`.user_id WHERE ((`expiration_remindings`.reminder_type = 'Contract') AND (`expiration_remindings`.reminder_id = 1)) [0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` [0m
Rendered _form_attribute (6.2ms)
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT `users`.* FROM `users` INNER JOIN `payment_remindings` ON `users`.id = `payment_remindings`.user_id WHERE ((`payment_remindings`.contract_id = 1)) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM `users` [0m
Rendered _form_attribute (4.4ms)
Rendered _form (13.9ms)
Rendered _form (91.5ms)
Rendered _update_form (110.4ms)
Rendered _messages (0.9ms)
Rendered _list_inline_adapter (6.6ms)
Completed in 311ms (View: 11, DB: 0) | 200 OK [http://localhost/contracts/1/edit?_method=get&adapter=_list_inline_adapter]
** has_many_polymorphs: autoload hook invoked
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mContract Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `contracts`[0m
  [4;36;1mSettings Load (0.2ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m


Processing ContractsController#row (for 127.0.0.1 at 2010-12-09 21:55:26) [GET]
  Parameters: {"action"=>"row", "_method"=>"get", "id"=>"1", "controller"=>"contracts"}
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2010-12-09 13:55:26', `perishable_token` = 'hHSbUeeP6VEgoGvAyY', `last_request_at` = '2010-12-09 13:55:26' WHERE `id` = 1[0m
  [4;35;1mSQL (44.8ms)[0m   [0mCOMMIT[0m
  [4;36;1mContract Load (0.1ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;35;1mPaymentPeriod Load (0.1ms)[0m   [0mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 1) [0m
  [4;36;1mPaymentPeriod Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `payment_periods`[0m
Rendered _list_record_columns (8.6ms)
Rendered _list_actions (6.7ms)
Rendered _list_record (26.7ms)
Completed in 103ms (View: 39, DB: 49) | 200 OK [http://localhost/contracts/1/row?_method=get]
** has_many_polymorphs: autoload hook invoked
  [4;35;1mSQL (0.1ms)[0m   [0mSET NAMES 'utf8'[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET SQL_AUTO_IS_NULL=0[0m
  [4;35;1mContract Columns (1.2ms)[0m   [0mSHOW FIELDS FROM `contracts`[0m
  [4;36;1mSettings Load (0.2ms)[0m   [0;1mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;35;1mUser Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `users`[0m


Processing ContractsController#edit (for 127.0.0.1 at 2010-12-09 21:55:27) [GET]
  Parameters: {"action"=>"edit", "_method"=>"get", "adapter"=>"_list_inline_adapter", "id"=>"1", "controller"=>"contracts"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;35;1mSQL (0.1ms)[0m   [0mBEGIN[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE `users` SET `updated_at` = '2010-12-09 13:55:28', `perishable_token` = 'Cz63RMzUNMIcixwbtY', `last_request_at` = '2010-12-09 13:55:28' WHERE `id` = 1[0m
  [4;35;1mSQL (53.8ms)[0m   [0mCOMMIT[0m
  [4;36;1mContract Load (0.2ms)[0m   [0;1mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
Rendered _form_attribute (1.8ms)
Rendered _form_attribute (0.9ms)
Rendered _form_attribute (0.9ms)
Rendered _form_attribute (2.0ms)
Rendered _form_attribute (1.1ms)
Rendered _form_attribute (1.1ms)
Rendered _form_attribute (1.1ms)
Rendered _form_attribute (2.1ms)
Rendered _form_attribute (2.0ms)
Rendered _form_attribute (1.1ms)
Rendered _form_attribute (1.0ms)
Rendered _form_attribute (1.6ms)
Rendered _form_attribute (1.6ms)
Rendered _form_attribute (1.0ms)
Rendered _form_attribute (0.9ms)
Rendered _form_attribute (1.0ms)
Rendered _form_attribute (0.9ms)
Rendered _form_attribute (0.9ms)
Rendered _form_attribute (0.8ms)
Rendered _form_attribute (0.9ms)
Rendered _form_attribute (1.0ms)
Rendered _form_attribute (0.8ms)
Rendered _form_attribute (0.9ms)
Rendered _form_attribute (0.8ms)
Rendered _form_attribute (1.0ms)
Rendered _form_attribute (0.8ms)
  [4;35;1mExpirationReminding Columns (0.7ms)[0m   [0mSHOW FIELDS FROM `expiration_remindings`[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.* FROM `users` INNER JOIN `expiration_remindings` ON `users`.id = `expiration_remindings`.user_id WHERE ((`expiration_remindings`.reminder_type = 'Contract') AND (`expiration_remindings`.reminder_id = 1)) [0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` [0m
Rendered _form_attribute (6.4ms)
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT `users`.* FROM `users` INNER JOIN `payment_remindings` ON `users`.id = `payment_remindings`.user_id WHERE ((`payment_remindings`.contract_id = 1)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` [0m
Rendered _form_attribute (4.5ms)
Rendered _form (14.3ms)
Rendered _form (200.0ms)
Rendered _update_form (209.9ms)
Rendered _messages (0.9ms)
Rendered _list_inline_adapter (6.8ms)
Completed in 309ms (View: 11, DB: 0) | 200 OK [http://localhost/contracts/1/edit?_method=get&adapter=_list_inline_adapter]
** has_many_polymorphs: autoload hook invoked
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mContract Columns (1.1ms)[0m   [0;1mSHOW FIELDS FROM `contracts`[0m
  [4;35;1mSettings Load (0.2ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m


Processing ContractsController#row (for 127.0.0.1 at 2010-12-09 21:56:22) [GET]
  Parameters: {"action"=>"row", "_method"=>"get", "id"=>"1", "controller"=>"contracts"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2010-12-09 13:56:22', `perishable_token` = '8oGI9v4GnDfHkiTk1Zg5', `last_request_at` = '2010-12-09 13:56:22' WHERE `id` = 1[0m
  [4;36;1mSQL (39.7ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mContract Load (0.1ms)[0m   [0mSELECT * FROM `contracts` WHERE (`contracts`.`id` = 1) [0m
  [4;36;1mPaymentPeriod Load (0.1ms)[0m   [0;1mSELECT * FROM `payment_periods` WHERE (`payment_periods`.contract_id = 1) [0m
  [4;35;1mPaymentPeriod Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `payment_periods`[0m
Rendered _list_record_columns (9.5ms)
Rendered _list_actions (6.6ms)
Rendered _list_record (29.0ms)
Completed in 206ms (View: 147, DB: 44) | 200 OK [http://localhost/contracts/1/row?_method=get]
** has_many_polymorphs: autoload hook invoked
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mContract Columns (1.3ms)[0m   [0;1mSHOW FIELDS FROM `contracts`[0m
  [4;35;1mSettings Load (0.2ms)[0m   [0mSELECT * FROM `settings` WHERE (`settings`.`var` = 'upload_limit') LIMIT 1[0m
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m


Processing ContractsController#new (for 127.0.0.1 at 2010-12-09 21:56:23) [GET]
  Parameters: {"action"=>"new", "_method"=>"get", "adapter"=>"_list_inline_adapter", "controller"=>"contracts"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2010-12-09 13:56:23', `perishable_token` = 'KcFZJMxle3Q7wz5YPx0', `last_request_at` = '2010-12-09 13:56:23' WHERE `id` = 1[0m
  [4;36;1mSQL (46.3ms)[0m   [0;1mCOMMIT[0m
Rendered _form_attribute (1.8ms)
Rendered _form_attribute (0.8ms)
Rendered _form_attribute (0.8ms)
Rendered _form_attribute (1.7ms)
Rendered _form_attribute (0.9ms)
Rendered _form_attribute (1.1ms)
Rendered _form_attribute (1.1ms)
Rendered _form_attribute (1.6ms)
Rendered _form_attribute (1.6ms)
Rendered _form_attribute (0.9ms)
Rendered _form_attribute (0.9ms)
Rendered _form_attribute (1.6ms)
Rendered _form_attribute (1.4ms)
Rendered _form_attribute (0.8ms)
Rendered _form_attribute (0.8ms)
Rendered _form_attribute (1.4ms)
Rendered _form_attribute (1.0ms)
Rendered _form_attribute (1.0ms)
Rendered _form_attribute (0.8ms)
Rendered _form_attribute (0.9ms)
Rendered _form_attribute (1.0ms)
Rendered _form_attribute (0.9ms)
Rendered _form_attribute (0.9ms)
Rendered _form_attribute (0.9ms)
Rendered _form_attribute (1.1ms)
Rendered _form_attribute (0.9ms)
  [4;35;1mExpirationReminding Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `expiration_remindings`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` [0m
Rendered _form_attribute (5.6ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM `users` [0m
Rendered _form_attribute (3.3ms)
Rendered _form (12.7ms)
Rendered _form (201.5ms)
Rendered _create_form (213.8ms)
Rendered _messages (0.9ms)
Rendered _list_inline_adapter (7.1ms)
Completed in 307ms (View: 12, DB: 0) | 200 OK [http://localhost/contracts/new?_method=get&adapter=_list_inline_adapter]
** has_many_polymorphs: autoload hook invoked
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m


Processing UsersController#index (for 127.0.0.1 at 2010-12-09 21:56:42) [GET]
  Parameters: {"action"=>"index", "controller"=>"users"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE `users` SET `updated_at` = '2010-12-09 13:56:42', `perishable_token` = 'Bh2QekItEGEGneUJYF', `last_request_at` = '2010-12-09 13:56:42' WHERE `id` = 1[0m
  [4;36;1mSQL (29.4ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mroles_users Columns (0.8ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (1.0ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM `users` [0m
  [4;35;1mUser Load (21.9ms)[0m   [0mSELECT `users`.* FROM `users` ORDER BY `users`.`username` ASC LIMIT 0, 15[0m
Rendering template within layouts/application
Rendering list
Rendered _list_header (5.1ms)
Rendered _list_column_headings (8.0ms)
Rendered _messages (0.9ms)
Rendered _list_messages (124.7ms)
Rendered _list_record_columns (2.1ms)
Rendered _list_actions (6.6ms)
Rendered _list_record (18.7ms)
Rendered _list_record_columns (1.2ms)
Rendered _list_actions (7.5ms)
Rendered _list_record (9.8ms)
Rendered _list_record_columns (1.2ms)
Rendered _list_actions (3.2ms)
Rendered _list_record (5.3ms)
Rendered _list_record_columns (1.2ms)
Rendered _list_actions (3.0ms)
Rendered _list_record (5.1ms)
Rendered _list_record_columns (1.2ms)
Rendered _list_actions (3.0ms)
Rendered _list_record (5.0ms)
Rendered _list_record_columns (1.2ms)
Rendered _list_actions (3.3ms)
Rendered _list_record (5.8ms)
Rendered _list_record_columns (1.3ms)
Rendered _list_actions (3.5ms)
Rendered _list_record (5.8ms)
Rendered _list_pagination (1.1ms)
Rendered _list (210.9ms)
Completed in 520ms (View: 441, DB: 56) | 200 OK [http://localhost/users]
** has_many_polymorphs: autoload hook invoked
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (1.0ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m


Processing UsersController#edit (for 127.0.0.1 at 2010-12-09 21:56:45) [GET]
  Parameters: {"action"=>"edit", "_method"=>"get", "adapter"=>"_list_inline_adapter", "id"=>"3", "controller"=>"users"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE `users` SET `updated_at` = '2010-12-09 13:56:45', `perishable_token` = 'uIhP7d0oChZSMVE6dIw3', `last_request_at` = '2010-12-09 13:56:45' WHERE `id` = 1[0m
  [4;36;1mSQL (48.9ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 3) [0m
  [4;35;1mYcrole Load (0.1ms)[0m   [0mSELECT `ycroles`.* FROM `ycroles` INNER JOIN `user_ycroles` ON `ycroles`.id = `user_ycroles`.ycrole_id WHERE ((`user_ycroles`.user_id = 3)) [0m
  [4;36;1mYcrole Columns (0.6ms)[0m   [0;1mSHOW FIELDS FROM `ycroles`[0m
  [4;35;1mYcrole Load (0.1ms)[0m   [0mSELECT * FROM `ycroles` [0m
Rendered _form_attribute (6.4ms)
Rendered _form (13.4ms)
Rendered _update_form (27.7ms)
Rendered _messages (1.0ms)
Rendered _list_inline_adapter (6.8ms)
Completed in 127ms (View: 11, DB: 0) | 200 OK [http://localhost/users/3/edit?_method=get&adapter=_list_inline_adapter]
** has_many_polymorphs: autoload hook invoked
  [4;36;1mSQL (0.1ms)[0m   [0;1mSET NAMES 'utf8'[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSET SQL_AUTO_IS_NULL=0[0m
  [4;36;1mUser Columns (0.8ms)[0m   [0;1mSHOW FIELDS FROM `users`[0m


Processing UsersController#row (for 127.0.0.1 at 2010-12-09 21:56:54) [GET]
  Parameters: {"action"=>"row", "_method"=>"get", "id"=>"3", "controller"=>"users"}
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM `users` WHERE (`users`.`id` = '1') LIMIT 1[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mBEGIN[0m
  [4;35;1mUser Update (0.5ms)[0m   [0mUPDATE `users` SET `updated_at` = '2010-12-09 13:56:54', `perishable_token` = 'Zuyv5u88KtzpPSfUaHy', `last_request_at` = '2010-12-09 13:56:54' WHERE `id` = 1[0m
  [4;36;1mSQL (38.6ms)[0m   [0;1mCOMMIT[0m
  [4;35;1mroles_users Columns (0.6ms)[0m   [0mSHOW FIELDS FROM `roles_users`[0m
  [4;36;1mRole Load (0.1ms)[0m   [0;1mSELECT * FROM `roles` INNER JOIN `roles_users` ON `roles`.id = `roles_users`.role_id WHERE (`roles_users`.user_id = 1 ) [0m
  [4;35;1mRole Columns (0.4ms)[0m   [0mSHOW FIELDS FROM `roles`[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM `users` WHERE (`users`.`id` = 3) [0m
Rendered _list_record_columns (2.2ms)
Rendered _list_actions (4.6ms)
Rendered _list_record (16.9ms)
Completed in 87ms (View: 29, DB: 42) | 200 OK [http://localhost/users/3/row?_method=get]
